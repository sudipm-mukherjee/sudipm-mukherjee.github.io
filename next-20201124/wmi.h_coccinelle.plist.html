<!DOCTYPE html>
<html>
  <head>
    <title>Plist HTML Viewer</title>

    <meta charset="UTF-8">

    <style type="text/css">
      .CodeMirror{font-family:monospace;height:300px;color:#000;direction:ltr}.CodeMirror-lines{padding:4px 0}.CodeMirror pre{padding:0 4px}.CodeMirror-gutter-filler,.CodeMirror-scrollbar-filler{background-color:#fff}.CodeMirror-gutters{border-right:1px solid #ddd;background-color:#f7f7f7;white-space:nowrap}.CodeMirror-linenumber{padding:0 3px 0 5px;min-width:20px;text-align:right;color:#999;white-space:nowrap}.CodeMirror-guttermarker{color:#000}.CodeMirror-guttermarker-subtle{color:#999}.CodeMirror-cursor{border-left:1px solid #000;border-right:none;width:0}.CodeMirror div.CodeMirror-secondarycursor{border-left:1px solid silver}.cm-fat-cursor .CodeMirror-cursor{width:auto;border:0!important;background:#7e7}.cm-fat-cursor div.CodeMirror-cursors{z-index:1}.cm-animate-fat-cursor{width:auto;border:0;-webkit-animation:blink 1.06s steps(1) infinite;-moz-animation:blink 1.06s steps(1) infinite;animation:blink 1.06s steps(1) infinite;background-color:#7e7}@-moz-keyframes blink{50%{background-color:transparent}}@-webkit-keyframes blink{50%{background-color:transparent}}@keyframes blink{50%{background-color:transparent}}.cm-tab{display:inline-block;text-decoration:inherit}.CodeMirror-rulers{position:absolute;left:0;right:0;top:-50px;bottom:-20px;overflow:hidden}.CodeMirror-ruler{border-left:1px solid #ccc;top:0;bottom:0;position:absolute}.cm-s-default .cm-header{color:#00f}.cm-s-default .cm-quote{color:#090}.cm-negative{color:#d44}.cm-positive{color:#292}.cm-header,.cm-strong{font-weight:700}.cm-em{font-style:italic}.cm-link{text-decoration:underline}.cm-strikethrough{text-decoration:line-through}.cm-s-default .cm-keyword{color:#708}.cm-s-default .cm-atom{color:#219}.cm-s-default .cm-number{color:#164}.cm-s-default .cm-def{color:#00f}.cm-s-default .cm-variable-2{color:#05a}.cm-s-default .cm-type,.cm-s-default .cm-variable-3{color:#085}.cm-s-default .cm-comment{color:#a50}.cm-s-default .cm-string{color:#a11}.cm-s-default .cm-string-2{color:#f50}.cm-s-default .cm-meta{color:#555}.cm-s-default .cm-qualifier{color:#555}.cm-s-default .cm-builtin{color:#30a}.cm-s-default .cm-bracket{color:#997}.cm-s-default .cm-tag{color:#170}.cm-s-default .cm-attribute{color:#00c}.cm-s-default .cm-hr{color:#999}.cm-s-default .cm-link{color:#00c}.cm-s-default .cm-error{color:red}.cm-invalidchar{color:red}.CodeMirror-composing{border-bottom:2px solid}div.CodeMirror span.CodeMirror-matchingbracket{color:#0f0}div.CodeMirror span.CodeMirror-nonmatchingbracket{color:#f22}.CodeMirror-matchingtag{background:rgba(255,150,0,.3)}.CodeMirror-activeline-background{background:#e8f2ff}.CodeMirror{position:relative;overflow:hidden;background:#fff}.CodeMirror-scroll{overflow:scroll!important;margin-bottom:-30px;margin-right:-30px;padding-bottom:30px;height:100%;outline:0;position:relative}.CodeMirror-sizer{position:relative;border-right:30px solid transparent}.CodeMirror-gutter-filler,.CodeMirror-hscrollbar,.CodeMirror-scrollbar-filler,.CodeMirror-vscrollbar{position:absolute;z-index:6;display:none}.CodeMirror-vscrollbar{right:0;top:0;overflow-x:hidden;overflow-y:scroll}.CodeMirror-hscrollbar{bottom:0;left:0;overflow-y:hidden;overflow-x:scroll}.CodeMirror-scrollbar-filler{right:0;bottom:0}.CodeMirror-gutter-filler{left:0;bottom:0}.CodeMirror-gutters{position:absolute;left:0;top:0;min-height:100%;z-index:3}.CodeMirror-gutter{white-space:normal;height:100%;display:inline-block;vertical-align:top;margin-bottom:-30px}.CodeMirror-gutter-wrapper{position:absolute;z-index:4;background:0 0!important;border:none!important}.CodeMirror-gutter-background{position:absolute;top:0;bottom:0;z-index:4}.CodeMirror-gutter-elt{position:absolute;cursor:default;z-index:4}.CodeMirror-gutter-wrapper ::selection{background-color:transparent}.CodeMirror-gutter-wrapper ::-moz-selection{background-color:transparent}.CodeMirror-lines{cursor:text;min-height:1px}.CodeMirror pre{-moz-border-radius:0;-webkit-border-radius:0;border-radius:0;border-width:0;background:0 0;font-family:inherit;font-size:inherit;margin:0;white-space:pre;word-wrap:normal;line-height:inherit;color:inherit;z-index:2;position:relative;overflow:visible;-webkit-tap-highlight-color:transparent;-webkit-font-variant-ligatures:contextual;font-variant-ligatures:contextual}.CodeMirror-wrap pre{word-wrap:break-word;white-space:pre-wrap;word-break:normal}.CodeMirror-linebackground{position:absolute;left:0;right:0;top:0;bottom:0;z-index:0}.CodeMirror-linewidget{position:relative;z-index:2;overflow:auto}.CodeMirror-rtl pre{direction:rtl}.CodeMirror-code{outline:0}.CodeMirror-gutter,.CodeMirror-gutters,.CodeMirror-linenumber,.CodeMirror-scroll,.CodeMirror-sizer{-moz-box-sizing:content-box;box-sizing:content-box}.CodeMirror-measure{position:absolute;width:100%;height:0;overflow:hidden;visibility:hidden}.CodeMirror-cursor{position:absolute;pointer-events:none}.CodeMirror-measure pre{position:static}div.CodeMirror-cursors{visibility:hidden;position:relative;z-index:3}div.CodeMirror-dragcursors{visibility:visible}.CodeMirror-focused div.CodeMirror-cursors{visibility:visible}.CodeMirror-selected{background:#d9d9d9}.CodeMirror-focused .CodeMirror-selected{background:#d7d4f0}.CodeMirror-crosshair{cursor:crosshair}.CodeMirror-line::selection,.CodeMirror-line>span::selection,.CodeMirror-line>span>span::selection{background:#d7d4f0}.CodeMirror-line::-moz-selection,.CodeMirror-line>span::-moz-selection,.CodeMirror-line>span>span::-moz-selection{background:#d7d4f0}.cm-searching{background-color:#ffa;background-color:rgba(255,255,0,.4)}.cm-force-border{padding-right:.1px}@media print{.CodeMirror div.CodeMirror-cursors{visibility:hidden}}.cm-tab-wrap-hack:after{content:''}span.CodeMirror-selectedtext{background:0 0}
/*# sourceMappingURL=codemirror.min.css.map */

      .severity-low {
  background-color: #669603;
}

.severity-low:after {
  content : 'L';
}

.severity-unspecified {
  background-color: #666666;
}

.severity-unspecified:after {
  content : 'U';
}

.severity-style {
  background-color: #9932cc;
}

.severity-style:after {
  content : 'S';
}

.severity-medium {
  background-color: #a9d323;
  color: black;
}

.severity-medium:after {
  content : 'M';
}

.severity-high {
  background-color: #ffa800;
}

.severity-high:after {
  content : 'H';
}

.severity-critical {
  background-color: #e92625;
}

.severity-critical:after {
  content : 'C';
}

i[class*="severity-"] {
  line-height: normal;
  text-transform: capitalize;
  font-size: 0.8em;
  font-weight: bold;
  color: white;
  display: inline-block;
  width: 16px;
  height: 16px;
  text-align: center;
  font-family: sans-serif;
}

      html, body {
  width: 100%;
  height: 100%;
  padding: 0px;
  margin: 0px;
}

div.container {
  padding: 10px;
}

#content {
  height: 100%;
  display: block;
  overflow: hidden;
}

#content > div {
  margin: 10px;
  overflow: hidden;
  border: 1px solid #ddd;
  border-radius: 3px;
  overflow: hidden;
  height: 97%;
}

.button {
  background-color: #f1f1f1;
  text-decoration: none;
  display: inline-block;
  padding: 8px 16px;
  color: black;
  cursor: pointer;
}

.button:hover {
  background-color: #ddd;
  color: black;
}

.review-status {
  color: white;
  text-align: center;
}

.review-status-confirmed {
  background-color: #e92625;
}

.review-status-false-positive {
  background-color: grey;
}

.review-status-intentional {
  background-color: #669603;
}

      div.container {
  width: 100%;
  height: 100%;
  padding: 0px;
}

#editor-wrapper {
  margin: 10px;
}

#side-bar {
  float: left;
  width: 260px;
  margin: 0px;
}

#report-nav ul {
  list-style-type: none;
  padding: 0;
  margin: 0;
  overflow-y: auto;
  height: 100%;
}

#report-nav ul > li {
  padding: .4em;
  background-color: #fff;
  border-bottom: 1px solid rgba(0,0,0,.125);
  text-align: left;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
}

#report-nav ul > li.active {
  background-color: #427ea9;
  color: white;
}

#report-nav ul > li:hover {
  background-color: #427ea9;
  color: white;
  cursor: pointer;
}

#report-nav ul a {
  text-decoration: none;
}

#report-nav i[class*="severity-"] {
  margin-right: 5px;
}

.header {
  border-bottom: 1px solid lightgrey;
  font-family: monospace;
  padding: 10px;
  background-color: #fafbfc;
  border-bottom: 1px solid #e1e4e8;
  border-top-left-radius: 2px;
  border-top-right-radius: 2px;
}

#report-nav .header {
  font-weight: bold;
}

#editor-wrapper .header > div {
  padding-top: 2px;
}

#file-path,
#checker-name {
  color: #195ea2;
}

#review-status {
  padding: 0px 5px;
}

#file-path {
  font-family: monospace;
}

.check-msg {
  display: inline-block;
  padding: 3px 6px;
  margin: 1px;
  -webkit-border-radius: 5px;
  -moz-border-radius: 5px;
  border-radius: 5px;
}

.check-msg.info {
  color: #00546f;
  background-color: #bfdfe9;
  border: 1px solid #87a8b3;
}

.check-msg.error {
  background-color: #f2dede;
  color: #a94442;
  border: 1px solid #ebcccc;
}

.check-msg.macro {
  background-color: #d7dac2;
  color: #4f5c6d;
  border: 1px solid #d7dac2;
}

.check-msg.note {
  background-color: #d7d7d7;
  color: #4f5c6d;
  border: 1px solid #bfbfbf;
}

.check-msg.current {
  border: 2px dashed #3692ff;
}

.check-msg .tag {
  padding: 1px 5px;
  text-align: center;
  border-radius: 2px;
  margin-right: 5px;
  text-decoration: inherit;
}

.check-msg .tag.macro {
  background-color: #83876a;
  color: white;
  text-transform: capitalize;
}

.check-msg .tag.note {
  background-color: #9299a1;
  color: white;
  text-transform: capitalize;
}

.checker-enum {
  color: white;
  padding: 1px 5px;
  text-align: center;
  border-radius: 25px;
  margin-right: 5px;
  text-decoration: inherit;
}

.checker-enum.info {
  background-color: #427ea9;
}

.checker-enum.error {
  background-color: #a94442;
}

.arrow {
  border: solid black;
  border-width: 0 3px 3px 0;
  display: inline-block;
  padding: 3px;
  cursor: pointer;
  margin: 0px 5px;
}

.arrow:hover {
  border: solid #437ea8;
  border-width: 0 3px 3px 0;
}

.left-arrow {
  transform: rotate(135deg);
  -webkit-transform: rotate(135deg);
}

.right-arrow {
  transform: rotate(-45deg);
  -webkit-transform: rotate(-45deg);
}

    </style>

    <script type="text/javascript">
      function setNonCompatibleBrowserMessage() {
  document.body.innerHTML =
    '<h2 style="margin-left: 20px;">Your browser is not compatible with CodeChecker Viewer!</h2> \
     <p style="margin-left: 20px;">The version required for the following browsers are:</p> \
     <ul style="margin-left: 20px;"> \
     <li>Internet Explorer: version 9 or newer</li> \
     <li>Firefox: version 22.0 or newer</li> \
     </ul>';
}

// http://stackoverflow.com/questions/5916900/how-can-you-detect-the-version-of-a-browser
var browserVersion = (function(){
  var ua = navigator.userAgent, tem,
    M = ua.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i) || [];

  if (/trident/i.test(M[1])) {
    tem = /\brv[ :]+(\d+)/g.exec(ua) || [];
    return 'IE ' + (tem[1] || '');
  }

  if (M[1] === 'Chrome') {
    tem = ua.match(/\b(OPR|Edge)\/(\d+)/);
    if (tem != null) return tem.slice(1).join(' ').replace('OPR', 'Opera');
  }

  M = M[2] ? [M[1], M[2]] : [navigator.appName, navigator.appVersion, '-?'];
  if ((tem = ua.match(/version\/(\d+)/i)) != null) M.splice(1, 1, tem[1]);
    return M.join(' ');
})();

var pos = browserVersion.indexOf(' ');
var browser = browserVersion.substr(0, pos);
var version = parseInt(browserVersion.substr(pos + 1));

var browserCompatible
  = browser === 'Firefox'
  ? version >= 22
  : browser === 'IE'
  ? version >= 9
  : true;


      /* MIT License

Copyright (C) 2017 by Marijn Haverbeke <marijnh@gmail.com> and others

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
 */
      !function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.CodeMirror=t()}(this,function(){"use strict";function e(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function t(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function r(e,r){return t(e).appendChild(r)}function n(e,t,r,n){var i=document.createElement(e);if(r&&(i.className=r),n&&(i.style.cssText=n),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function i(e,t,r,i){var o=n(e,t,r,i);return o.setAttribute("role","presentation"),o}function o(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function l(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function s(t,r){var n=t.className;e(r).test(n)||(t.className+=(n?" ":"")+r)}function a(t,r){for(var n=t.split(" "),i=0;i<n.length;i++)n[i]&&!e(n[i]).test(r)&&(r+=" "+n[i]);return r}function u(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function c(e,t,r){t||(t={});for(var n in e)!e.hasOwnProperty(n)||!1===r&&t.hasOwnProperty(n)||(t[n]=e[n]);return t}function f(e,t,r,n,i){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=n||0,l=i||0;;){var s=e.indexOf("\t",o);if(s<0||s>=t)return l+(t-o);l+=s-o,l+=r-l%r,o=s+1}}function h(e,t){for(var r=0;r<e.length;++r)if(e[r]==t)return r;return-1}function d(e,t,r){for(var n=0,i=0;;){var o=e.indexOf("\t",n);-1==o&&(o=e.length);var l=o-n;if(o==e.length||i+l>=t)return n+Math.min(l,t-i);if(i+=o-n,i+=r-i%r,n=o+1,i>=t)return n}}function p(e){for(;Kl.length<=e;)Kl.push(g(Kl)+" ");return Kl[e]}function g(e){return e[e.length-1]}function v(e,t){for(var r=[],n=0;n<e.length;n++)r[n]=t(e[n],n);return r}function m(e,t,r){for(var n=0,i=r(t);n<e.length&&r(e[n])<=i;)n++;e.splice(n,0,t)}function y(){}function b(e,t){var r;return Object.create?r=Object.create(e):(y.prototype=e,r=new y),t&&c(t,r),r}function w(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||jl.test(e))}function x(e,t){return t?!!(t.source.indexOf("\\w")>-1&&w(e))||t.test(e):w(e)}function C(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function S(e){return e.charCodeAt(0)>=768&&Xl.test(e)}function L(e,t,r){for(;(r<0?t>0:t<e.length)&&S(e.charAt(t));)t+=r;return t}function k(e,t,r){for(var n=t>r?-1:1;;){if(t==r)return t;var i=(t+r)/2,o=n<0?Math.ceil(i):Math.floor(i);if(o==t)return e(o)?t:r;e(o)?r=o:t=o+n}}function T(e,t,r){var o=this;this.input=r,o.scrollbarFiller=n("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=n("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=i("div",null,"CodeMirror-code"),o.selectionDiv=n("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=n("div",null,"CodeMirror-cursors"),o.measure=n("div",null,"CodeMirror-measure"),o.lineMeasure=n("div",null,"CodeMirror-measure"),o.lineSpace=i("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var l=i("div",[o.lineSpace],"CodeMirror-lines");o.mover=n("div",[l],null,"position: relative"),o.sizer=n("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=n("div",null,null,"position: absolute; height: "+Rl+"px; width: 1px;"),o.gutters=n("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=n("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=n("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),gl&&vl<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),ml||fl&&Tl||(o.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(o.wrapper):e(o.wrapper)),o.viewFrom=o.viewTo=t.first,o.reportedViewFrom=o.reportedViewTo=t.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,r.init(o)}function M(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var r=e;!r.lines;)for(var n=0;;++n){var i=r.children[n],o=i.chunkSize();if(t<o){r=i;break}t-=o}return r.lines[t]}function N(e,t,r){var n=[],i=t.line;return e.iter(t.line,r.line+1,function(e){var o=e.text;i==r.line&&(o=o.slice(0,r.ch)),i==t.line&&(o=o.slice(t.ch)),n.push(o),++i}),n}function O(e,t,r){var n=[];return e.iter(t,r,function(e){n.push(e.text)}),n}function A(e,t){var r=t-e.height;if(r)for(var n=e;n;n=n.parent)n.height+=r}function W(e){if(null==e.parent)return null;for(var t=e.parent,r=h(t.lines,e),n=t.parent;n;t=n,n=n.parent)for(var i=0;n.children[i]!=t;++i)r+=n.children[i].chunkSize();return r+t.first}function D(e,t){var r=e.first;e:do{for(var n=0;n<e.children.length;++n){var i=e.children[n],o=i.height;if(t<o){e=i;continue e}t-=o,r+=i.chunkSize()}return r}while(!e.lines);for(var l=0;l<e.lines.length;++l){var s=e.lines[l].height;if(t<s)break;t-=s}return r+l}function H(e,t){return t>=e.first&&t<e.first+e.size}function F(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function E(e,t,r){if(void 0===r&&(r=null),!(this instanceof E))return new E(e,t,r);this.line=e,this.ch=t,this.sticky=r}function P(e,t){return e.line-t.line||e.ch-t.ch}function I(e,t){return e.sticky==t.sticky&&0==P(e,t)}function z(e){return E(e.line,e.ch)}function R(e,t){return P(e,t)<0?t:e}function B(e,t){return P(e,t)<0?e:t}function G(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function U(e,t){if(t.line<e.first)return E(e.first,0);var r=e.first+e.size-1;return t.line>r?E(r,M(e,r).text.length):V(t,M(e,t.line).text.length)}function V(e,t){var r=e.ch;return null==r||r>t?E(e.line,t):r<0?E(e.line,0):e}function K(e,t){for(var r=[],n=0;n<t.length;n++)r[n]=U(e,t[n]);return r}function j(){Yl=!0}function X(){_l=!0}function Y(e,t,r){this.marker=e,this.from=t,this.to=r}function _(e,t){if(e)for(var r=0;r<e.length;++r){var n=e[r];if(n.marker==t)return n}}function $(e,t){for(var r,n=0;n<e.length;++n)e[n]!=t&&(r||(r=[])).push(e[n]);return r}function q(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function Z(e,t,r){var n;if(e)for(var i=0;i<e.length;++i){var o=e[i],l=o.marker;if(null==o.from||(l.inclusiveLeft?o.from<=t:o.from<t)||o.from==t&&"bookmark"==l.type&&(!r||!o.marker.insertLeft)){var s=null==o.to||(l.inclusiveRight?o.to>=t:o.to>t);(n||(n=[])).push(new Y(l,o.from,s?null:o.to))}}return n}function Q(e,t,r){var n;if(e)for(var i=0;i<e.length;++i){var o=e[i],l=o.marker;if(null==o.to||(l.inclusiveRight?o.to>=t:o.to>t)||o.from==t&&"bookmark"==l.type&&(!r||o.marker.insertLeft)){var s=null==o.from||(l.inclusiveLeft?o.from<=t:o.from<t);(n||(n=[])).push(new Y(l,s?null:o.from-t,null==o.to?null:o.to-t))}}return n}function J(e,t){if(t.full)return null;var r=H(e,t.from.line)&&M(e,t.from.line).markedSpans,n=H(e,t.to.line)&&M(e,t.to.line).markedSpans;if(!r&&!n)return null;var i=t.from.ch,o=t.to.ch,l=0==P(t.from,t.to),s=Z(r,i,l),a=Q(n,o,l),u=1==t.text.length,c=g(t.text).length+(u?i:0);if(s)for(var f=0;f<s.length;++f){var h=s[f];if(null==h.to){var d=_(a,h.marker);d?u&&(h.to=null==d.to?null:d.to+c):h.to=i}}if(a)for(var p=0;p<a.length;++p){var v=a[p];null!=v.to&&(v.to+=c),null==v.from?_(s,v.marker)||(v.from=c,u&&(s||(s=[])).push(v)):(v.from+=c,u&&(s||(s=[])).push(v))}s&&(s=ee(s)),a&&a!=s&&(a=ee(a));var m=[s];if(!u){var y,b=t.text.length-2;if(b>0&&s)for(var w=0;w<s.length;++w)null==s[w].to&&(y||(y=[])).push(new Y(s[w].marker,null,null));for(var x=0;x<b;++x)m.push(y);m.push(a)}return m}function ee(e){for(var t=0;t<e.length;++t){var r=e[t];null!=r.from&&r.from==r.to&&!1!==r.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function te(e,t,r){var n=null;if(e.iter(t.line,r.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var r=e.markedSpans[t].marker;!r.readOnly||n&&-1!=h(n,r)||(n||(n=[])).push(r)}}),!n)return null;for(var i=[{from:t,to:r}],o=0;o<n.length;++o)for(var l=n[o],s=l.find(0),a=0;a<i.length;++a){var u=i[a];if(!(P(u.to,s.from)<0||P(u.from,s.to)>0)){var c=[a,1],f=P(u.from,s.from),d=P(u.to,s.to);(f<0||!l.inclusiveLeft&&!f)&&c.push({from:u.from,to:s.from}),(d>0||!l.inclusiveRight&&!d)&&c.push({from:s.to,to:u.to}),i.splice.apply(i,c),a+=c.length-3}}return i}function re(e){var t=e.markedSpans;if(t){for(var r=0;r<t.length;++r)t[r].marker.detachLine(e);e.markedSpans=null}}function ne(e,t){if(t){for(var r=0;r<t.length;++r)t[r].marker.attachLine(e);e.markedSpans=t}}function ie(e){return e.inclusiveLeft?-1:0}function oe(e){return e.inclusiveRight?1:0}function le(e,t){var r=e.lines.length-t.lines.length;if(0!=r)return r;var n=e.find(),i=t.find(),o=P(n.from,i.from)||ie(e)-ie(t);if(o)return-o;var l=P(n.to,i.to)||oe(e)-oe(t);return l||t.id-e.id}function se(e,t){var r,n=_l&&e.markedSpans;if(n)for(var i=void 0,o=0;o<n.length;++o)(i=n[o]).marker.collapsed&&null==(t?i.from:i.to)&&(!r||le(r,i.marker)<0)&&(r=i.marker);return r}function ae(e){return se(e,!0)}function ue(e){return se(e,!1)}function ce(e,t,r,n,i){var o=M(e,t),l=_l&&o.markedSpans;if(l)for(var s=0;s<l.length;++s){var a=l[s];if(a.marker.collapsed){var u=a.marker.find(0),c=P(u.from,r)||ie(a.marker)-ie(i),f=P(u.to,n)||oe(a.marker)-oe(i);if(!(c>=0&&f<=0||c<=0&&f>=0)&&(c<=0&&(a.marker.inclusiveRight&&i.inclusiveLeft?P(u.to,r)>=0:P(u.to,r)>0)||c>=0&&(a.marker.inclusiveRight&&i.inclusiveLeft?P(u.from,n)<=0:P(u.from,n)<0)))return!0}}}function fe(e){for(var t;t=ae(e);)e=t.find(-1,!0).line;return e}function he(e){for(var t;t=ue(e);)e=t.find(1,!0).line;return e}function de(e){for(var t,r;t=ue(e);)e=t.find(1,!0).line,(r||(r=[])).push(e);return r}function pe(e,t){var r=M(e,t),n=fe(r);return r==n?t:W(n)}function ge(e,t){if(t>e.lastLine())return t;var r,n=M(e,t);if(!ve(e,n))return t;for(;r=ue(n);)n=r.find(1,!0).line;return W(n)+1}function ve(e,t){var r=_l&&t.markedSpans;if(r)for(var n=void 0,i=0;i<r.length;++i)if((n=r[i]).marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&me(e,t,n))return!0}}function me(e,t,r){if(null==r.to){var n=r.marker.find(1,!0);return me(e,n.line,_(n.line.markedSpans,r.marker))}if(r.marker.inclusiveRight&&r.to==t.text.length)return!0;for(var i=void 0,o=0;o<t.markedSpans.length;++o)if((i=t.markedSpans[o]).marker.collapsed&&!i.marker.widgetNode&&i.from==r.to&&(null==i.to||i.to!=r.from)&&(i.marker.inclusiveLeft||r.marker.inclusiveRight)&&me(e,t,i))return!0}function ye(e){for(var t=0,r=(e=fe(e)).parent,n=0;n<r.lines.length;++n){var i=r.lines[n];if(i==e)break;t+=i.height}for(var o=r.parent;o;r=o,o=r.parent)for(var l=0;l<o.children.length;++l){var s=o.children[l];if(s==r)break;t+=s.height}return t}function be(e){if(0==e.height)return 0;for(var t,r=e.text.length,n=e;t=ae(n);){var i=t.find(0,!0);n=i.from.line,r+=i.from.ch-i.to.ch}for(n=e;t=ue(n);){var o=t.find(0,!0);r-=n.text.length-o.from.ch,r+=(n=o.to.line).text.length-o.to.ch}return r}function we(e){var t=e.display,r=e.doc;t.maxLine=M(r,r.first),t.maxLineLength=be(t.maxLine),t.maxLineChanged=!0,r.iter(function(e){var r=be(e);r>t.maxLineLength&&(t.maxLineLength=r,t.maxLine=e)})}function xe(e,t,r,n){if(!e)return n(t,r,"ltr",0);for(var i=!1,o=0;o<e.length;++o){var l=e[o];(l.from<r&&l.to>t||t==r&&l.to==t)&&(n(Math.max(l.from,t),Math.min(l.to,r),1==l.level?"rtl":"ltr",o),i=!0)}i||n(t,r,"ltr")}function Ce(e,t,r){var n;$l=null;for(var i=0;i<e.length;++i){var o=e[i];if(o.from<t&&o.to>t)return i;o.to==t&&(o.from!=o.to&&"before"==r?n=i:$l=i),o.from==t&&(o.from!=o.to&&"before"!=r?n=i:$l=i)}return null!=n?n:$l}function Se(e,t){var r=e.order;return null==r&&(r=e.order=ql(e.text,t)),r}function Le(e,t){return e._handlers&&e._handlers[t]||Zl}function ke(e,t,r){if(e.removeEventListener)e.removeEventListener(t,r,!1);else if(e.detachEvent)e.detachEvent("on"+t,r);else{var n=e._handlers,i=n&&n[t];if(i){var o=h(i,r);o>-1&&(n[t]=i.slice(0,o).concat(i.slice(o+1)))}}}function Te(e,t){var r=Le(e,t);if(r.length)for(var n=Array.prototype.slice.call(arguments,2),i=0;i<r.length;++i)r[i].apply(null,n)}function Me(e,t,r){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),Te(e,r||t.type,e,t),He(t)||t.codemirrorIgnore}function Ne(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var r=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),n=0;n<t.length;++n)-1==h(r,t[n])&&r.push(t[n])}function Oe(e,t){return Le(e,t).length>0}function Ae(e){e.prototype.on=function(e,t){Ql(this,e,t)},e.prototype.off=function(e,t){ke(this,e,t)}}function We(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function De(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function He(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Fe(e){We(e),De(e)}function Ee(e){return e.target||e.srcElement}function Pe(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),Ml&&e.ctrlKey&&1==t&&(t=3),t}function Ie(e){if(null==Il){var t=n("span","​");r(e,n("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Il=t.offsetWidth<=1&&t.offsetHeight>2&&!(gl&&vl<8))}var i=Il?n("span","​"):n("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return i.setAttribute("cm-text",""),i}function ze(e){if(null!=zl)return zl;var n=r(e,document.createTextNode("AخA")),i=Wl(n,0,1).getBoundingClientRect(),o=Wl(n,1,2).getBoundingClientRect();return t(e),!(!i||i.left==i.right)&&(zl=o.right-i.right<3)}function Re(e){if(null!=ns)return ns;var t=r(e,n("span","x")),i=t.getBoundingClientRect(),o=Wl(t,0,1).getBoundingClientRect();return ns=Math.abs(i.left-o.left)>1}function Be(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),is[e]=t}function Ge(e){if("string"==typeof e&&os.hasOwnProperty(e))e=os[e];else if(e&&"string"==typeof e.name&&os.hasOwnProperty(e.name)){var t=os[e.name];"string"==typeof t&&(t={name:t}),(e=b(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Ge("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Ge("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Ue(e,t){t=Ge(t);var r=is[t.name];if(!r)return Ue(e,"text/plain");var n=r(e,t);if(ls.hasOwnProperty(t.name)){var i=ls[t.name];for(var o in i)i.hasOwnProperty(o)&&(n.hasOwnProperty(o)&&(n["_"+o]=n[o]),n[o]=i[o])}if(n.name=t.name,t.helperType&&(n.helperType=t.helperType),t.modeProps)for(var l in t.modeProps)n[l]=t.modeProps[l];return n}function Ve(e,t){c(t,ls.hasOwnProperty(e)?ls[e]:ls[e]={})}function Ke(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var r={};for(var n in t){var i=t[n];i instanceof Array&&(i=i.concat([])),r[n]=i}return r}function je(e,t){for(var r;e.innerMode&&(r=e.innerMode(t))&&r.mode!=e;)t=r.state,e=r.mode;return r||{mode:e,state:t}}function Xe(e,t,r){return!e.startState||e.startState(t,r)}function Ye(e,t,r,n){var i=[e.state.modeGen],o={};tt(e,t.text,e.doc.mode,r,function(e,t){return i.push(e,t)},o,n);for(var l=r.state,s=0;s<e.state.overlays.length;++s)!function(n){var l=e.state.overlays[n],s=1,a=0;r.state=!0,tt(e,t.text,l.mode,r,function(e,t){for(var r=s;a<e;){var n=i[s];n>e&&i.splice(s,1,e,i[s+1],n),s+=2,a=Math.min(e,n)}if(t)if(l.opaque)i.splice(r,s-r,e,"overlay "+t),s=r+2;else for(;r<s;r+=2){var o=i[r+1];i[r+1]=(o?o+" ":"")+"overlay "+t}},o)}(s);return r.state=l,{styles:i,classes:o.bgClass||o.textClass?o:null}}function _e(e,t,r){if(!t.styles||t.styles[0]!=e.state.modeGen){var n=$e(e,W(t)),i=t.text.length>e.options.maxHighlightLength&&Ke(e.doc.mode,n.state),o=Ye(e,t,n);i&&(n.state=i),t.stateAfter=n.save(!i),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),r===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function $e(e,t,r){var n=e.doc,i=e.display;if(!n.mode.startState)return new us(n,!0,t);var o=rt(e,t,r),l=o>n.first&&M(n,o-1).stateAfter,s=l?us.fromSaved(n,l,o):new us(n,Xe(n.mode),o);return n.iter(o,t,function(r){qe(e,r.text,s);var n=s.line;r.stateAfter=n==t-1||n%5==0||n>=i.viewFrom&&n<i.viewTo?s.save():null,s.nextLine()}),r&&(n.modeFrontier=s.line),s}function qe(e,t,r,n){var i=e.doc.mode,o=new ss(t,e.options.tabSize,r);for(o.start=o.pos=n||0,""==t&&Ze(i,r.state);!o.eol();)Qe(i,o,r.state),o.start=o.pos}function Ze(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var r=je(e,t);return r.mode.blankLine?r.mode.blankLine(r.state):void 0}}function Qe(e,t,r,n){for(var i=0;i<10;i++){n&&(n[0]=je(e,r).mode);var o=e.token(t,r);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}function Je(e,t,r,n){var i,o,l=e.doc,s=l.mode,a=M(l,(t=U(l,t)).line),u=$e(e,t.line,r),c=new ss(a.text,e.options.tabSize,u);for(n&&(o=[]);(n||c.pos<t.ch)&&!c.eol();)c.start=c.pos,i=Qe(s,c,u.state),n&&o.push(new cs(c,i,Ke(l.mode,u.state)));return n?o:new cs(c,i,u.state)}function et(e,t){if(e)for(;;){var r=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!r)break;e=e.slice(0,r.index)+e.slice(r.index+r[0].length);var n=r[1]?"bgClass":"textClass";null==t[n]?t[n]=r[2]:new RegExp("(?:^|s)"+r[2]+"(?:$|s)").test(t[n])||(t[n]+=" "+r[2])}return e}function tt(e,t,r,n,i,o,l){var s=r.flattenSpans;null==s&&(s=e.options.flattenSpans);var a,u=0,c=null,f=new ss(t,e.options.tabSize,n),h=e.options.addModeClass&&[null];for(""==t&&et(Ze(r,n.state),o);!f.eol();){if(f.pos>e.options.maxHighlightLength?(s=!1,l&&qe(e,t,n,f.pos),f.pos=t.length,a=null):a=et(Qe(r,f,n.state,h),o),h){var d=h[0].name;d&&(a="m-"+(a?d+" "+a:d))}if(!s||c!=a){for(;u<f.start;)i(u=Math.min(f.start,u+5e3),c);c=a}f.start=f.pos}for(;u<f.pos;){var p=Math.min(f.pos,u+5e3);i(p,c),u=p}}function rt(e,t,r){for(var n,i,o=e.doc,l=r?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>l;--s){if(s<=o.first)return o.first;var a=M(o,s-1),u=a.stateAfter;if(u&&(!r||s+(u instanceof as?u.lookAhead:0)<=o.modeFrontier))return s;var c=f(a.text,null,e.options.tabSize);(null==i||n>c)&&(i=s-1,n=c)}return i}function nt(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var r=e.first,n=t-1;n>r;n--){var i=M(e,n).stateAfter;if(i&&(!(i instanceof as)||n+i.lookAhead<t)){r=n+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,r)}}function it(e,t,r,n){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),re(e),ne(e,r);var i=n?n(e):1;i!=e.height&&A(e,i)}function ot(e){e.parent=null,re(e)}function lt(e,t){if(!e||/^\s*$/.test(e))return null;var r=t.addModeClass?ps:ds;return r[e]||(r[e]=e.replace(/\S+/g,"cm-$&"))}function st(e,t){var r=i("span",null,null,ml?"padding-right: .1px":null),n={pre:i("pre",[r],"CodeMirror-line"),content:r,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:(gl||ml)&&e.getOption("lineWrapping")};t.measure={};for(var o=0;o<=(t.rest?t.rest.length:0);o++){var l=o?t.rest[o-1]:t.line,s=void 0;n.pos=0,n.addToken=ut,ze(e.display.measure)&&(s=Se(l,e.doc.direction))&&(n.addToken=ft(n.addToken,s)),n.map=[],dt(l,n,_e(e,l,t!=e.display.externalMeasured&&W(l))),l.styleClasses&&(l.styleClasses.bgClass&&(n.bgClass=a(l.styleClasses.bgClass,n.bgClass||"")),l.styleClasses.textClass&&(n.textClass=a(l.styleClasses.textClass,n.textClass||""))),0==n.map.length&&n.map.push(0,0,n.content.appendChild(Ie(e.display.measure))),0==o?(t.measure.map=n.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(n.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(ml){var u=n.content.lastChild;(/\bcm-tab\b/.test(u.className)||u.querySelector&&u.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return Te(e,"renderLine",e,t.line,n.pre),n.pre.className&&(n.textClass=a(n.pre.className,n.textClass||"")),n}function at(e){var t=n("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function ut(e,t,r,i,o,l,s){if(t){var a,u=e.splitSpaces?ct(t,e.trailingSpace):t,c=e.cm.state.specialChars,f=!1;if(c.test(t)){a=document.createDocumentFragment();for(var h=0;;){c.lastIndex=h;var d=c.exec(t),g=d?d.index-h:t.length-h;if(g){var v=document.createTextNode(u.slice(h,h+g));gl&&vl<9?a.appendChild(n("span",[v])):a.appendChild(v),e.map.push(e.pos,e.pos+g,v),e.col+=g,e.pos+=g}if(!d)break;h+=g+1;var m=void 0;if("\t"==d[0]){var y=e.cm.options.tabSize,b=y-e.col%y;(m=a.appendChild(n("span",p(b),"cm-tab"))).setAttribute("role","presentation"),m.setAttribute("cm-text","\t"),e.col+=b}else"\r"==d[0]||"\n"==d[0]?((m=a.appendChild(n("span","\r"==d[0]?"␍":"␤","cm-invalidchar"))).setAttribute("cm-text",d[0]),e.col+=1):((m=e.cm.options.specialCharPlaceholder(d[0])).setAttribute("cm-text",d[0]),gl&&vl<9?a.appendChild(n("span",[m])):a.appendChild(m),e.col+=1);e.map.push(e.pos,e.pos+1,m),e.pos++}}else e.col+=t.length,a=document.createTextNode(u),e.map.push(e.pos,e.pos+t.length,a),gl&&vl<9&&(f=!0),e.pos+=t.length;if(e.trailingSpace=32==u.charCodeAt(t.length-1),r||i||o||f||s){var w=r||"";i&&(w+=i),o&&(w+=o);var x=n("span",[a],w,s);return l&&(x.title=l),e.content.appendChild(x)}e.content.appendChild(a)}}function ct(e,t){if(e.length>1&&!/  /.test(e))return e;for(var r=t,n="",i=0;i<e.length;i++){var o=e.charAt(i);" "!=o||!r||i!=e.length-1&&32!=e.charCodeAt(i+1)||(o=" "),n+=o,r=" "==o}return n}function ft(e,t){return function(r,n,i,o,l,s,a){i=i?i+" cm-force-border":"cm-force-border";for(var u=r.pos,c=u+n.length;;){for(var f=void 0,h=0;h<t.length&&!((f=t[h]).to>u&&f.from<=u);h++);if(f.to>=c)return e(r,n,i,o,l,s,a);e(r,n.slice(0,f.to-u),i,o,null,s,a),o=null,n=n.slice(f.to-u),u=f.to}}}function ht(e,t,r,n){var i=!n&&r.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!n&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",r.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function dt(e,t,r){var n=e.markedSpans,i=e.text,o=0;if(n)for(var l,s,a,u,c,f,h,d=i.length,p=0,g=1,v="",m=0;;){if(m==p){a=u=c=f=s="",h=null,m=1/0;for(var y=[],b=void 0,w=0;w<n.length;++w){var x=n[w],C=x.marker;"bookmark"==C.type&&x.from==p&&C.widgetNode?y.push(C):x.from<=p&&(null==x.to||x.to>p||C.collapsed&&x.to==p&&x.from==p)?(null!=x.to&&x.to!=p&&m>x.to&&(m=x.to,u=""),C.className&&(a+=" "+C.className),C.css&&(s=(s?s+";":"")+C.css),C.startStyle&&x.from==p&&(c+=" "+C.startStyle),C.endStyle&&x.to==m&&(b||(b=[])).push(C.endStyle,x.to),C.title&&!f&&(f=C.title),C.collapsed&&(!h||le(h.marker,C)<0)&&(h=x)):x.from>p&&m>x.from&&(m=x.from)}if(b)for(var S=0;S<b.length;S+=2)b[S+1]==m&&(u+=" "+b[S]);if(!h||h.from==p)for(var L=0;L<y.length;++L)ht(t,0,y[L]);if(h&&(h.from||0)==p){if(ht(t,(null==h.to?d+1:h.to)-p,h.marker,null==h.from),null==h.to)return;h.to==p&&(h=!1)}}if(p>=d)break;for(var k=Math.min(d,m);;){if(v){var T=p+v.length;if(!h){var M=T>k?v.slice(0,k-p):v;t.addToken(t,M,l?l+a:a,c,p+M.length==m?u:"",f,s)}if(T>=k){v=v.slice(k-p),p=k;break}p=T,c=""}v=i.slice(o,o=r[g++]),l=lt(r[g++],t.cm.options)}}else for(var N=1;N<r.length;N+=2)t.addToken(t,i.slice(o,o=r[N]),lt(r[N+1],t.cm.options))}function pt(e,t,r){this.line=t,this.rest=de(t),this.size=this.rest?W(g(this.rest))-r+1:1,this.node=this.text=null,this.hidden=ve(e,t)}function gt(e,t,r){for(var n,i=[],o=t;o<r;o=n){var l=new pt(e.doc,M(e.doc,o),o);n=o+l.size,i.push(l)}return i}function vt(e){gs?gs.ops.push(e):e.ownsGroup=gs={ops:[e],delayedCallbacks:[]}}function mt(e){var t=e.delayedCallbacks,r=0;do{for(;r<t.length;r++)t[r].call(null);for(var n=0;n<e.ops.length;n++){var i=e.ops[n];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(r<t.length)}function yt(e,t){var r=e.ownsGroup;if(r)try{mt(r)}finally{gs=null,t(r)}}function bt(e,t){var r=Le(e,t);if(r.length){var n,i=Array.prototype.slice.call(arguments,2);gs?n=gs.delayedCallbacks:vs?n=vs:(n=vs=[],setTimeout(wt,0));for(var o=0;o<r.length;++o)!function(e){n.push(function(){return r[e].apply(null,i)})}(o)}}function wt(){var e=vs;vs=null;for(var t=0;t<e.length;++t)e[t]()}function xt(e,t,r,n){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?kt(e,t):"gutter"==o?Mt(e,t,r,n):"class"==o?Tt(e,t):"widget"==o&&Nt(e,t,n)}t.changes=null}function Ct(e){return e.node==e.text&&(e.node=n("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),gl&&vl<8&&(e.node.style.zIndex=2)),e.node}function St(e,t){var r=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(r&&(r+=" CodeMirror-linebackground"),t.background)r?t.background.className=r:(t.background.parentNode.removeChild(t.background),t.background=null);else if(r){var i=Ct(t);t.background=i.insertBefore(n("div",null,r),i.firstChild),e.display.input.setUneditable(t.background)}}function Lt(e,t){var r=e.display.externalMeasured;return r&&r.line==t.line?(e.display.externalMeasured=null,t.measure=r.measure,r.built):st(e,t)}function kt(e,t){var r=t.text.className,n=Lt(e,t);t.text==t.node&&(t.node=n.pre),t.text.parentNode.replaceChild(n.pre,t.text),t.text=n.pre,n.bgClass!=t.bgClass||n.textClass!=t.textClass?(t.bgClass=n.bgClass,t.textClass=n.textClass,Tt(e,t)):r&&(t.text.className=r)}function Tt(e,t){St(e,t),t.line.wrapClass?Ct(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var r=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=r||""}function Mt(e,t,r,i){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var o=Ct(t);t.gutterBackground=n("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px; width: "+i.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),o.insertBefore(t.gutterBackground,t.text)}var l=t.line.gutterMarkers;if(e.options.lineNumbers||l){var s=Ct(t),a=t.gutter=n("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px");if(e.display.input.setUneditable(a),s.insertBefore(a,t.text),t.line.gutterClass&&(a.className+=" "+t.line.gutterClass),!e.options.lineNumbers||l&&l["CodeMirror-linenumbers"]||(t.lineNumber=a.appendChild(n("div",F(e.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),l)for(var u=0;u<e.options.gutters.length;++u){var c=e.options.gutters[u],f=l.hasOwnProperty(c)&&l[c];f&&a.appendChild(n("div",[f],"CodeMirror-gutter-elt","left: "+i.gutterLeft[c]+"px; width: "+i.gutterWidth[c]+"px"))}}}function Nt(e,t,r){t.alignable&&(t.alignable=null);for(var n=t.node.firstChild,i=void 0;n;n=i)i=n.nextSibling,"CodeMirror-linewidget"==n.className&&t.node.removeChild(n);At(e,t,r)}function Ot(e,t,r,n){var i=Lt(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),Tt(e,t),Mt(e,t,r,n),At(e,t,n),t.node}function At(e,t,r){if(Wt(e,t.line,t,r,!0),t.rest)for(var n=0;n<t.rest.length;n++)Wt(e,t.rest[n],t,r,!1)}function Wt(e,t,r,i,o){if(t.widgets)for(var l=Ct(r),s=0,a=t.widgets;s<a.length;++s){var u=a[s],c=n("div",[u.node],"CodeMirror-linewidget");u.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),Dt(u,c,r,i),e.display.input.setUneditable(c),o&&u.above?l.insertBefore(c,r.gutter||r.text):l.appendChild(c),bt(u,"redraw")}}function Dt(e,t,r,n){if(e.noHScroll){(r.alignable||(r.alignable=[])).push(t);var i=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(i-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}function Ht(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!o(document.body,e.node)){var i="position: relative;";e.coverGutter&&(i+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(i+="width: "+t.display.wrapper.clientWidth+"px;"),r(t.display.measure,n("div",[e.node],null,i))}return e.height=e.node.parentNode.offsetHeight}function Ft(e,t){for(var r=Ee(t);r!=e.wrapper;r=r.parentNode)if(!r||1==r.nodeType&&"true"==r.getAttribute("cm-ignore-events")||r.parentNode==e.sizer&&r!=e.mover)return!0}function Et(e){return e.lineSpace.offsetTop}function Pt(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function It(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=r(e.measure,n("pre","x")),i=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,o={left:parseInt(i.paddingLeft),right:parseInt(i.paddingRight)};return isNaN(o.left)||isNaN(o.right)||(e.cachedPaddingH=o),o}function zt(e){return Rl-e.display.nativeBarWidth}function Rt(e){return e.display.scroller.clientWidth-zt(e)-e.display.barWidth}function Bt(e){return e.display.scroller.clientHeight-zt(e)-e.display.barHeight}function Gt(e,t,r){var n=e.options.lineWrapping,i=n&&Rt(e);if(!t.measure.heights||n&&t.measure.width!=i){var o=t.measure.heights=[];if(n){t.measure.width=i;for(var l=t.text.firstChild.getClientRects(),s=0;s<l.length-1;s++){var a=l[s],u=l[s+1];Math.abs(a.bottom-u.bottom)>2&&o.push((a.bottom+u.top)/2-r.top)}}o.push(r.bottom-r.top)}}function Ut(e,t,r){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(var i=0;i<e.rest.length;i++)if(W(e.rest[i])>r)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function Vt(e,t){var n=W(t=fe(t)),i=e.display.externalMeasured=new pt(e.doc,t,n);i.lineN=n;var o=i.built=st(e,i);return i.text=o.pre,r(e.display.lineMeasure,o.pre),i}function Kt(e,t,r,n){return Yt(e,Xt(e,t),r,n)}function jt(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Lr(e,t)];var r=e.display.externalMeasured;return r&&t>=r.lineN&&t<r.lineN+r.size?r:void 0}function Xt(e,t){var r=W(t),n=jt(e,r);n&&!n.text?n=null:n&&n.changes&&(xt(e,n,r,br(e)),e.curOp.forceUpdate=!0),n||(n=Vt(e,t));var i=Ut(n,t,r);return{line:t,view:n,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function Yt(e,t,r,n,i){t.before&&(r=-1);var o,l=r+(n||"");return t.cache.hasOwnProperty(l)?o=t.cache[l]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Gt(e,t.view,t.rect),t.hasHeights=!0),(o=qt(e,t,r,n)).bogus||(t.cache[l]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}function _t(e,t,r){for(var n,i,o,l,s,a,u=0;u<e.length;u+=3)if(s=e[u],a=e[u+1],t<s?(i=0,o=1,l="left"):t<a?o=(i=t-s)+1:(u==e.length-3||t==a&&e[u+3]>t)&&(i=(o=a-s)-1,t>=a&&(l="right")),null!=i){if(n=e[u+2],s==a&&r==(n.insertLeft?"left":"right")&&(l=r),"left"==r&&0==i)for(;u&&e[u-2]==e[u-3]&&e[u-1].insertLeft;)n=e[2+(u-=3)],l="left";if("right"==r&&i==a-s)for(;u<e.length-3&&e[u+3]==e[u+4]&&!e[u+5].insertLeft;)n=e[(u+=3)+2],l="right";break}return{node:n,start:i,end:o,collapse:l,coverStart:s,coverEnd:a}}function $t(e,t){var r=ms;if("left"==t)for(var n=0;n<e.length&&(r=e[n]).left==r.right;n++);else for(var i=e.length-1;i>=0&&(r=e[i]).left==r.right;i--);return r}function qt(e,t,r,n){var i,o=_t(t.map,r,n),l=o.node,s=o.start,a=o.end,u=o.collapse;if(3==l.nodeType){for(var c=0;c<4;c++){for(;s&&S(t.line.text.charAt(o.coverStart+s));)--s;for(;o.coverStart+a<o.coverEnd&&S(t.line.text.charAt(o.coverStart+a));)++a;if((i=gl&&vl<9&&0==s&&a==o.coverEnd-o.coverStart?l.parentNode.getBoundingClientRect():$t(Wl(l,s,a).getClientRects(),n)).left||i.right||0==s)break;a=s,s-=1,u="right"}gl&&vl<11&&(i=Zt(e.display.measure,i))}else{s>0&&(u=n="right");var f;i=e.options.lineWrapping&&(f=l.getClientRects()).length>1?f["right"==n?f.length-1:0]:l.getBoundingClientRect()}if(gl&&vl<9&&!s&&(!i||!i.left&&!i.right)){var h=l.parentNode.getClientRects()[0];i=h?{left:h.left,right:h.left+yr(e.display),top:h.top,bottom:h.bottom}:ms}for(var d=i.top-t.rect.top,p=i.bottom-t.rect.top,g=(d+p)/2,v=t.view.measure.heights,m=0;m<v.length-1&&!(g<v[m]);m++);var y=m?v[m-1]:0,b=v[m],w={left:("right"==u?i.right:i.left)-t.rect.left,right:("left"==u?i.left:i.right)-t.rect.left,top:y,bottom:b};return i.left||i.right||(w.bogus=!0),e.options.singleCursorHeightPerLine||(w.rtop=d,w.rbottom=p),w}function Zt(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Re(e))return t;var r=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*r,right:t.right*r,top:t.top*n,bottom:t.bottom*n}}function Qt(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function Jt(e){e.display.externalMeasure=null,t(e.display.lineMeasure);for(var r=0;r<e.display.view.length;r++)Qt(e.display.view[r])}function er(e){Jt(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function tr(){return bl&&kl?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function rr(){return bl&&kl?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function nr(e){var t=0;if(e.widgets)for(var r=0;r<e.widgets.length;++r)e.widgets[r].above&&(t+=Ht(e.widgets[r]));return t}function ir(e,t,r,n,i){if(!i){var o=nr(t);r.top+=o,r.bottom+=o}if("line"==n)return r;n||(n="local");var l=ye(t);if("local"==n?l+=Et(e.display):l-=e.display.viewOffset,"page"==n||"window"==n){var s=e.display.lineSpace.getBoundingClientRect();l+=s.top+("window"==n?0:rr());var a=s.left+("window"==n?0:tr());r.left+=a,r.right+=a}return r.top+=l,r.bottom+=l,r}function or(e,t,r){if("div"==r)return t;var n=t.left,i=t.top;if("page"==r)n-=tr(),i-=rr();else if("local"==r||!r){var o=e.display.sizer.getBoundingClientRect();n+=o.left,i+=o.top}var l=e.display.lineSpace.getBoundingClientRect();return{left:n-l.left,top:i-l.top}}function lr(e,t,r,n,i){return n||(n=M(e.doc,t.line)),ir(e,n,Kt(e,n,t.ch,i),r)}function sr(e,t,r,n,i,o){function l(t,l){var s=Yt(e,i,t,l?"right":"left",o);return l?s.left=s.right:s.right=s.left,ir(e,n,s,r)}function s(e,t,r){var n=1==a[t].level;return l(r?e-1:e,n!=r)}n=n||M(e.doc,t.line),i||(i=Xt(e,n));var a=Se(n,e.doc.direction),u=t.ch,c=t.sticky;if(u>=n.text.length?(u=n.text.length,c="before"):u<=0&&(u=0,c="after"),!a)return l("before"==c?u-1:u,"before"==c);var f=Ce(a,u,c),h=$l,d=s(u,f,"before"==c);return null!=h&&(d.other=s(u,h,"before"!=c)),d}function ar(e,t){var r=0;t=U(e.doc,t),e.options.lineWrapping||(r=yr(e.display)*t.ch);var n=M(e.doc,t.line),i=ye(n)+Et(e.display);return{left:r,right:r,top:i,bottom:i+n.height}}function ur(e,t,r,n,i){var o=E(e,t,r);return o.xRel=i,n&&(o.outside=!0),o}function cr(e,t,r){var n=e.doc;if((r+=e.display.viewOffset)<0)return ur(n.first,0,null,!0,-1);var i=D(n,r),o=n.first+n.size-1;if(i>o)return ur(n.first+n.size-1,M(n,o).text.length,null,!0,1);t<0&&(t=0);for(var l=M(n,i);;){var s=pr(e,l,i,t,r),a=ue(l),u=a&&a.find(0,!0);if(!a||!(s.ch>u.from.ch||s.ch==u.from.ch&&s.xRel>0))return s;i=W(l=u.to.line)}}function fr(e,t,r,n){n-=nr(t);var i=t.text.length,o=k(function(t){return Yt(e,r,t-1).bottom<=n},i,0);return i=k(function(t){return Yt(e,r,t).top>n},o,i),{begin:o,end:i}}function hr(e,t,r,n){return r||(r=Xt(e,t)),fr(e,t,r,ir(e,t,Yt(e,r,n),"line").top)}function dr(e,t,r,n){return!(e.bottom<=r)&&(e.top>r||(n?e.left:e.right)>t)}function pr(e,t,r,n,i){i-=ye(t);var o=Xt(e,t),l=nr(t),s=0,a=t.text.length,u=!0,c=Se(t,e.doc.direction);if(c){var f=(e.options.lineWrapping?vr:gr)(e,t,r,o,c,n,i);s=(u=1!=f.level)?f.from:f.to-1,a=u?f.to:f.from-1}var h,d,p=null,g=null,v=k(function(t){var r=Yt(e,o,t);return r.top+=l,r.bottom+=l,!!dr(r,n,i,!1)&&(r.top<=i&&r.left<=n&&(p=t,g=r),!0)},s,a),m=!1;if(g){var y=n-g.left<g.right-n,b=y==u;v=p+(b?0:1),d=b?"after":"before",h=y?g.left:g.right}else{u||v!=a&&v!=s||v++,d=0==v?"after":v==t.text.length?"before":Yt(e,o,v-(u?1:0)).bottom+l<=i==u?"after":"before";var w=sr(e,E(r,v,d),"line",t,o);h=w.left,m=i<w.top||i>=w.bottom}return v=L(t.text,v,1),ur(r,v,d,m,n-h)}function gr(e,t,r,n,i,o,l){var s=k(function(s){var a=i[s],u=1!=a.level;return dr(sr(e,E(r,u?a.to:a.from,u?"before":"after"),"line",t,n),o,l,!0)},0,i.length-1),a=i[s];if(s>0){var u=1!=a.level,c=sr(e,E(r,u?a.from:a.to,u?"after":"before"),"line",t,n);dr(c,o,l,!0)&&c.top>l&&(a=i[s-1])}return a}function vr(e,t,r,n,i,o,l){for(var s=fr(e,t,n,l),a=s.begin,u=s.end,c=null,f=null,h=0;h<i.length;h++){var d=i[h];if(!(d.from>=u||d.to<=a)){var p=Yt(e,n,1!=d.level?Math.min(u,d.to)-1:Math.max(a,d.from)).right,g=p<o?o-p+1e9:p-o;(!c||f>g)&&(c=d,f=g)}}return c||(c=i[i.length-1]),c.from<a&&(c={from:a,to:c.to,level:c.level}),c.to>u&&(c={from:c.from,to:u,level:c.level}),c}function mr(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==hs){hs=n("pre");for(var i=0;i<49;++i)hs.appendChild(document.createTextNode("x")),hs.appendChild(n("br"));hs.appendChild(document.createTextNode("x"))}r(e.measure,hs);var o=hs.offsetHeight/50;return o>3&&(e.cachedTextHeight=o),t(e.measure),o||1}function yr(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=n("span","xxxxxxxxxx"),i=n("pre",[t]);r(e.measure,i);var o=t.getBoundingClientRect(),l=(o.right-o.left)/10;return l>2&&(e.cachedCharWidth=l),l||10}function br(e){for(var t=e.display,r={},n={},i=t.gutters.clientLeft,o=t.gutters.firstChild,l=0;o;o=o.nextSibling,++l)r[e.options.gutters[l]]=o.offsetLeft+o.clientLeft+i,n[e.options.gutters[l]]=o.clientWidth;return{fixedPos:wr(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:r,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function wr(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function xr(e){var t=mr(e.display),r=e.options.lineWrapping,n=r&&Math.max(5,e.display.scroller.clientWidth/yr(e.display)-3);return function(i){if(ve(e.doc,i))return 0;var o=0;if(i.widgets)for(var l=0;l<i.widgets.length;l++)i.widgets[l].height&&(o+=i.widgets[l].height);return r?o+(Math.ceil(i.text.length/n)||1)*t:o+t}}function Cr(e){var t=e.doc,r=xr(e);t.iter(function(e){var t=r(e);t!=e.height&&A(e,t)})}function Sr(e,t,r,n){var i=e.display;if(!r&&"true"==Ee(t).getAttribute("cm-not-content"))return null;var o,l,s=i.lineSpace.getBoundingClientRect();try{o=t.clientX-s.left,l=t.clientY-s.top}catch(t){return null}var a,u=cr(e,o,l);if(n&&1==u.xRel&&(a=M(e.doc,u.line).text).length==u.ch){var c=f(a,a.length,e.options.tabSize)-a.length;u=E(u.line,Math.max(0,Math.round((o-It(e.display).left)/yr(e.display))-c))}return u}function Lr(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var r=e.display.view,n=0;n<r.length;n++)if((t-=r[n].size)<0)return n}function kr(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Tr(e,t){void 0===t&&(t=!0);for(var r=e.doc,n={},i=n.cursors=document.createDocumentFragment(),o=n.selection=document.createDocumentFragment(),l=0;l<r.sel.ranges.length;l++)if(t||l!=r.sel.primIndex){var s=r.sel.ranges[l];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var a=s.empty();(a||e.options.showCursorWhenSelecting)&&Mr(e,s.head,i),a||Or(e,s,o)}}return n}function Mr(e,t,r){var i=sr(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),o=r.appendChild(n("div"," ","CodeMirror-cursor"));if(o.style.left=i.left+"px",o.style.top=i.top+"px",o.style.height=Math.max(0,i.bottom-i.top)*e.options.cursorHeight+"px",i.other){var l=r.appendChild(n("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));l.style.display="",l.style.left=i.other.left+"px",l.style.top=i.other.top+"px",l.style.height=.85*(i.other.bottom-i.other.top)+"px"}}function Nr(e,t){return e.top-t.top||e.left-t.left}function Or(e,t,r){function i(e,t,r,i){t<0&&(t=0),t=Math.round(t),i=Math.round(i),a.appendChild(n("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==r?f-e:r)+"px;\n                             height: "+(i-t)+"px"))}function o(t,r,n){function o(r,n){return lr(e,E(t,r),"div",u,n)}var l,a,u=M(s,t),h=u.text.length,d=Se(u,s.direction);return xe(d,r||0,null==n?h:n,function(t,s,p,g){var v=o(t,"ltr"==p?"left":"right"),m=o(s-1,"ltr"==p?"right":"left");if("ltr"==p){var y=null==r&&0==t?c:v.left,b=null==n&&s==h?f:m.right;m.top-v.top<=3?i(y,m.top,b-y,m.bottom):(i(y,v.top,null,v.bottom),v.bottom<m.top&&i(c,v.bottom,null,m.top),i(c,m.top,m.right,m.bottom))}else if(t<s){var w=null==r&&0==t?f:v.right,x=null==n&&s==h?c:m.left;if(m.top-v.top<=3)i(x,m.top,w-x,m.bottom);else{var C=c;if(g){var S=hr(e,u,null,t).end;C=o(S-(/\s/.test(u.text.charAt(S-1))?2:1),"left").left}i(C,v.top,w-C,v.bottom),v.bottom<m.top&&i(c,v.bottom,null,m.top);var L=null;d.length,L=o(hr(e,u,null,s).begin,"right").right-x,i(x,m.top,L,m.bottom)}}(!l||Nr(v,l)<0)&&(l=v),Nr(m,l)<0&&(l=m),(!a||Nr(v,a)<0)&&(a=v),Nr(m,a)<0&&(a=m)}),{start:l,end:a}}var l=e.display,s=e.doc,a=document.createDocumentFragment(),u=It(e.display),c=u.left,f=Math.max(l.sizerWidth,Rt(e)-l.sizer.offsetLeft)-u.right,h=t.from(),d=t.to();if(h.line==d.line)o(h.line,h.ch,d.ch);else{var p=M(s,h.line),g=M(s,d.line),v=fe(p)==fe(g),m=o(h.line,h.ch,v?p.text.length+1:null).end,y=o(d.line,v?0:null,d.ch).start;v&&(m.top<y.top-2?(i(m.right,m.top,null,m.bottom),i(c,y.top,y.left,y.bottom)):i(m.right,m.top,y.left-m.right,m.bottom)),m.bottom<y.top&&i(c,m.bottom,null,y.top)}r.appendChild(a)}function Ar(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var r=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){return t.cursorDiv.style.visibility=(r=!r)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Wr(e){e.state.focused||(e.display.input.focus(),Hr(e))}function Dr(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,Fr(e))},100)}function Hr(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(Te(e,"focus",e,t),e.state.focused=!0,s(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),ml&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Ar(e))}function Fr(e,t){e.state.delayingBlurEvent||(e.state.focused&&(Te(e,"blur",e,t),e.state.focused=!1,Fl(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function Er(e){for(var t=e.display,r=t.lineDiv.offsetTop,n=0;n<t.view.length;n++){var i=t.view[n],o=void 0;if(!i.hidden){if(gl&&vl<8){var l=i.node.offsetTop+i.node.offsetHeight;o=l-r,r=l}else{var s=i.node.getBoundingClientRect();o=s.bottom-s.top}var a=i.line.height-o;if(o<2&&(o=mr(t)),(a>.005||a<-.005)&&(A(i.line,o),Pr(i.line),i.rest))for(var u=0;u<i.rest.length;u++)Pr(i.rest[u])}}}function Pr(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.parentNode.offsetHeight}function Ir(e,t,r){var n=r&&null!=r.top?Math.max(0,r.top):e.scroller.scrollTop;n=Math.floor(n-Et(e));var i=r&&null!=r.bottom?r.bottom:n+e.wrapper.clientHeight,o=D(t,n),l=D(t,i);if(r&&r.ensure){var s=r.ensure.from.line,a=r.ensure.to.line;s<o?(o=s,l=D(t,ye(M(t,s))+e.wrapper.clientHeight)):Math.min(a,t.lastLine())>=l&&(o=D(t,ye(M(t,a))-e.wrapper.clientHeight),l=a)}return{from:o,to:Math.max(l,o+1)}}function zr(e){var t=e.display,r=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var n=wr(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=n+"px",l=0;l<r.length;l++)if(!r[l].hidden){e.options.fixedGutter&&(r[l].gutter&&(r[l].gutter.style.left=o),r[l].gutterBackground&&(r[l].gutterBackground.style.left=o));var s=r[l].alignable;if(s)for(var a=0;a<s.length;a++)s[a].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=n+i+"px")}}function Rr(e){if(!e.options.lineNumbers)return!1;var t=e.doc,r=F(e.options,t.first+t.size-1),i=e.display;if(r.length!=i.lineNumChars){var o=i.measure.appendChild(n("div",[n("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),l=o.firstChild.offsetWidth,s=o.offsetWidth-l;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(l,i.lineGutter.offsetWidth-s)+1,i.lineNumWidth=i.lineNumInnerWidth+s,i.lineNumChars=i.lineNumInnerWidth?r.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",Wn(e),!0}return!1}function Br(e,t){if(!Me(e,"scrollCursorIntoView")){var r=e.display,i=r.sizer.getBoundingClientRect(),o=null;if(t.top+i.top<0?o=!0:t.bottom+i.top>(window.innerHeight||document.documentElement.clientHeight)&&(o=!1),null!=o&&!Sl){var l=n("div","​",null,"position: absolute;\n                         top: "+(t.top-r.viewOffset-Et(e.display))+"px;\n                         height: "+(t.bottom-t.top+zt(e)+r.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(l),l.scrollIntoView(o),e.display.lineSpace.removeChild(l)}}}function Gr(e,t,r,n){null==n&&(n=0);var i;e.options.lineWrapping||t!=r||(r="before"==(t=t.ch?E(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t).sticky?E(t.line,t.ch+1,"before"):t);for(var o=0;o<5;o++){var l=!1,s=sr(e,t),a=r&&r!=t?sr(e,r):s,u=Vr(e,i={left:Math.min(s.left,a.left),top:Math.min(s.top,a.top)-n,right:Math.max(s.left,a.left),bottom:Math.max(s.bottom,a.bottom)+n}),c=e.doc.scrollTop,f=e.doc.scrollLeft;if(null!=u.scrollTop&&(qr(e,u.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(l=!0)),null!=u.scrollLeft&&(Qr(e,u.scrollLeft),Math.abs(e.doc.scrollLeft-f)>1&&(l=!0)),!l)break}return i}function Ur(e,t){var r=Vr(e,t);null!=r.scrollTop&&qr(e,r.scrollTop),null!=r.scrollLeft&&Qr(e,r.scrollLeft)}function Vr(e,t){var r=e.display,n=mr(e.display);t.top<0&&(t.top=0);var i=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:r.scroller.scrollTop,o=Bt(e),l={};t.bottom-t.top>o&&(t.bottom=t.top+o);var s=e.doc.height+Pt(r),a=t.top<n,u=t.bottom>s-n;if(t.top<i)l.scrollTop=a?0:t.top;else if(t.bottom>i+o){var c=Math.min(t.top,(u?s:t.bottom)-o);c!=i&&(l.scrollTop=c)}var f=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:r.scroller.scrollLeft,h=Rt(e)-(e.options.fixedGutter?r.gutters.offsetWidth:0),d=t.right-t.left>h;return d&&(t.right=t.left+h),t.left<10?l.scrollLeft=0:t.left<f?l.scrollLeft=Math.max(0,t.left-(d?0:10)):t.right>h+f-3&&(l.scrollLeft=t.right+(d?0:10)-h),l}function Kr(e,t){null!=t&&(_r(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function jr(e){_r(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function Xr(e,t,r){null==t&&null==r||_r(e),null!=t&&(e.curOp.scrollLeft=t),null!=r&&(e.curOp.scrollTop=r)}function Yr(e,t){_r(e),e.curOp.scrollToPos=t}function _r(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,$r(e,ar(e,t.from),ar(e,t.to),t.margin))}function $r(e,t,r,n){var i=Vr(e,{left:Math.min(t.left,r.left),top:Math.min(t.top,r.top)-n,right:Math.max(t.right,r.right),bottom:Math.max(t.bottom,r.bottom)+n});Xr(e,i.scrollLeft,i.scrollTop)}function qr(e,t){Math.abs(e.doc.scrollTop-t)<2||(fl||On(e,{top:t}),Zr(e,t,!0),fl&&On(e),Cn(e,100))}function Zr(e,t,r){t=Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t),(e.display.scroller.scrollTop!=t||r)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function Qr(e,t,r,n){t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),(r?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!n||(e.doc.scrollLeft=t,zr(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function Jr(e){var t=e.display,r=t.gutters.offsetWidth,n=Math.round(e.doc.height+Pt(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?r:0,docHeight:n,scrollHeight:n+zt(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:r}}function en(e,t){t||(t=Jr(e));var r=e.display.barWidth,n=e.display.barHeight;tn(e,t);for(var i=0;i<4&&r!=e.display.barWidth||n!=e.display.barHeight;i++)r!=e.display.barWidth&&e.options.lineWrapping&&Er(e),tn(e,Jr(e)),r=e.display.barWidth,n=e.display.barHeight}function tn(e,t){var r=e.display,n=r.scrollbars.update(t);r.sizer.style.paddingRight=(r.barWidth=n.right)+"px",r.sizer.style.paddingBottom=(r.barHeight=n.bottom)+"px",r.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(r.scrollbarFiller.style.display="block",r.scrollbarFiller.style.height=n.bottom+"px",r.scrollbarFiller.style.width=n.right+"px"):r.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(r.gutterFiller.style.display="block",r.gutterFiller.style.height=n.bottom+"px",r.gutterFiller.style.width=t.gutterWidth+"px"):r.gutterFiller.style.display=""}function rn(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&Fl(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new ws[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),Ql(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,r){"horizontal"==r?Qr(e,t):qr(e,t)},e),e.display.scrollbars.addClass&&s(e.display.wrapper,e.display.scrollbars.addClass)}function nn(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++xs},vt(e.curOp)}function on(e){yt(e.curOp,function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;ln(e)})}function ln(e){for(var t=e.ops,r=0;r<t.length;r++)sn(t[r]);for(var n=0;n<t.length;n++)an(t[n]);for(var i=0;i<t.length;i++)un(t[i]);for(var o=0;o<t.length;o++)cn(t[o]);for(var l=0;l<t.length;l++)fn(t[l])}function sn(e){var t=e.cm,r=t.display;Ln(t),e.updateMaxLine&&we(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<r.viewFrom||e.scrollToPos.to.line>=r.viewTo)||r.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new Cs(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function an(e){e.updatedDisplay=e.mustUpdate&&Mn(e.cm,e.update)}function un(e){var t=e.cm,r=t.display;e.updatedDisplay&&Er(t),e.barMeasure=Jr(t),r.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Kt(t,r.maxLine,r.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(r.scroller.clientWidth,r.sizer.offsetLeft+e.adjustWidthTo+zt(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,r.sizer.offsetLeft+e.adjustWidthTo-Rt(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=r.input.prepareSelection())}function cn(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&Qr(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var r=e.focus&&e.focus==l();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,r),(e.updatedDisplay||e.startHeight!=t.doc.height)&&en(t,e.barMeasure),e.updatedDisplay&&Dn(t,e.barMeasure),e.selectionChanged&&Ar(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),r&&Wr(e.cm)}function fn(e){var t=e.cm,r=t.display,n=t.doc;e.updatedDisplay&&Nn(t,e.update),null==r.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(r.wheelStartX=r.wheelStartY=null),null!=e.scrollTop&&Zr(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&Qr(t,e.scrollLeft,!0,!0),e.scrollToPos&&Br(t,Gr(t,U(n,e.scrollToPos.from),U(n,e.scrollToPos.to),e.scrollToPos.margin));var i=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(i)for(var l=0;l<i.length;++l)i[l].lines.length||Te(i[l],"hide");if(o)for(var s=0;s<o.length;++s)o[s].lines.length&&Te(o[s],"unhide");r.wrapper.offsetHeight&&(n.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&Te(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function hn(e,t){if(e.curOp)return t();nn(e);try{return t()}finally{on(e)}}function dn(e,t){return function(){if(e.curOp)return t.apply(e,arguments);nn(e);try{return t.apply(e,arguments)}finally{on(e)}}}function pn(e){return function(){if(this.curOp)return e.apply(this,arguments);nn(this);try{return e.apply(this,arguments)}finally{on(this)}}}function gn(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);nn(t);try{return e.apply(this,arguments)}finally{on(t)}}}function vn(e,t,r,n){null==t&&(t=e.doc.first),null==r&&(r=e.doc.first+e.doc.size),n||(n=0);var i=e.display;if(n&&r<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)_l&&pe(e.doc,t)<i.viewTo&&yn(e);else if(r<=i.viewFrom)_l&&ge(e.doc,r+n)>i.viewFrom?yn(e):(i.viewFrom+=n,i.viewTo+=n);else if(t<=i.viewFrom&&r>=i.viewTo)yn(e);else if(t<=i.viewFrom){var o=bn(e,r,r+n,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=n):yn(e)}else if(r>=i.viewTo){var l=bn(e,t,t,-1);l?(i.view=i.view.slice(0,l.index),i.viewTo=l.lineN):yn(e)}else{var s=bn(e,t,t,-1),a=bn(e,r,r+n,1);s&&a?(i.view=i.view.slice(0,s.index).concat(gt(e,s.lineN,a.lineN)).concat(i.view.slice(a.index)),i.viewTo+=n):yn(e)}var u=i.externalMeasured;u&&(r<u.lineN?u.lineN+=n:t<u.lineN+u.size&&(i.externalMeasured=null))}function mn(e,t,r){e.curOp.viewChanged=!0;var n=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(n.externalMeasured=null),!(t<n.viewFrom||t>=n.viewTo)){var o=n.view[Lr(e,t)];if(null!=o.node){var l=o.changes||(o.changes=[]);-1==h(l,r)&&l.push(r)}}}function yn(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function bn(e,t,r,n){var i,o=Lr(e,t),l=e.display.view;if(!_l||r==e.doc.first+e.doc.size)return{index:o,lineN:r};for(var s=e.display.viewFrom,a=0;a<o;a++)s+=l[a].size;if(s!=t){if(n>0){if(o==l.length-1)return null;i=s+l[o].size-t,o++}else i=s-t;t+=i,r+=i}for(;pe(e.doc,r)!=r;){if(o==(n<0?0:l.length-1))return null;r+=n*l[o-(n<0?1:0)].size,o+=n}return{index:o,lineN:r}}function wn(e,t,r){var n=e.display;0==n.view.length||t>=n.viewTo||r<=n.viewFrom?(n.view=gt(e,t,r),n.viewFrom=t):(n.viewFrom>t?n.view=gt(e,t,n.viewFrom).concat(n.view):n.viewFrom<t&&(n.view=n.view.slice(Lr(e,t))),n.viewFrom=t,n.viewTo<r?n.view=n.view.concat(gt(e,n.viewTo,r)):n.viewTo>r&&(n.view=n.view.slice(0,Lr(e,r)))),n.viewTo=r}function xn(e){for(var t=e.display.view,r=0,n=0;n<t.length;n++){var i=t[n];i.hidden||i.node&&!i.changes||++r}return r}function Cn(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,u(Sn,e))}function Sn(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var r=+new Date+e.options.workTime,n=$e(e,t.highlightFrontier),i=[];t.iter(n.line,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(n.line>=e.display.viewFrom){var l=o.styles,s=o.text.length>e.options.maxHighlightLength?Ke(t.mode,n.state):null,a=Ye(e,o,n,!0);s&&(n.state=s),o.styles=a.styles;var u=o.styleClasses,c=a.classes;c?o.styleClasses=c:u&&(o.styleClasses=null);for(var f=!l||l.length!=o.styles.length||u!=c&&(!u||!c||u.bgClass!=c.bgClass||u.textClass!=c.textClass),h=0;!f&&h<l.length;++h)f=l[h]!=o.styles[h];f&&i.push(n.line),o.stateAfter=n.save(),n.nextLine()}else o.text.length<=e.options.maxHighlightLength&&qe(e,o.text,n),o.stateAfter=n.line%5==0?n.save():null,n.nextLine();if(+new Date>r)return Cn(e,e.options.workDelay),!0}),t.highlightFrontier=n.line,t.modeFrontier=Math.max(t.modeFrontier,n.line),i.length&&hn(e,function(){for(var t=0;t<i.length;t++)mn(e,i[t],"text")})}}function Ln(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=zt(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=zt(e)+"px",t.scrollbarsClipped=!0)}function kn(e){if(e.hasFocus())return null;var t=l();if(!t||!o(e.display.lineDiv,t))return null;var r={activeElt:t};if(window.getSelection){var n=window.getSelection();n.anchorNode&&n.extend&&o(e.display.lineDiv,n.anchorNode)&&(r.anchorNode=n.anchorNode,r.anchorOffset=n.anchorOffset,r.focusNode=n.focusNode,r.focusOffset=n.focusOffset)}return r}function Tn(e){if(e&&e.activeElt&&e.activeElt!=l()&&(e.activeElt.focus(),e.anchorNode&&o(document.body,e.anchorNode)&&o(document.body,e.focusNode))){var t=window.getSelection(),r=document.createRange();r.setEnd(e.anchorNode,e.anchorOffset),r.collapse(!1),t.removeAllRanges(),t.addRange(r),t.extend(e.focusNode,e.focusOffset)}}function Mn(e,r){var n=e.display,i=e.doc;if(r.editorIsHidden)return yn(e),!1;if(!r.force&&r.visible.from>=n.viewFrom&&r.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==xn(e))return!1;Rr(e)&&(yn(e),r.dims=br(e));var o=i.first+i.size,l=Math.max(r.visible.from-e.options.viewportMargin,i.first),s=Math.min(o,r.visible.to+e.options.viewportMargin);n.viewFrom<l&&l-n.viewFrom<20&&(l=Math.max(i.first,n.viewFrom)),n.viewTo>s&&n.viewTo-s<20&&(s=Math.min(o,n.viewTo)),_l&&(l=pe(e.doc,l),s=ge(e.doc,s));var a=l!=n.viewFrom||s!=n.viewTo||n.lastWrapHeight!=r.wrapperHeight||n.lastWrapWidth!=r.wrapperWidth;wn(e,l,s),n.viewOffset=ye(M(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var u=xn(e);if(!a&&0==u&&!r.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var c=kn(e);return u>4&&(n.lineDiv.style.display="none"),An(e,n.updateLineNumbers,r.dims),u>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,Tn(c),t(n.cursorDiv),t(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,a&&(n.lastWrapHeight=r.wrapperHeight,n.lastWrapWidth=r.wrapperWidth,Cn(e,400)),n.updateLineNumbers=null,!0}function Nn(e,t){for(var r=t.viewport,n=!0;(n&&e.options.lineWrapping&&t.oldDisplayWidth!=Rt(e)||(r&&null!=r.top&&(r={top:Math.min(e.doc.height+Pt(e.display)-Bt(e),r.top)}),t.visible=Ir(e.display,e.doc,r),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&Mn(e,t);n=!1){Er(e);var i=Jr(e);kr(e),en(e,i),Dn(e,i),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function On(e,t){var r=new Cs(e,t);if(Mn(e,r)){Er(e),Nn(e,r);var n=Jr(e);kr(e),en(e,n),Dn(e,n),r.finish()}}function An(e,r,n){function i(t){var r=t.nextSibling;return ml&&Ml&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),r}for(var o=e.display,l=e.options.lineNumbers,s=o.lineDiv,a=s.firstChild,u=o.view,c=o.viewFrom,f=0;f<u.length;f++){var d=u[f];if(d.hidden);else if(d.node&&d.node.parentNode==s){for(;a!=d.node;)a=i(a);var p=l&&null!=r&&r<=c&&d.lineNumber;d.changes&&(h(d.changes,"gutter")>-1&&(p=!1),xt(e,d,c,n)),p&&(t(d.lineNumber),d.lineNumber.appendChild(document.createTextNode(F(e.options,c)))),a=d.node.nextSibling}else{var g=Ot(e,d,c,n);s.insertBefore(g,a)}c+=d.size}for(;a;)a=i(a)}function Wn(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function Dn(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+zt(e)+"px"}function Hn(e){var r=e.display.gutters,i=e.options.gutters;t(r);for(var o=0;o<i.length;++o){var l=i[o],s=r.appendChild(n("div",null,"CodeMirror-gutter "+l));"CodeMirror-linenumbers"==l&&(e.display.lineGutter=s,s.style.width=(e.display.lineNumWidth||1)+"px")}r.style.display=o?"":"none",Wn(e)}function Fn(e){var t=h(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function En(e){var t=e.wheelDeltaX,r=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==r&&e.detail&&e.axis==e.VERTICAL_AXIS?r=e.detail:null==r&&(r=e.wheelDelta),{x:t,y:r}}function Pn(e){var t=En(e);return t.x*=Ls,t.y*=Ls,t}function In(e,t){var r=En(t),n=r.x,i=r.y,o=e.display,l=o.scroller,s=l.scrollWidth>l.clientWidth,a=l.scrollHeight>l.clientHeight;if(n&&s||i&&a){if(i&&Ml&&ml)e:for(var u=t.target,c=o.view;u!=l;u=u.parentNode)for(var f=0;f<c.length;f++)if(c[f].node==u){e.display.currentWheelTarget=u;break e}if(n&&!fl&&!wl&&null!=Ls)return i&&a&&qr(e,Math.max(0,l.scrollTop+i*Ls)),Qr(e,Math.max(0,l.scrollLeft+n*Ls)),(!i||i&&a)&&We(t),void(o.wheelStartX=null);if(i&&null!=Ls){var h=i*Ls,d=e.doc.scrollTop,p=d+o.wrapper.clientHeight;h<0?d=Math.max(0,d+h-50):p=Math.min(e.doc.height,p+h+50),On(e,{top:d,bottom:p})}Ss<20&&(null==o.wheelStartX?(o.wheelStartX=l.scrollLeft,o.wheelStartY=l.scrollTop,o.wheelDX=n,o.wheelDY=i,setTimeout(function(){if(null!=o.wheelStartX){var e=l.scrollLeft-o.wheelStartX,t=l.scrollTop-o.wheelStartY,r=t&&o.wheelDY&&t/o.wheelDY||e&&o.wheelDX&&e/o.wheelDX;o.wheelStartX=o.wheelStartY=null,r&&(Ls=(Ls*Ss+r)/(Ss+1),++Ss)}},200)):(o.wheelDX+=n,o.wheelDY+=i))}}function zn(e,t){var r=e[t];e.sort(function(e,t){return P(e.from(),t.from())}),t=h(e,r);for(var n=1;n<e.length;n++){var i=e[n],o=e[n-1];if(P(o.to(),i.from())>=0){var l=B(o.from(),i.from()),s=R(o.to(),i.to()),a=o.empty()?i.from()==i.head:o.from()==o.head;n<=t&&--t,e.splice(--n,2,new Ts(a?s:l,a?l:s))}}return new ks(e,t)}function Rn(e,t){return new ks([new Ts(e,t||e)],0)}function Bn(e){return e.text?E(e.from.line+e.text.length-1,g(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function Gn(e,t){if(P(e,t.from)<0)return e;if(P(e,t.to)<=0)return Bn(t);var r=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch;return e.line==t.to.line&&(n+=Bn(t).ch-t.to.ch),E(r,n)}function Un(e,t){for(var r=[],n=0;n<e.sel.ranges.length;n++){var i=e.sel.ranges[n];r.push(new Ts(Gn(i.anchor,t),Gn(i.head,t)))}return zn(r,e.sel.primIndex)}function Vn(e,t,r){return e.line==t.line?E(r.line,e.ch-t.ch+r.ch):E(r.line+(e.line-t.line),e.ch)}function Kn(e,t,r){for(var n=[],i=E(e.first,0),o=i,l=0;l<t.length;l++){var s=t[l],a=Vn(s.from,i,o),u=Vn(Bn(s),i,o);if(i=s.to,o=u,"around"==r){var c=e.sel.ranges[l],f=P(c.head,c.anchor)<0;n[l]=new Ts(f?u:a,f?a:u)}else n[l]=new Ts(a,a)}return new ks(n,e.sel.primIndex)}function jn(e){e.doc.mode=Ue(e.options,e.doc.modeOption),Xn(e)}function Xn(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,Cn(e,100),e.state.modeGen++,e.curOp&&vn(e)}function Yn(e,t){return 0==t.from.ch&&0==t.to.ch&&""==g(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function _n(e,t,r,n){function i(e){return r?r[e]:null}function o(e,r,i){it(e,r,i,n),bt(e,"change",e,t)}function l(e,t){for(var r=[],o=e;o<t;++o)r.push(new fs(u[o],i(o),n));return r}var s=t.from,a=t.to,u=t.text,c=M(e,s.line),f=M(e,a.line),h=g(u),d=i(u.length-1),p=a.line-s.line;if(t.full)e.insert(0,l(0,u.length)),e.remove(u.length,e.size-u.length);else if(Yn(e,t)){var v=l(0,u.length-1);o(f,f.text,d),p&&e.remove(s.line,p),v.length&&e.insert(s.line,v)}else if(c==f)if(1==u.length)o(c,c.text.slice(0,s.ch)+h+c.text.slice(a.ch),d);else{var m=l(1,u.length-1);m.push(new fs(h+c.text.slice(a.ch),d,n)),o(c,c.text.slice(0,s.ch)+u[0],i(0)),e.insert(s.line+1,m)}else if(1==u.length)o(c,c.text.slice(0,s.ch)+u[0]+f.text.slice(a.ch),i(0)),e.remove(s.line+1,p);else{o(c,c.text.slice(0,s.ch)+u[0],i(0)),o(f,h+f.text.slice(a.ch),d);var y=l(1,u.length-1);p>1&&e.remove(s.line+1,p-1),e.insert(s.line+1,y)}bt(e,"change",e,t)}function $n(e,t,r){function n(e,i,o){if(e.linked)for(var l=0;l<e.linked.length;++l){var s=e.linked[l];if(s.doc!=i){var a=o&&s.sharedHist;r&&!a||(t(s.doc,a),n(s.doc,e,a))}}}n(e,null,!0)}function qn(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,Cr(e),jn(e),Zn(e),e.options.lineWrapping||we(e),e.options.mode=t.modeOption,vn(e)}function Zn(e){("rtl"==e.doc.direction?s:Fl)(e.display.lineDiv,"CodeMirror-rtl")}function Qn(e){hn(e,function(){Zn(e),vn(e)})}function Jn(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function ei(e,t){var r={from:z(t.from),to:Bn(t),text:N(e,t.from,t.to)};return si(e,r,t.from.line,t.to.line+1),$n(e,function(e){return si(e,r,t.from.line,t.to.line+1)},!0),r}function ti(e){for(;e.length&&g(e).ranges;)e.pop()}function ri(e,t){return t?(ti(e.done),g(e.done)):e.done.length&&!g(e.done).ranges?g(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),g(e.done)):void 0}function ni(e,t,r,n){var i=e.history;i.undone.length=0;var o,l,s=+new Date;if((i.lastOp==n||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&i.lastModTime>s-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(o=ri(i,i.lastOp==n)))l=g(o.changes),0==P(t.from,t.to)&&0==P(t.from,l.to)?l.to=Bn(t):o.changes.push(ei(e,t));else{var a=g(i.done);for(a&&a.ranges||li(e.sel,i.done),o={changes:[ei(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(r),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=s,i.lastOp=i.lastSelOp=n,i.lastOrigin=i.lastSelOrigin=t.origin,l||Te(e,"historyAdded")}function ii(e,t,r,n){var i=t.charAt(0);return"*"==i||"+"==i&&r.ranges.length==n.ranges.length&&r.somethingSelected()==n.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function oi(e,t,r,n){var i=e.history,o=n&&n.origin;r==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||ii(e,o,g(i.done),t))?i.done[i.done.length-1]=t:li(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=r,n&&!1!==n.clearRedo&&ti(i.undone)}function li(e,t){var r=g(t);r&&r.ranges&&r.equals(e)||t.push(e)}function si(e,t,r,n){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,r),Math.min(e.first+e.size,n),function(r){r.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=r.markedSpans),++o})}function ai(e){if(!e)return null;for(var t,r=0;r<e.length;++r)e[r].marker.explicitlyCleared?t||(t=e.slice(0,r)):t&&t.push(e[r]);return t?t.length?t:null:e}function ui(e,t){var r=t["spans_"+e.id];if(!r)return null;for(var n=[],i=0;i<t.text.length;++i)n.push(ai(r[i]));return n}function ci(e,t){var r=ui(e,t),n=J(e,t);if(!r)return n;if(!n)return r;for(var i=0;i<r.length;++i){var o=r[i],l=n[i];if(o&&l)e:for(var s=0;s<l.length;++s){for(var a=l[s],u=0;u<o.length;++u)if(o[u].marker==a.marker)continue e;o.push(a)}else l&&(r[i]=l)}return r}function fi(e,t,r){for(var n=[],i=0;i<e.length;++i){var o=e[i];if(o.ranges)n.push(r?ks.prototype.deepCopy.call(o):o);else{var l=o.changes,s=[];n.push({changes:s});for(var a=0;a<l.length;++a){var u=l[a],c=void 0;if(s.push({from:u.from,to:u.to,text:u.text}),t)for(var f in u)(c=f.match(/^spans_(\d+)$/))&&h(t,Number(c[1]))>-1&&(g(s)[f]=u[f],delete u[f])}}}return n}function hi(e,t,r,n){if(n){var i=e.anchor;if(r){var o=P(t,i)<0;o!=P(r,i)<0?(i=t,t=r):o!=P(t,r)<0&&(t=r)}return new Ts(i,t)}return new Ts(r||t,t)}function di(e,t,r,n,i){null==i&&(i=e.cm&&(e.cm.display.shift||e.extend)),bi(e,new ks([hi(e.sel.primary(),t,r,i)],0),n)}function pi(e,t,r){for(var n=[],i=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)n[o]=hi(e.sel.ranges[o],t[o],null,i);bi(e,zn(n,e.sel.primIndex),r)}function gi(e,t,r,n){var i=e.sel.ranges.slice(0);i[t]=r,bi(e,zn(i,e.sel.primIndex),n)}function vi(e,t,r,n){bi(e,Rn(t,r),n)}function mi(e,t,r){var n={ranges:t.ranges,update:function(t){var r=this;this.ranges=[];for(var n=0;n<t.length;n++)r.ranges[n]=new Ts(U(e,t[n].anchor),U(e,t[n].head))},origin:r&&r.origin};return Te(e,"beforeSelectionChange",e,n),e.cm&&Te(e.cm,"beforeSelectionChange",e.cm,n),n.ranges!=t.ranges?zn(n.ranges,n.ranges.length-1):t}function yi(e,t,r){var n=e.history.done,i=g(n);i&&i.ranges?(n[n.length-1]=t,wi(e,t,r)):bi(e,t,r)}function bi(e,t,r){wi(e,t,r),oi(e,e.sel,e.cm?e.cm.curOp.id:NaN,r)}function wi(e,t,r){(Oe(e,"beforeSelectionChange")||e.cm&&Oe(e.cm,"beforeSelectionChange"))&&(t=mi(e,t,r)),xi(e,Si(e,t,r&&r.bias||(P(t.primary().head,e.sel.primary().head)<0?-1:1),!0)),r&&!1===r.scroll||!e.cm||jr(e.cm)}function xi(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,Ne(e.cm)),bt(e,"cursorActivity",e))}function Ci(e){xi(e,Si(e,e.sel,null,!1))}function Si(e,t,r,n){for(var i,o=0;o<t.ranges.length;o++){var l=t.ranges[o],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],a=ki(e,l.anchor,s&&s.anchor,r,n),u=ki(e,l.head,s&&s.head,r,n);(i||a!=l.anchor||u!=l.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new Ts(a,u))}return i?zn(i,t.primIndex):t}function Li(e,t,r,n,i){var o=M(e,t.line);if(o.markedSpans)for(var l=0;l<o.markedSpans.length;++l){var s=o.markedSpans[l],a=s.marker;if((null==s.from||(a.inclusiveLeft?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(a.inclusiveRight?s.to>=t.ch:s.to>t.ch))){if(i&&(Te(a,"beforeCursorEnter"),a.explicitlyCleared)){if(o.markedSpans){--l;continue}break}if(!a.atomic)continue;if(r){var u=a.find(n<0?1:-1),c=void 0;if((n<0?a.inclusiveRight:a.inclusiveLeft)&&(u=Ti(e,u,-n,u&&u.line==t.line?o:null)),u&&u.line==t.line&&(c=P(u,r))&&(n<0?c<0:c>0))return Li(e,u,t,n,i)}var f=a.find(n<0?-1:1);return(n<0?a.inclusiveLeft:a.inclusiveRight)&&(f=Ti(e,f,n,f.line==t.line?o:null)),f?Li(e,f,t,n,i):null}}return t}function ki(e,t,r,n,i){var o=n||1,l=Li(e,t,r,o,i)||!i&&Li(e,t,r,o,!0)||Li(e,t,r,-o,i)||!i&&Li(e,t,r,-o,!0);return l||(e.cantEdit=!0,E(e.first,0))}function Ti(e,t,r,n){return r<0&&0==t.ch?t.line>e.first?U(e,E(t.line-1)):null:r>0&&t.ch==(n||M(e,t.line)).text.length?t.line<e.first+e.size-1?E(t.line+1,0):null:new E(t.line,t.ch+r)}function Mi(e){e.setSelection(E(e.firstLine(),0),E(e.lastLine()),Gl)}function Ni(e,t,r){var n={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return n.canceled=!0}};return r&&(n.update=function(t,r,i,o){t&&(n.from=U(e,t)),r&&(n.to=U(e,r)),i&&(n.text=i),void 0!==o&&(n.origin=o)}),Te(e,"beforeChange",e,n),e.cm&&Te(e.cm,"beforeChange",e.cm,n),n.canceled?null:{from:n.from,to:n.to,text:n.text,origin:n.origin}}function Oi(e,t,r){if(e.cm){if(!e.cm.curOp)return dn(e.cm,Oi)(e,t,r);if(e.cm.state.suppressEdits)return}if(!(Oe(e,"beforeChange")||e.cm&&Oe(e.cm,"beforeChange"))||(t=Ni(e,t,!0))){var n=Yl&&!r&&te(e,t.from,t.to);if(n)for(var i=n.length-1;i>=0;--i)Ai(e,{from:n[i].from,to:n[i].to,text:i?[""]:t.text,origin:t.origin});else Ai(e,t)}}function Ai(e,t){if(1!=t.text.length||""!=t.text[0]||0!=P(t.from,t.to)){var r=Un(e,t);ni(e,t,r,e.cm?e.cm.curOp.id:NaN),Hi(e,t,r,J(e,t));var n=[];$n(e,function(e,r){r||-1!=h(n,e.history)||(zi(e.history,t),n.push(e.history)),Hi(e,t,null,J(e,t))})}}function Wi(e,t,r){if(!e.cm||!e.cm.state.suppressEdits||r){for(var n,i=e.history,o=e.sel,l="undo"==t?i.done:i.undone,s="undo"==t?i.undone:i.done,a=0;a<l.length&&(n=l[a],r?!n.ranges||n.equals(e.sel):n.ranges);a++);if(a!=l.length){for(i.lastOrigin=i.lastSelOrigin=null;(n=l.pop()).ranges;){if(li(n,s),r&&!n.equals(e.sel))return void bi(e,n,{clearRedo:!1});o=n}var u=[];li(o,s),s.push({changes:u,generation:i.generation}),i.generation=n.generation||++i.maxGeneration;for(var c=Oe(e,"beforeChange")||e.cm&&Oe(e.cm,"beforeChange"),f=n.changes.length-1;f>=0;--f){var d=function(r){var i=n.changes[r];if(i.origin=t,c&&!Ni(e,i,!1))return l.length=0,{};u.push(ei(e,i));var o=r?Un(e,i):g(l);Hi(e,i,o,ci(e,i)),!r&&e.cm&&e.cm.scrollIntoView({from:i.from,to:Bn(i)});var s=[];$n(e,function(e,t){t||-1!=h(s,e.history)||(zi(e.history,i),s.push(e.history)),Hi(e,i,null,ci(e,i))})}(f);if(d)return d.v}}}}function Di(e,t){if(0!=t&&(e.first+=t,e.sel=new ks(v(e.sel.ranges,function(e){return new Ts(E(e.anchor.line+t,e.anchor.ch),E(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){vn(e.cm,e.first,e.first-t,t);for(var r=e.cm.display,n=r.viewFrom;n<r.viewTo;n++)mn(e.cm,n,"gutter")}}function Hi(e,t,r,n){if(e.cm&&!e.cm.curOp)return dn(e.cm,Hi)(e,t,r,n);if(t.to.line<e.first)Di(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);Di(e,i),t={from:E(e.first,0),to:E(t.to.line+i,t.to.ch),text:[g(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:E(o,M(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=N(e,t.from,t.to),r||(r=Un(e,t)),e.cm?Fi(e.cm,t,n):_n(e,t,n),wi(e,r,Gl)}}function Fi(e,t,r){var n=e.doc,i=e.display,o=t.from,l=t.to,s=!1,a=o.line;e.options.lineWrapping||(a=W(fe(M(n,o.line))),n.iter(a,l.line+1,function(e){if(e==i.maxLine)return s=!0,!0})),n.sel.contains(t.from,t.to)>-1&&Ne(e),_n(n,t,r,xr(e)),e.options.lineWrapping||(n.iter(a,o.line+t.text.length,function(e){var t=be(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,s=!1)}),s&&(e.curOp.updateMaxLine=!0)),nt(n,o.line),Cn(e,400);var u=t.text.length-(l.line-o.line)-1;t.full?vn(e):o.line!=l.line||1!=t.text.length||Yn(e.doc,t)?vn(e,o.line,l.line+1,u):mn(e,o.line,"text");var c=Oe(e,"changes"),f=Oe(e,"change");if(f||c){var h={from:o,to:l,text:t.text,removed:t.removed,origin:t.origin};f&&bt(e,"change",e,h),c&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(h)}e.display.selForContextMenu=null}function Ei(e,t,r,n,i){if(n||(n=r),P(n,r)<0){var o;r=(o=[n,r])[0],n=o[1]}"string"==typeof t&&(t=e.splitLines(t)),Oi(e,{from:r,to:n,text:t,origin:i})}function Pi(e,t,r,n){r<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function Ii(e,t,r,n){for(var i=0;i<e.length;++i){var o=e[i],l=!0;if(o.ranges){o.copied||((o=e[i]=o.deepCopy()).copied=!0);for(var s=0;s<o.ranges.length;s++)Pi(o.ranges[s].anchor,t,r,n),Pi(o.ranges[s].head,t,r,n)}else{for(var a=0;a<o.changes.length;++a){var u=o.changes[a];if(r<u.from.line)u.from=E(u.from.line+n,u.from.ch),u.to=E(u.to.line+n,u.to.ch);else if(t<=u.to.line){l=!1;break}}l||(e.splice(0,i+1),i=0)}}}function zi(e,t){var r=t.from.line,n=t.to.line,i=t.text.length-(n-r)-1;Ii(e.done,r,n,i),Ii(e.undone,r,n,i)}function Ri(e,t,r,n){var i=t,o=t;return"number"==typeof t?o=M(e,G(e,t)):i=W(t),null==i?null:(n(o,i)&&e.cm&&mn(e.cm,i,r),o)}function Bi(e){var t=this;this.lines=e,this.parent=null;for(var r=0,n=0;n<e.length;++n)e[n].parent=t,r+=e[n].height;this.height=r}function Gi(e){var t=this;this.children=e;for(var r=0,n=0,i=0;i<e.length;++i){var o=e[i];r+=o.chunkSize(),n+=o.height,o.parent=t}this.size=r,this.height=n,this.parent=null}function Ui(e,t,r){ye(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Kr(e,r)}function Vi(e,t,r,n){var i=new Ms(e,r,n),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),Ri(e,t,"widget",function(t){var r=t.widgets||(t.widgets=[]);if(null==i.insertAt?r.push(i):r.splice(Math.min(r.length-1,Math.max(0,i.insertAt)),0,i),i.line=t,o&&!ve(e,t)){var n=ye(t)<e.scrollTop;A(t,t.height+Ht(i)),n&&Kr(o,i.height),o.curOp.forceUpdate=!0}return!0}),bt(o,"lineWidgetAdded",o,i,"number"==typeof t?t:W(t)),i}function Ki(e,t,r,n,o){if(n&&n.shared)return ji(e,t,r,n,o);if(e.cm&&!e.cm.curOp)return dn(e.cm,Ki)(e,t,r,n,o);var l=new Os(e,o),s=P(t,r);if(n&&c(n,l,!1),s>0||0==s&&!1!==l.clearWhenEmpty)return l;if(l.replacedWith&&(l.collapsed=!0,l.widgetNode=i("span",[l.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||l.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(l.widgetNode.insertLeft=!0)),l.collapsed){if(ce(e,t.line,t,r,l)||t.line!=r.line&&ce(e,r.line,t,r,l))throw new Error("Inserting collapsed marker partially overlapping an existing one");X()}l.addToHistory&&ni(e,{from:t,to:r,origin:"markText"},e.sel,NaN);var a,u=t.line,f=e.cm;if(e.iter(u,r.line+1,function(e){f&&l.collapsed&&!f.options.lineWrapping&&fe(e)==f.display.maxLine&&(a=!0),l.collapsed&&u!=t.line&&A(e,0),q(e,new Y(l,u==t.line?t.ch:null,u==r.line?r.ch:null)),++u}),l.collapsed&&e.iter(t.line,r.line+1,function(t){ve(e,t)&&A(t,0)}),l.clearOnEnter&&Ql(l,"beforeCursorEnter",function(){return l.clear()}),l.readOnly&&(j(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),l.collapsed&&(l.id=++Ns,l.atomic=!0),f){if(a&&(f.curOp.updateMaxLine=!0),l.collapsed)vn(f,t.line,r.line+1);else if(l.className||l.title||l.startStyle||l.endStyle||l.css)for(var h=t.line;h<=r.line;h++)mn(f,h,"text");l.atomic&&Ci(f.doc),bt(f,"markerAdded",f,l)}return l}function ji(e,t,r,n,i){(n=c(n)).shared=!1;var o=[Ki(e,t,r,n,i)],l=o[0],s=n.widgetNode;return $n(e,function(e){s&&(n.widgetNode=s.cloneNode(!0)),o.push(Ki(e,U(e,t),U(e,r),n,i));for(var a=0;a<e.linked.length;++a)if(e.linked[a].isParent)return;l=g(o)}),new As(o,l)}function Xi(e){return e.findMarks(E(e.first,0),e.clipPos(E(e.lastLine())),function(e){return e.parent})}function Yi(e,t){for(var r=0;r<t.length;r++){var n=t[r],i=n.find(),o=e.clipPos(i.from),l=e.clipPos(i.to);if(P(o,l)){var s=Ki(e,o,l,n.primary,n.primary.type);n.markers.push(s),s.parent=n}}}function _i(e){for(var t=0;t<e.length;t++)!function(t){var r=e[t],n=[r.primary.doc];$n(r.primary.doc,function(e){return n.push(e)});for(var i=0;i<r.markers.length;i++){var o=r.markers[i];-1==h(n,o.doc)&&(o.parent=null,r.markers.splice(i--,1))}}(t)}function $i(e){var t=this;if(Qi(t),!Me(t,e)&&!Ft(t.display,e)){We(e),gl&&(Hs=+new Date);var r=Sr(t,e,!0),n=e.dataTransfer.files;if(r&&!t.isReadOnly())if(n&&n.length&&window.FileReader&&window.File)for(var i=n.length,o=Array(i),l=0,s=0;s<i;++s)!function(e,n){if(!t.options.allowDropFileTypes||-1!=h(t.options.allowDropFileTypes,e.type)){var s=new FileReader;s.onload=dn(t,function(){var e=s.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),o[n]=e,++l==i){var a={from:r=U(t.doc,r),to:r,text:t.doc.splitLines(o.join(t.doc.lineSeparator())),origin:"paste"};Oi(t.doc,a),yi(t.doc,Rn(r,Bn(a)))}}),s.readAsText(e)}}(n[s],s);else{if(t.state.draggingText&&t.doc.sel.contains(r)>-1)return t.state.draggingText(e),void setTimeout(function(){return t.display.input.focus()},20);try{var a=e.dataTransfer.getData("Text");if(a){var u;if(t.state.draggingText&&!t.state.draggingText.copy&&(u=t.listSelections()),wi(t.doc,Rn(r,r)),u)for(var c=0;c<u.length;++c)Ei(t.doc,"",u[c].anchor,u[c].head,"drag");t.replaceSelection(a,"around","paste"),t.display.input.focus()}}catch(e){}}}}function qi(e,t){if(gl&&(!e.state.draggingText||+new Date-Hs<100))Fe(t);else if(!Me(e,t)&&!Ft(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!xl)){var r=n("img",null,null,"position: fixed; left: 0; top: 0;");r.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",wl&&(r.width=r.height=1,e.display.wrapper.appendChild(r),r._top=r.offsetTop),t.dataTransfer.setDragImage(r,0,0),wl&&r.parentNode.removeChild(r)}}function Zi(e,t){var i=Sr(e,t);if(i){var o=document.createDocumentFragment();Mr(e,i,o),e.display.dragCursor||(e.display.dragCursor=n("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),r(e.display.dragCursor,o)}}function Qi(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Ji(e){if(document.getElementsByClassName)for(var t=document.getElementsByClassName("CodeMirror"),r=0;r<t.length;r++){var n=t[r].CodeMirror;n&&e(n)}}function eo(){Fs||(to(),Fs=!0)}function to(){var e;Ql(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,Ji(ro)},100))}),Ql(window,"blur",function(){return Ji(Fr)})}function ro(e){var t=e.display;t.lastWrapHeight==t.wrapper.clientHeight&&t.lastWrapWidth==t.wrapper.clientWidth||(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}function no(e){var t=e.split(/-(?!$)/);e=t[t.length-1];for(var r,n,i,o,l=0;l<t.length-1;l++){var s=t[l];if(/^(cmd|meta|m)$/i.test(s))o=!0;else if(/^a(lt)?$/i.test(s))r=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);i=!0}}return r&&(e="Alt-"+e),n&&(e="Ctrl-"+e),o&&(e="Cmd-"+e),i&&(e="Shift-"+e),e}function io(e){var t={};for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];if(/^(name|fallthrough|(de|at)tach)$/.test(r))continue;if("..."==n){delete e[r];continue}for(var i=v(r.split(" "),no),o=0;o<i.length;o++){var l=void 0,s=void 0;o==i.length-1?(s=i.join(" "),l=n):(s=i.slice(0,o+1).join(" "),l="...");var a=t[s];if(a){if(a!=l)throw new Error("Inconsistent bindings for "+s)}else t[s]=l}delete e[r]}for(var u in t)e[u]=t[u];return e}function oo(e,t,r,n){var i=(t=uo(t)).call?t.call(e,n):t[e];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&r(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return oo(e,t.fallthrough,r,n);for(var o=0;o<t.fallthrough.length;o++){var l=oo(e,t.fallthrough[o],r,n);if(l)return l}}}function lo(e){var t="string"==typeof e?e:Es[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function so(e,t,r){var n=e;return t.altKey&&"Alt"!=n&&(e="Alt-"+e),(Dl?t.metaKey:t.ctrlKey)&&"Ctrl"!=n&&(e="Ctrl-"+e),(Dl?t.ctrlKey:t.metaKey)&&"Cmd"!=n&&(e="Cmd-"+e),!r&&t.shiftKey&&"Shift"!=n&&(e="Shift-"+e),e}function ao(e,t){if(wl&&34==e.keyCode&&e.char)return!1;var r=Es[e.keyCode];return null!=r&&!e.altGraphKey&&so(r,e,t)}function uo(e){return"string"==typeof e?Rs[e]:e}function co(e,t){for(var r=e.doc.sel.ranges,n=[],i=0;i<r.length;i++){for(var o=t(r[i]);n.length&&P(o.from,g(n).to)<=0;){var l=n.pop();if(P(l.from,o.from)<0){o.from=l.from;break}}n.push(o)}hn(e,function(){for(var t=n.length-1;t>=0;t--)Ei(e.doc,"",n[t].from,n[t].to,"+delete");jr(e)})}function fo(e,t,r){var n=L(e.text,t+r,r);return n<0||n>e.text.length?null:n}function ho(e,t,r){var n=fo(e,t.ch,r);return null==n?null:new E(t.line,n,r<0?"after":"before")}function po(e,t,r,n,i){if(e){var o=Se(r,t.doc.direction);if(o){var l,s=i<0?g(o):o[0],a=i<0==(1==s.level)?"after":"before";if(s.level>0){var u=Xt(t,r);l=i<0?r.text.length-1:0;var c=Yt(t,u,l).top;l=k(function(e){return Yt(t,u,e).top==c},i<0==(1==s.level)?s.from:s.to-1,l),"before"==a&&(l=fo(r,l,1))}else l=i<0?s.to:s.from;return new E(n,l,a)}}return new E(n,i<0?r.text.length:0,i<0?"before":"after")}function go(e,t,r,n){var i=Se(t,e.doc.direction);if(!i)return ho(t,r,n);r.ch>=t.text.length?(r.ch=t.text.length,r.sticky="before"):r.ch<=0&&(r.ch=0,r.sticky="after");var o=Ce(i,r.ch,r.sticky),l=i[o];if("ltr"==e.doc.direction&&l.level%2==0&&(n>0?l.to>r.ch:l.from<r.ch))return ho(t,r,n);var s,a=function(e,r){return fo(t,e instanceof E?e.ch:e,r)},u=function(r){return e.options.lineWrapping?(s=s||Xt(e,t),hr(e,t,s,r)):{begin:0,end:t.text.length}},c=u("before"==r.sticky?a(r,-1):r.ch);if("rtl"==e.doc.direction||1==l.level){var f=1==l.level==n<0,h=a(r,f?1:-1);if(null!=h&&(f?h<=l.to&&h<=c.end:h>=l.from&&h>=c.begin)){var d=f?"before":"after";return new E(r.line,h,d)}}var p=function(e,t,n){for(var o=function(e,t){return t?new E(r.line,a(e,1),"before"):new E(r.line,e,"after")};e>=0&&e<i.length;e+=t){var l=i[e],s=t>0==(1!=l.level),u=s?n.begin:a(n.end,-1);if(l.from<=u&&u<l.to)return o(u,s);if(u=s?l.from:a(l.to,-1),n.begin<=u&&u<n.end)return o(u,s)}},g=p(o+n,n,c);if(g)return g;var v=n>0?c.end:a(c.begin,-1);return null==v||n>0&&v==t.text.length||!(g=p(n>0?0:i.length-1,n,u(v)))?null:g}function vo(e,t){var r=M(e.doc,t),n=fe(r);return n!=r&&(t=W(n)),po(!0,e,n,t,1)}function mo(e,t){var r=M(e.doc,t),n=he(r);return n!=r&&(t=W(n)),po(!0,e,r,t,-1)}function yo(e,t){var r=vo(e,t.line),n=M(e.doc,r.line),i=Se(n,e.doc.direction);if(!i||0==i[0].level){var o=Math.max(0,n.text.search(/\S/)),l=t.line==r.line&&t.ch<=o&&t.ch;return E(r.line,l?0:o,r.sticky)}return r}function bo(e,t,r){if("string"==typeof t&&!(t=Bs[t]))return!1;e.display.input.ensurePolled();var n=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r&&(e.display.shift=!1),i=t(e)!=Bl}finally{e.display.shift=n,e.state.suppressEdits=!1}return i}function wo(e,t,r){for(var n=0;n<e.state.keyMaps.length;n++){var i=oo(t,e.state.keyMaps[n],r,e);if(i)return i}return e.options.extraKeys&&oo(t,e.options.extraKeys,r,e)||oo(t,e.options.keyMap,r,e)}function xo(e,t,r,n){var i=e.state.keySeq;if(i){if(lo(t))return"handled";Gs.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),t=i+" "+t}var o=wo(e,t,n);return"multi"==o&&(e.state.keySeq=t),"handled"==o&&bt(e,"keyHandled",e,t,r),"handled"!=o&&"multi"!=o||(We(r),Ar(e)),i&&!o&&/\'$/.test(t)?(We(r),!0):!!o}function Co(e,t){var r=ao(t,!0);return!!r&&(t.shiftKey&&!e.state.keySeq?xo(e,"Shift-"+r,t,function(t){return bo(e,t,!0)})||xo(e,r,t,function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return bo(e,t)}):xo(e,r,t,function(t){return bo(e,t)}))}function So(e,t,r){return xo(e,"'"+r+"'",t,function(t){return bo(e,t,!0)})}function Lo(e){var t=this;if(t.curOp.focus=l(),!Me(t,e)){gl&&vl<11&&27==e.keyCode&&(e.returnValue=!1);var r=e.keyCode;t.display.shift=16==r||e.shiftKey;var n=Co(t,e);wl&&(Us=n?r:null,!n&&88==r&&!rs&&(Ml?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=r||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||ko(t)}}function ko(e){function t(e){18!=e.keyCode&&e.altKey||(Fl(r,"CodeMirror-crosshair"),ke(document,"keyup",t),ke(document,"mouseover",t))}var r=e.display.lineDiv;s(r,"CodeMirror-crosshair"),Ql(document,"keyup",t),Ql(document,"mouseover",t)}function To(e){16==e.keyCode&&(this.doc.sel.shift=!1),Me(this,e)}function Mo(e){var t=this;if(!(Ft(t.display,e)||Me(t,e)||e.ctrlKey&&!e.altKey||Ml&&e.metaKey)){var r=e.keyCode,n=e.charCode;if(wl&&r==Us)return Us=null,void We(e);if(!wl||e.which&&!(e.which<10)||!Co(t,e)){var i=String.fromCharCode(null==n?r:n);"\b"!=i&&(So(t,e,i)||t.display.input.onKeyPress(e))}}}function No(e,t){var r=+new Date;return js&&js.compare(r,e,t)?(Ks=js=null,"triple"):Ks&&Ks.compare(r,e,t)?(js=new Vs(r,e,t),Ks=null,"double"):(Ks=new Vs(r,e,t),js=null,"single")}function Oo(e){var t=this,r=t.display;if(!(Me(t,e)||r.activeTouch&&r.input.supportsTouch()))if(r.input.ensurePolled(),r.shift=e.shiftKey,Ft(r,e))ml||(r.scroller.draggable=!1,setTimeout(function(){return r.scroller.draggable=!0},100));else if(!zo(t,e)){var n=Sr(t,e),i=Pe(e),o=n?No(n,i):"single";window.focus(),1==i&&t.state.selectingText&&t.state.selectingText(e),n&&Ao(t,i,n,o,e)||(1==i?n?Do(t,n,o,e):Ee(e)==r.scroller&&We(e):2==i?(n&&di(t.doc,n),setTimeout(function(){return r.input.focus()},20)):3==i&&(Hl?Ro(t,e):Dr(t)))}}function Ao(e,t,r,n,i){var o="Click";return"double"==n?o="Double"+o:"triple"==n&&(o="Triple"+o),o=(1==t?"Left":2==t?"Middle":"Right")+o,xo(e,so(o,i),i,function(t){if("string"==typeof t&&(t=Bs[t]),!t)return!1;var n=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n=t(e,r)!=Bl}finally{e.state.suppressEdits=!1}return n})}function Wo(e,t,r){var n=e.getOption("configureMouse"),i=n?n(e,t,r):{};if(null==i.unit){var o=Nl?r.shiftKey&&r.metaKey:r.altKey;i.unit=o?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==i.extend||e.doc.extend)&&(i.extend=e.doc.extend||r.shiftKey),null==i.addNew&&(i.addNew=Ml?r.metaKey:r.ctrlKey),null==i.moveOnDrag&&(i.moveOnDrag=!(Ml?r.altKey:r.ctrlKey)),i}function Do(e,t,r,n){gl?setTimeout(u(Wr,e),0):e.curOp.focus=l();var i,o=Wo(e,r,n),s=e.doc.sel;e.options.dragDrop&&Jl&&!e.isReadOnly()&&"single"==r&&(i=s.contains(t))>-1&&(P((i=s.ranges[i]).from(),t)<0||t.xRel>0)&&(P(i.to(),t)>0||t.xRel<0)?Ho(e,n,t,o):Eo(e,n,t,o)}function Ho(e,t,r,n){var i=e.display,o=!1,l=dn(e,function(t){ml&&(i.scroller.draggable=!1),e.state.draggingText=!1,ke(document,"mouseup",l),ke(document,"mousemove",s),ke(i.scroller,"dragstart",a),ke(i.scroller,"drop",l),o||(We(t),n.addNew||di(e.doc,r,null,null,n.extend),ml||gl&&9==vl?setTimeout(function(){document.body.focus(),i.input.focus()},20):i.input.focus())}),s=function(e){o=o||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},a=function(){return o=!0};ml&&(i.scroller.draggable=!0),e.state.draggingText=l,l.copy=!n.moveOnDrag,i.scroller.dragDrop&&i.scroller.dragDrop(),Ql(document,"mouseup",l),Ql(document,"mousemove",s),Ql(i.scroller,"dragstart",a),Ql(i.scroller,"drop",l),Dr(e),setTimeout(function(){return i.input.focus()},20)}function Fo(e,t,r){if("char"==r)return new Ts(t,t);if("word"==r)return e.findWordAt(t);if("line"==r)return new Ts(E(t.line,0),U(e.doc,E(t.line+1,0)));var n=r(e,t);return new Ts(n.from,n.to)}function Eo(e,t,r,n){function i(t){if(0!=P(m,t))if(m=t,"rectangle"==n.unit){for(var i=[],o=e.options.tabSize,l=f(M(u,r.line).text,r.ch,o),s=f(M(u,t.line).text,t.ch,o),a=Math.min(l,s),g=Math.max(l,s),v=Math.min(r.line,t.line),y=Math.min(e.lastLine(),Math.max(r.line,t.line));v<=y;v++){var b=M(u,v).text,w=d(b,a,o);a==g?i.push(new Ts(E(v,w),E(v,w))):b.length>w&&i.push(new Ts(E(v,w),E(v,d(b,g,o))))}i.length||i.push(new Ts(r,r)),bi(u,zn(p.ranges.slice(0,h).concat(i),h),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var x,C=c,S=Fo(e,t,n.unit),L=C.anchor;P(S.anchor,L)>0?(x=S.head,L=B(C.from(),S.anchor)):(x=S.anchor,L=R(C.to(),S.head));var k=p.ranges.slice(0);k[h]=Po(e,new Ts(U(u,L),x)),bi(u,zn(k,h),Ul)}}function o(t){var r=++b,s=Sr(e,t,!0,"rectangle"==n.unit);if(s)if(0!=P(s,m)){e.curOp.focus=l(),i(s);var c=Ir(a,u);(s.line>=c.to||s.line<c.from)&&setTimeout(dn(e,function(){b==r&&o(t)}),150)}else{var f=t.clientY<y.top?-20:t.clientY>y.bottom?20:0;f&&setTimeout(dn(e,function(){b==r&&(a.scroller.scrollTop+=f,o(t))}),50)}}function s(t){e.state.selectingText=!1,b=1/0,We(t),a.input.focus(),ke(document,"mousemove",w),ke(document,"mouseup",x),u.history.lastSelOrigin=null}var a=e.display,u=e.doc;We(t);var c,h,p=u.sel,g=p.ranges;if(n.addNew&&!n.extend?(h=u.sel.contains(r),c=h>-1?g[h]:new Ts(r,r)):(c=u.sel.primary(),h=u.sel.primIndex),"rectangle"==n.unit)n.addNew||(c=new Ts(r,r)),r=Sr(e,t,!0,!0),h=-1;else{var v=Fo(e,r,n.unit);c=n.extend?hi(c,v.anchor,v.head,n.extend):v}n.addNew?-1==h?(h=g.length,bi(u,zn(g.concat([c]),h),{scroll:!1,origin:"*mouse"})):g.length>1&&g[h].empty()&&"char"==n.unit&&!n.extend?(bi(u,zn(g.slice(0,h).concat(g.slice(h+1)),0),{scroll:!1,origin:"*mouse"}),p=u.sel):gi(u,h,c,Ul):(h=0,bi(u,new ks([c],0),Ul),p=u.sel);var m=r,y=a.wrapper.getBoundingClientRect(),b=0,w=dn(e,function(e){Pe(e)?o(e):s(e)}),x=dn(e,s);e.state.selectingText=x,Ql(document,"mousemove",w),Ql(document,"mouseup",x)}function Po(e,t){var r=t.anchor,n=t.head,i=M(e.doc,r.line);if(0==P(r,n)&&r.sticky==n.sticky)return t;var o=Se(i);if(!o)return t;var l=Ce(o,r.ch,r.sticky),s=o[l];if(s.from!=r.ch&&s.to!=r.ch)return t;var a=l+(s.from==r.ch==(1!=s.level)?0:1);if(0==a||a==o.length)return t;var u;if(n.line!=r.line)u=(n.line-r.line)*("ltr"==e.doc.direction?1:-1)>0;else{var c=Ce(o,n.ch,n.sticky),f=c-l||(n.ch-r.ch)*(1==s.level?-1:1);u=c==a-1||c==a?f<0:f>0}var h=o[a+(u?-1:0)],d=u==(1==h.level),p=d?h.from:h.to,g=d?"after":"before";return r.ch==p&&r.sticky==g?t:new Ts(new E(r.line,p,g),n)}function Io(e,t,r,n){var i,o;if(t.touches)i=t.touches[0].clientX,o=t.touches[0].clientY;else try{i=t.clientX,o=t.clientY}catch(t){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&We(t);var l=e.display,s=l.lineDiv.getBoundingClientRect();if(o>s.bottom||!Oe(e,r))return He(t);o-=s.top-l.viewOffset;for(var a=0;a<e.options.gutters.length;++a){var u=l.gutters.childNodes[a];if(u&&u.getBoundingClientRect().right>=i)return Te(e,r,e,D(e.doc,o),e.options.gutters[a],t),He(t)}}function zo(e,t){return Io(e,t,"gutterClick",!0)}function Ro(e,t){Ft(e.display,t)||Bo(e,t)||Me(e,t,"contextmenu")||e.display.input.onContextMenu(t)}function Bo(e,t){return!!Oe(e,"gutterContextMenu")&&Io(e,t,"gutterContextMenu",!1)}function Go(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),er(e)}function Uo(e){Hn(e),vn(e),zr(e)}function Vo(e,t,r){if(!t!=!(r&&r!=Xs)){var n=e.display.dragFunctions,i=t?Ql:ke;i(e.display.scroller,"dragstart",n.start),i(e.display.scroller,"dragenter",n.enter),i(e.display.scroller,"dragover",n.over),i(e.display.scroller,"dragleave",n.leave),i(e.display.scroller,"drop",n.drop)}}function Ko(e){e.options.lineWrapping?(s(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(Fl(e.display.wrapper,"CodeMirror-wrap"),we(e)),Cr(e),vn(e),er(e),setTimeout(function(){return en(e)},100)}function jo(e,t){var r=this;if(!(this instanceof jo))return new jo(e,t);this.options=t=t?c(t):{},c(Ys,t,!1),Fn(t);var n=t.value;"string"==typeof n&&(n=new Ds(n,t.mode,null,t.lineSeparator,t.direction)),this.doc=n;var i=new jo.inputStyles[t.inputStyle](this),o=this.display=new T(e,n,i);o.wrapper.CodeMirror=this,Hn(this),Go(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),rn(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Pl,keySeq:null,specialChars:null},t.autofocus&&!Tl&&o.input.focus(),gl&&vl<11&&setTimeout(function(){return r.display.input.reset(!0)},20),Xo(this),eo(),nn(this),this.curOp.forceUpdate=!0,qn(this,n),t.autofocus&&!Tl||this.hasFocus()?setTimeout(u(Hr,this),20):Fr(this);for(var l in _s)_s.hasOwnProperty(l)&&_s[l](r,t[l],Xs);Rr(this),t.finishInit&&t.finishInit(this);for(var s=0;s<$s.length;++s)$s[s](r);on(this),ml&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function Xo(e){function t(){i.activeTouch&&(o=setTimeout(function(){return i.activeTouch=null},1e3),(l=i.activeTouch).end=+new Date)}function r(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function n(e,t){if(null==t.left)return!0;var r=t.left-e.left,n=t.top-e.top;return r*r+n*n>400}var i=e.display;Ql(i.scroller,"mousedown",dn(e,Oo)),gl&&vl<11?Ql(i.scroller,"dblclick",dn(e,function(t){if(!Me(e,t)){var r=Sr(e,t);if(r&&!zo(e,t)&&!Ft(e.display,t)){We(t);var n=e.findWordAt(r);di(e.doc,n.anchor,n.head)}}})):Ql(i.scroller,"dblclick",function(t){return Me(e,t)||We(t)}),Hl||Ql(i.scroller,"contextmenu",function(t){return Ro(e,t)});var o,l={end:0};Ql(i.scroller,"touchstart",function(t){if(!Me(e,t)&&!r(t)&&!zo(e,t)){i.input.ensurePolled(),clearTimeout(o);var n=+new Date;i.activeTouch={start:n,moved:!1,prev:n-l.end<=300?l:null},1==t.touches.length&&(i.activeTouch.left=t.touches[0].pageX,i.activeTouch.top=t.touches[0].pageY)}}),Ql(i.scroller,"touchmove",function(){i.activeTouch&&(i.activeTouch.moved=!0)}),Ql(i.scroller,"touchend",function(r){var o=i.activeTouch;if(o&&!Ft(i,r)&&null!=o.left&&!o.moved&&new Date-o.start<300){var l,s=e.coordsChar(i.activeTouch,"page");l=!o.prev||n(o,o.prev)?new Ts(s,s):!o.prev.prev||n(o,o.prev.prev)?e.findWordAt(s):new Ts(E(s.line,0),U(e.doc,E(s.line+1,0))),e.setSelection(l.anchor,l.head),e.focus(),We(r)}t()}),Ql(i.scroller,"touchcancel",t),Ql(i.scroller,"scroll",function(){i.scroller.clientHeight&&(qr(e,i.scroller.scrollTop),Qr(e,i.scroller.scrollLeft,!0),Te(e,"scroll",e))}),Ql(i.scroller,"mousewheel",function(t){return In(e,t)}),Ql(i.scroller,"DOMMouseScroll",function(t){return In(e,t)}),Ql(i.wrapper,"scroll",function(){return i.wrapper.scrollTop=i.wrapper.scrollLeft=0}),i.dragFunctions={enter:function(t){Me(e,t)||Fe(t)},over:function(t){Me(e,t)||(Zi(e,t),Fe(t))},start:function(t){return qi(e,t)},drop:dn(e,$i),leave:function(t){Me(e,t)||Qi(e)}};var s=i.input.getField();Ql(s,"keyup",function(t){return To.call(e,t)}),Ql(s,"keydown",dn(e,Lo)),Ql(s,"keypress",dn(e,Mo)),Ql(s,"focus",function(t){return Hr(e,t)}),Ql(s,"blur",function(t){return Fr(e,t)})}function Yo(e,t,r,n){var i,o=e.doc;null==r&&(r="add"),"smart"==r&&(o.mode.indent?i=$e(e,t).state:r="prev");var l=e.options.tabSize,s=M(o,t),a=f(s.text,null,l);s.stateAfter&&(s.stateAfter=null);var u,c=s.text.match(/^\s*/)[0];if(n||/\S/.test(s.text)){if("smart"==r&&((u=o.mode.indent(i,s.text.slice(c.length),s.text))==Bl||u>150)){if(!n)return;r="prev"}}else u=0,r="not";"prev"==r?u=t>o.first?f(M(o,t-1).text,null,l):0:"add"==r?u=a+e.options.indentUnit:"subtract"==r?u=a-e.options.indentUnit:"number"==typeof r&&(u=a+r),u=Math.max(0,u);var h="",d=0;if(e.options.indentWithTabs)for(var g=Math.floor(u/l);g;--g)d+=l,h+="\t";if(d<u&&(h+=p(u-d)),h!=c)return Ei(o,h,E(t,0),E(t,c.length),"+input"),s.stateAfter=null,!0;for(var v=0;v<o.sel.ranges.length;v++){var m=o.sel.ranges[v];if(m.head.line==t&&m.head.ch<c.length){var y=E(t,c.length);gi(o,v,new Ts(y,y));break}}}function _o(e){qs=e}function $o(e,t,r,n,i){var o=e.doc;e.display.shift=!1,n||(n=o.sel);var l=e.state.pasteIncoming||"paste"==i,s=es(t),a=null;if(l&&n.ranges.length>1)if(qs&&qs.text.join("\n")==t){if(n.ranges.length%qs.text.length==0){a=[];for(var u=0;u<qs.text.length;u++)a.push(o.splitLines(qs.text[u]))}}else s.length==n.ranges.length&&e.options.pasteLinesPerSelection&&(a=v(s,function(e){return[e]}));for(var c,f=n.ranges.length-1;f>=0;f--){var h=n.ranges[f],d=h.from(),p=h.to();h.empty()&&(r&&r>0?d=E(d.line,d.ch-r):e.state.overwrite&&!l?p=E(p.line,Math.min(M(o,p.line).text.length,p.ch+g(s).length)):qs&&qs.lineWise&&qs.text.join("\n")==t&&(d=p=E(d.line,0))),c=e.curOp.updateInput;var m={from:d,to:p,text:a?a[f%a.length]:s,origin:i||(l?"paste":e.state.cutIncoming?"cut":"+input")};Oi(e.doc,m),bt(e,"inputRead",e,m)}t&&!l&&Zo(e,t),jr(e),e.curOp.updateInput=c,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function qo(e,t){var r=e.clipboardData&&e.clipboardData.getData("Text");if(r)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||hn(t,function(){return $o(t,r,0,null,"paste")}),!0}function Zo(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var r=e.doc.sel,n=r.ranges.length-1;n>=0;n--){var i=r.ranges[n];if(!(i.head.ch>100||n&&r.ranges[n-1].head.line==i.head.line)){var o=e.getModeAt(i.head),l=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(t.indexOf(o.electricChars.charAt(s))>-1){l=Yo(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(M(e.doc,i.head.line).text.slice(0,i.head.ch))&&(l=Yo(e,i.head.line,"smart"));l&&bt(e,"electricInput",e,i.head.line)}}}function Qo(e){for(var t=[],r=[],n=0;n<e.doc.sel.ranges.length;n++){var i=e.doc.sel.ranges[n].head.line,o={anchor:E(i,0),head:E(i+1,0)};r.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:r}}function Jo(e,t){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck",!!t)}function el(){var e=n("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=n("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return ml?e.style.width="1000px":e.setAttribute("wrap","off"),Ll&&(e.style.border="1px solid black"),Jo(e),t}function tl(e,t,r,n,i){function o(){var n=t.line+r;return!(n<e.first||n>=e.first+e.size)&&(t=new E(n,t.ch,t.sticky),u=M(e,n))}function l(n){var l;if(null==(l=i?go(e.cm,u,t,r):ho(u,t,r))){if(n||!o())return!1;t=po(i,e.cm,u,t.line,r)}else t=l;return!0}var s=t,a=r,u=M(e,t.line);if("char"==n)l();else if("column"==n)l(!0);else if("word"==n||"group"==n)for(var c=null,f="group"==n,h=e.cm&&e.cm.getHelper(t,"wordChars"),d=!0;!(r<0)||l(!d);d=!1){var p=u.text.charAt(t.ch)||"\n",g=x(p,h)?"w":f&&"\n"==p?"n":!f||/\s/.test(p)?null:"p";if(!f||d||g||(g="s"),c&&c!=g){r<0&&(r=1,l(),t.sticky="after");break}if(g&&(c=g),r>0&&!l(!d))break}var v=ki(e,t,s,a,!0);return I(s,v)&&(v.hitSide=!0),v}function rl(e,t,r,n){var i,o=e.doc,l=t.left;if("page"==n){var s=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),a=Math.max(s-.5*mr(e.display),3);i=(r>0?t.bottom:t.top)+r*a}else"line"==n&&(i=r>0?t.bottom+3:t.top-3);for(var u;(u=cr(e,l,i)).outside;){if(r<0?i<=0:i>=o.height){u.hitSide=!0;break}i+=5*r}return u}function nl(e,t){var r=jt(e,t.line);if(!r||r.hidden)return null;var n=M(e.doc,t.line),i=Ut(r,n,t.line),o=Se(n,e.doc.direction),l="left";o&&(l=Ce(o,t.ch)%2?"right":"left");var s=_t(i.map,t.ch,l);return s.offset="right"==s.collapse?s.end:s.start,s}function il(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function ol(e,t){return t&&(e.bad=!0),e}function ll(e,t,r,n,i){function o(e){return function(t){return t.id==e}}function l(){c&&(u+=f,c=!1)}function s(e){e&&(l(),u+=e)}function a(t){if(1==t.nodeType){var r=t.getAttribute("cm-text");if(null!=r)return void s(r||t.textContent.replace(/\u200b/g,""));var u,h=t.getAttribute("cm-marker");if(h){var d=e.findMarks(E(n,0),E(i+1,0),o(+h));return void(d.length&&(u=d[0].find(0))&&s(N(e.doc,u.from,u.to).join(f)))}if("false"==t.getAttribute("contenteditable"))return;var p=/^(pre|div|p)$/i.test(t.nodeName);p&&l();for(var g=0;g<t.childNodes.length;g++)a(t.childNodes[g]);p&&(c=!0)}else 3==t.nodeType&&s(t.nodeValue)}for(var u="",c=!1,f=e.doc.lineSeparator();a(t),t!=r;)t=t.nextSibling;return u}function sl(e,t,r){var n;if(t==e.display.lineDiv){if(!(n=e.display.lineDiv.childNodes[r]))return ol(e.clipPos(E(e.display.viewTo-1)),!0);t=null,r=0}else for(n=t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==n)return al(o,t,r)}}function al(e,t,r){function n(t,r,n){for(var i=-1;i<(f?f.length:0);i++)for(var o=i<0?c.map:f[i],l=0;l<o.length;l+=3){var s=o[l+2];if(s==t||s==r){var a=W(i<0?e.line:e.rest[i]),u=o[l]+n;return(n<0||s!=t)&&(u=o[l+(n?1:0)]),E(a,u)}}}var i=e.text.firstChild,l=!1;if(!t||!o(i,t))return ol(E(W(e.line),0),!0);if(t==i&&(l=!0,t=i.childNodes[r],r=0,!t)){var s=e.rest?g(e.rest):e.line;return ol(E(W(s),s.text.length),l)}var a=3==t.nodeType?t:null,u=t;for(a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,r&&(r=a.nodeValue.length));u.parentNode!=i;)u=u.parentNode;var c=e.measure,f=c.maps,h=n(a,u,r);if(h)return ol(h,l);for(var d=u.nextSibling,p=a?a.nodeValue.length-r:0;d;d=d.nextSibling){if(h=n(d,d.firstChild,0))return ol(E(h.line,h.ch-p),l);p+=d.textContent.length}for(var v=u.previousSibling,m=r;v;v=v.previousSibling){if(h=n(v,v.firstChild,-1))return ol(E(h.line,h.ch+m),l);m+=v.textContent.length}}var ul=navigator.userAgent,cl=navigator.platform,fl=/gecko\/\d/i.test(ul),hl=/MSIE \d/.test(ul),dl=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ul),pl=/Edge\/(\d+)/.exec(ul),gl=hl||dl||pl,vl=gl&&(hl?document.documentMode||6:+(pl||dl)[1]),ml=!pl&&/WebKit\//.test(ul),yl=ml&&/Qt\/\d+\.\d+/.test(ul),bl=!pl&&/Chrome\//.test(ul),wl=/Opera\//.test(ul),xl=/Apple Computer/.test(navigator.vendor),Cl=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(ul),Sl=/PhantomJS/.test(ul),Ll=!pl&&/AppleWebKit/.test(ul)&&/Mobile\/\w+/.test(ul),kl=/Android/.test(ul),Tl=Ll||kl||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(ul),Ml=Ll||/Mac/.test(cl),Nl=/\bCrOS\b/.test(ul),Ol=/win/i.test(cl),Al=wl&&ul.match(/Version\/(\d*\.\d*)/);Al&&(Al=Number(Al[1])),Al&&Al>=15&&(wl=!1,ml=!0);var Wl,Dl=Ml&&(yl||wl&&(null==Al||Al<12.11)),Hl=fl||gl&&vl>=9,Fl=function(t,r){var n=t.className,i=e(r).exec(n);if(i){var o=n.slice(i.index+i[0].length);t.className=n.slice(0,i.index)+(o?i[1]+o:"")}};Wl=document.createRange?function(e,t,r,n){var i=document.createRange();return i.setEnd(n||e,r),i.setStart(e,t),i}:function(e,t,r){var n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch(e){return n}return n.collapse(!0),n.moveEnd("character",r),n.moveStart("character",t),n};var El=function(e){e.select()};Ll?El=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:gl&&(El=function(e){try{e.select()}catch(e){}});var Pl=function(){this.id=null};Pl.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var Il,zl,Rl=30,Bl={toString:function(){return"CodeMirror.Pass"}},Gl={scroll:!1},Ul={origin:"*mouse"},Vl={origin:"+move"},Kl=[""],jl=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Xl=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,Yl=!1,_l=!1,$l=null,ql=function(){function e(e){return e<=247?r.charAt(e):1424<=e&&e<=1524?"R":1536<=e&&e<=1785?n.charAt(e-1536):1774<=e&&e<=2220?"r":8192<=e&&e<=8203?"w":8204==e?"b":"L"}function t(e,t,r){this.level=e,this.from=t,this.to=r}var r="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",n="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111",i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,l=/[LRr]/,s=/[Lb1n]/,a=/[1n]/;return function(r,n){var u="ltr"==n?"L":"R";if(0==r.length||"ltr"==n&&!i.test(r))return!1;for(var c=r.length,f=[],h=0;h<c;++h)f.push(e(r.charCodeAt(h)));for(var d=0,p=u;d<c;++d){var v=f[d];"m"==v?f[d]=p:p=v}for(var m=0,y=u;m<c;++m){var b=f[m];"1"==b&&"r"==y?f[m]="n":l.test(b)&&(y=b,"r"==b&&(f[m]="R"))}for(var w=1,x=f[0];w<c-1;++w){var C=f[w];"+"==C&&"1"==x&&"1"==f[w+1]?f[w]="1":","!=C||x!=f[w+1]||"1"!=x&&"n"!=x||(f[w]=x),x=C}for(var S=0;S<c;++S){var L=f[S];if(","==L)f[S]="N";else if("%"==L){var k=void 0;for(k=S+1;k<c&&"%"==f[k];++k);for(var T=S&&"!"==f[S-1]||k<c&&"1"==f[k]?"1":"N",M=S;M<k;++M)f[M]=T;S=k-1}}for(var N=0,O=u;N<c;++N){var A=f[N];"L"==O&&"1"==A?f[N]="L":l.test(A)&&(O=A)}for(var W=0;W<c;++W)if(o.test(f[W])){var D=void 0;for(D=W+1;D<c&&o.test(f[D]);++D);for(var H="L"==(W?f[W-1]:u),F=H==("L"==(D<c?f[D]:u))?H?"L":"R":u,E=W;E<D;++E)f[E]=F;W=D-1}for(var P,I=[],z=0;z<c;)if(s.test(f[z])){var R=z;for(++z;z<c&&s.test(f[z]);++z);I.push(new t(0,R,z))}else{var B=z,G=I.length;for(++z;z<c&&"L"!=f[z];++z);for(var U=B;U<z;)if(a.test(f[U])){B<U&&I.splice(G,0,new t(1,B,U));var V=U;for(++U;U<z&&a.test(f[U]);++U);I.splice(G,0,new t(2,V,U)),B=U}else++U;B<z&&I.splice(G,0,new t(1,B,z))}return 1==I[0].level&&(P=r.match(/^\s+/))&&(I[0].from=P[0].length,I.unshift(new t(0,0,P[0].length))),1==g(I).level&&(P=r.match(/\s+$/))&&(g(I).to-=P[0].length,I.push(new t(0,c-P[0].length,c))),"rtl"==n?I.reverse():I}}(),Zl=[],Ql=function(e,t,r){if(e.addEventListener)e.addEventListener(t,r,!1);else if(e.attachEvent)e.attachEvent("on"+t,r);else{var n=e._handlers||(e._handlers={});n[t]=(n[t]||Zl).concat(r)}},Jl=function(){if(gl&&vl<9)return!1;var e=n("div");return"draggable"in e||"dragDrop"in e}(),es=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,r=[],n=e.length;t<=n;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),l=o.indexOf("\r");-1!=l?(r.push(o.slice(0,l)),t+=l+1):(r.push(o),t=i+1)}return r}:function(e){return e.split(/\r\n?|\n/)},ts=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},rs=function(){var e=n("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),ns=null,is={},os={},ls={},ss=function(e,t,r){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=r};ss.prototype.eol=function(){return this.pos>=this.string.length},ss.prototype.sol=function(){return this.pos==this.lineStart},ss.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},ss.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},ss.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},ss.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},ss.prototype.eatSpace=function(){for(var e=this,t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++e.pos;return this.pos>t},ss.prototype.skipToEnd=function(){this.pos=this.string.length},ss.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},ss.prototype.backUp=function(e){this.pos-=e},ss.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=f(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?f(this.string,this.lineStart,this.tabSize):0)},ss.prototype.indentation=function(){return f(this.string,null,this.tabSize)-(this.lineStart?f(this.string,this.lineStart,this.tabSize):0)},ss.prototype.match=function(e,t,r){if("string"!=typeof e){var n=this.string.slice(this.pos).match(e);return n&&n.index>0?null:(n&&!1!==t&&(this.pos+=n[0].length),n)}var i=function(e){return r?e.toLowerCase():e};if(i(this.string.substr(this.pos,e.length))==i(e))return!1!==t&&(this.pos+=e.length),!0},ss.prototype.current=function(){return this.string.slice(this.start,this.pos)},ss.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},ss.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)};var as=function(e,t){this.state=e,this.lookAhead=t},us=function(e,t,r,n){this.state=t,this.doc=e,this.line=r,this.maxLookAhead=n||0};us.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},us.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},us.fromSaved=function(e,t,r){return t instanceof as?new us(e,Ke(e.mode,t.state),r,t.lookAhead):new us(e,Ke(e.mode,t),r)},us.prototype.save=function(e){var t=!1!==e?Ke(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new as(t,this.maxLookAhead):t};var cs=function(e,t,r){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=r},fs=function(e,t,r){this.text=e,ne(this,t),this.height=r?r(this):1};fs.prototype.lineNo=function(){return W(this)},Ae(fs);var hs,ds={},ps={},gs=null,vs=null,ms={left:0,right:0,top:0,bottom:0},ys=function(e,t,r){this.cm=r;var i=this.vert=n("div",[n("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=n("div",[n("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(i),e(o),Ql(i,"scroll",function(){i.clientHeight&&t(i.scrollTop,"vertical")}),Ql(o,"scroll",function(){o.clientWidth&&t(o.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,gl&&vl<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};ys.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,r=e.scrollHeight>e.clientHeight+1,n=e.nativeBarWidth;if(r){this.vert.style.display="block",this.vert.style.bottom=t?n+"px":"0";var i=e.viewHeight-(t?n:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=r?n+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(r?n:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==n&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:r?n:0,bottom:t?n:0}},ys.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},ys.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},ys.prototype.zeroWidthHack=function(){var e=Ml&&!Cl?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Pl,this.disableVert=new Pl},ys.prototype.enableZeroWidthBar=function(e,t,r){function n(){var i=e.getBoundingClientRect();("vert"==r?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,n)}e.style.pointerEvents="auto",t.set(1e3,n)},ys.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var bs=function(){};bs.prototype.update=function(){return{bottom:0,right:0}},bs.prototype.setScrollLeft=function(){},bs.prototype.setScrollTop=function(){},bs.prototype.clear=function(){};var ws={native:ys,null:bs},xs=0,Cs=function(e,t,r){var n=e.display;this.viewport=t,this.visible=Ir(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=Rt(e),this.force=r,this.dims=br(e),this.events=[]};Cs.prototype.signal=function(e,t){Oe(e,t)&&this.events.push(arguments)},Cs.prototype.finish=function(){for(var e=this,t=0;t<this.events.length;t++)Te.apply(null,e.events[t])};var Ss=0,Ls=null;gl?Ls=-.53:fl?Ls=15:bl?Ls=-.7:xl&&(Ls=-1/3);var ks=function(e,t){this.ranges=e,this.primIndex=t};ks.prototype.primary=function(){return this.ranges[this.primIndex]},ks.prototype.equals=function(e){var t=this;if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var r=0;r<this.ranges.length;r++){var n=t.ranges[r],i=e.ranges[r];if(!I(n.anchor,i.anchor)||!I(n.head,i.head))return!1}return!0},ks.prototype.deepCopy=function(){for(var e=this,t=[],r=0;r<this.ranges.length;r++)t[r]=new Ts(z(e.ranges[r].anchor),z(e.ranges[r].head));return new ks(t,this.primIndex)},ks.prototype.somethingSelected=function(){for(var e=this,t=0;t<this.ranges.length;t++)if(!e.ranges[t].empty())return!0;return!1},ks.prototype.contains=function(e,t){var r=this;t||(t=e);for(var n=0;n<this.ranges.length;n++){var i=r.ranges[n];if(P(t,i.from())>=0&&P(e,i.to())<=0)return n}return-1};var Ts=function(e,t){this.anchor=e,this.head=t};Ts.prototype.from=function(){return B(this.anchor,this.head)},Ts.prototype.to=function(){return R(this.anchor,this.head)},Ts.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},Bi.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var r=this,n=e,i=e+t;n<i;++n){var o=r.lines[n];r.height-=o.height,ot(o),bt(o,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,r){var n=this;this.height+=r,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var i=0;i<t.length;++i)t[i].parent=n},iterN:function(e,t,r){for(var n=this,i=e+t;e<i;++e)if(r(n.lines[e]))return!0}},Gi.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){var r=this;this.size-=t;for(var n=0;n<this.children.length;++n){var i=r.children[n],o=i.chunkSize();if(e<o){var l=Math.min(t,o-e),s=i.height;if(i.removeInner(e,l),r.height-=s-i.height,o==l&&(r.children.splice(n--,1),i.parent=null),0==(t-=l))break;e=0}else e-=o}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Bi))){var a=[];this.collapse(a),this.children=[new Bi(a)],this.children[0].parent=this}},collapse:function(e){for(var t=this,r=0;r<this.children.length;++r)t.children[r].collapse(e)},insertInner:function(e,t,r){var n=this;this.size+=t.length,this.height+=r;for(var i=0;i<this.children.length;++i){var o=n.children[i],l=o.chunkSize();if(e<=l){if(o.insertInner(e,t,r),o.lines&&o.lines.length>50){for(var s=o.lines.length%25+25,a=s;a<o.lines.length;){var u=new Bi(o.lines.slice(a,a+=25));o.height-=u.height,n.children.splice(++i,0,u),u.parent=n}o.lines=o.lines.slice(0,s),n.maybeSpill()}break}e-=l}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new Gi(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var r=h(e.parent.children,e);e.parent.children.splice(r+1,0,t)}else{var n=new Gi(e.children);n.parent=e,e.children=[n,t],e=n}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,r){for(var n=this,i=0;i<this.children.length;++i){var o=n.children[i],l=o.chunkSize();if(e<l){var s=Math.min(t,l-e);if(o.iterN(e,s,r))return!0;if(0==(t-=s))break;e=0}else e-=l}}};var Ms=function(e,t,r){var n=this;if(r)for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i]);this.doc=e,this.node=t};Ms.prototype.clear=function(){var e=this,t=this.doc.cm,r=this.line.widgets,n=this.line,i=W(n);if(null!=i&&r){for(var o=0;o<r.length;++o)r[o]==e&&r.splice(o--,1);r.length||(n.widgets=null);var l=Ht(this);A(n,Math.max(0,n.height-l)),t&&(hn(t,function(){Ui(t,n,-l),mn(t,i,"widget")}),bt(t,"lineWidgetCleared",t,this,i))}},Ms.prototype.changed=function(){var e=this,t=this.height,r=this.doc.cm,n=this.line;this.height=null;var i=Ht(this)-t;i&&(A(n,n.height+i),r&&hn(r,function(){r.curOp.forceUpdate=!0,Ui(r,n,i),bt(r,"lineWidgetChanged",r,e,W(n))}))},Ae(Ms);var Ns=0,Os=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++Ns};Os.prototype.clear=function(){var e=this;if(!this.explicitlyCleared){var t=this.doc.cm,r=t&&!t.curOp;if(r&&nn(t),Oe(this,"clear")){var n=this.find();n&&bt(this,"clear",n.from,n.to)}for(var i=null,o=null,l=0;l<this.lines.length;++l){var s=e.lines[l],a=_(s.markedSpans,e);t&&!e.collapsed?mn(t,W(s),"text"):t&&(null!=a.to&&(o=W(s)),null!=a.from&&(i=W(s))),s.markedSpans=$(s.markedSpans,a),null==a.from&&e.collapsed&&!ve(e.doc,s)&&t&&A(s,mr(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var u=0;u<this.lines.length;++u){var c=fe(e.lines[u]),f=be(c);f>t.display.maxLineLength&&(t.display.maxLine=c,t.display.maxLineLength=f,t.display.maxLineChanged=!0)}null!=i&&t&&this.collapsed&&vn(t,i,o+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&Ci(t.doc)),t&&bt(t,"markerCleared",t,this,i,o),r&&on(t),this.parent&&this.parent.clear()}},Os.prototype.find=function(e,t){var r=this;null==e&&"bookmark"==this.type&&(e=1);for(var n,i,o=0;o<this.lines.length;++o){var l=r.lines[o],s=_(l.markedSpans,r);if(null!=s.from&&(n=E(t?l:W(l),s.from),-1==e))return n;if(null!=s.to&&(i=E(t?l:W(l),s.to),1==e))return i}return n&&{from:n,to:i}},Os.prototype.changed=function(){var e=this,t=this.find(-1,!0),r=this,n=this.doc.cm;t&&n&&hn(n,function(){var i=t.line,o=W(t.line),l=jt(n,o);if(l&&(Qt(l),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!ve(r.doc,i)&&null!=r.height){var s=r.height;r.height=null;var a=Ht(r)-s;a&&A(i,i.height+a)}bt(n,"markerChanged",n,e)})},Os.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=h(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},Os.prototype.detachLine=function(e){if(this.lines.splice(h(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},Ae(Os);var As=function(e,t){var r=this;this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=r};As.prototype.clear=function(){var e=this;if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)e.markers[t].clear();bt(this,"clear")}},As.prototype.find=function(e,t){return this.primary.find(e,t)},Ae(As);var Ws=0,Ds=function(e,t,r,n,i){if(!(this instanceof Ds))return new Ds(e,t,r,n,i);null==r&&(r=0),Gi.call(this,[new Bi([new fs("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=r;var o=E(r,0);this.sel=Rn(o),this.history=new Jn(null),this.id=++Ws,this.modeOption=t,this.lineSep=n,this.direction="rtl"==i?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),_n(this,{from:o,to:o,text:e}),bi(this,Rn(o),Gl)};Ds.prototype=b(Gi.prototype,{constructor:Ds,iter:function(e,t,r){r?this.iterN(e-this.first,t-e,r):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var r=0,n=0;n<t.length;++n)r+=t[n].height;this.insertInner(e-this.first,t,r)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=O(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:gn(function(e){var t=E(this.first,0),r=this.first+this.size-1;Oi(this,{from:t,to:E(r,M(this,r).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&Xr(this.cm,0,0),bi(this,Rn(t),Gl)}),replaceRange:function(e,t,r,n){Ei(this,e,t=U(this,t),r=r?U(this,r):t,n)},getRange:function(e,t,r){var n=N(this,U(this,e),U(this,t));return!1===r?n:n.join(r||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(H(this,e))return M(this,e)},getLineNumber:function(e){return W(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=M(this,e)),fe(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return U(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:gn(function(e,t,r){vi(this,U(this,"number"==typeof e?E(e,t||0):e),null,r)}),setSelection:gn(function(e,t,r){vi(this,U(this,e),U(this,t||e),r)}),extendSelection:gn(function(e,t,r){di(this,U(this,e),t&&U(this,t),r)}),extendSelections:gn(function(e,t){pi(this,K(this,e),t)}),extendSelectionsBy:gn(function(e,t){pi(this,K(this,v(this.sel.ranges,e)),t)}),setSelections:gn(function(e,t,r){var n=this;if(e.length){for(var i=[],o=0;o<e.length;o++)i[o]=new Ts(U(n,e[o].anchor),U(n,e[o].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),bi(this,zn(i,t),r)}}),addSelection:gn(function(e,t,r){var n=this.sel.ranges.slice(0);n.push(new Ts(U(this,e),U(this,t||e))),bi(this,zn(n,n.length-1),r)}),getSelection:function(e){for(var t,r=this,n=this.sel.ranges,i=0;i<n.length;i++){var o=N(r,n[i].from(),n[i].to());t=t?t.concat(o):o}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=this,r=[],n=this.sel.ranges,i=0;i<n.length;i++){var o=N(t,n[i].from(),n[i].to());!1!==e&&(o=o.join(e||t.lineSeparator())),r[i]=o}return r},replaceSelection:function(e,t,r){for(var n=[],i=0;i<this.sel.ranges.length;i++)n[i]=e;this.replaceSelections(n,t,r||"+input")},replaceSelections:gn(function(e,t,r){for(var n=this,i=[],o=this.sel,l=0;l<o.ranges.length;l++){var s=o.ranges[l];i[l]={from:s.from(),to:s.to(),text:n.splitLines(e[l]),origin:r}}for(var a=t&&"end"!=t&&Kn(this,i,t),u=i.length-1;u>=0;u--)Oi(n,i[u]);a?yi(this,a):this.cm&&jr(this.cm)}),undo:gn(function(){Wi(this,"undo")}),redo:gn(function(){Wi(this,"redo")}),undoSelection:gn(function(){Wi(this,"undo",!0)}),redoSelection:gn(function(){Wi(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,r=0,n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++r;return{undo:t,redo:r}},clearHistory:function(){this.history=new Jn(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:fi(this.history.done),undone:fi(this.history.undone)}},setHistory:function(e){var t=this.history=new Jn(this.history.maxGeneration);t.done=fi(e.done.slice(0),null,!0),t.undone=fi(e.undone.slice(0),null,!0)},setGutterMarker:gn(function(e,t,r){return Ri(this,e,"gutter",function(e){var n=e.gutterMarkers||(e.gutterMarkers={});return n[t]=r,!r&&C(n)&&(e.gutterMarkers=null),!0})}),clearGutter:gn(function(e){var t=this;this.iter(function(r){r.gutterMarkers&&r.gutterMarkers[e]&&Ri(t,r,"gutter",function(){return r.gutterMarkers[e]=null,C(r.gutterMarkers)&&(r.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if("number"==typeof e){if(!H(this,e))return null;if(t=e,!(e=M(this,e)))return null}else if(null==(t=W(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:gn(function(t,r,n){return Ri(this,t,"gutter"==r?"gutter":"class",function(t){var i="text"==r?"textClass":"background"==r?"bgClass":"gutter"==r?"gutterClass":"wrapClass";if(t[i]){if(e(n).test(t[i]))return!1;t[i]+=" "+n}else t[i]=n;return!0})}),removeLineClass:gn(function(t,r,n){return Ri(this,t,"gutter"==r?"gutter":"class",function(t){var i="text"==r?"textClass":"background"==r?"bgClass":"gutter"==r?"gutterClass":"wrapClass",o=t[i];if(!o)return!1;if(null==n)t[i]=null;else{var l=o.match(e(n));if(!l)return!1;var s=l.index+l[0].length;t[i]=o.slice(0,l.index)+(l.index&&s!=o.length?" ":"")+o.slice(s)||null}return!0})}),addLineWidget:gn(function(e,t,r){return Vi(this,e,t,r)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,r){return Ki(this,U(this,e),U(this,t),r,r&&r.type||"range")},setBookmark:function(e,t){var r={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=U(this,e),Ki(this,e,e,r,"bookmark")},findMarksAt:function(e){var t=[],r=M(this,(e=U(this,e)).line).markedSpans;if(r)for(var n=0;n<r.length;++n){var i=r[n];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,r){e=U(this,e),t=U(this,t);var n=[],i=e.line;return this.iter(e.line,t.line+1,function(o){var l=o.markedSpans;if(l)for(var s=0;s<l.length;s++){var a=l[s];null!=a.to&&i==e.line&&e.ch>=a.to||null==a.from&&i!=e.line||null!=a.from&&i==t.line&&a.from>=t.ch||r&&!r(a.marker)||n.push(a.marker.parent||a.marker)}++i}),n},getAllMarks:function(){var e=[];return this.iter(function(t){var r=t.markedSpans;if(r)for(var n=0;n<r.length;++n)null!=r[n].from&&e.push(r[n].marker)}),e},posFromIndex:function(e){var t,r=this.first,n=this.lineSeparator().length;return this.iter(function(i){var o=i.text.length+n;if(o>e)return t=e,!0;e-=o,++r}),U(this,E(r,t))},indexFromPos:function(e){var t=(e=U(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var r=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+r}),t},copy:function(e){var t=new Ds(O(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,r=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<r&&(r=e.to);var n=new Ds(O(this,t,r),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Yi(n,Xi(this)),n},unlinkDoc:function(e){var t=this;if(e instanceof jo&&(e=e.doc),this.linked)for(var r=0;r<this.linked.length;++r)if(t.linked[r].doc==e){t.linked.splice(r,1),e.unlinkDoc(t),_i(Xi(t));break}if(e.history==this.history){var n=[e.id];$n(e,function(e){return n.push(e.id)},!0),e.history=new Jn(null),e.history.done=fi(this.history.done,n),e.history.undone=fi(this.history.undone,n)}},iterLinkedDocs:function(e){$n(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):es(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:gn(function(e){"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(e){return e.order=null}),this.cm&&Qn(this.cm))})}),Ds.prototype.eachLine=Ds.prototype.iter;for(var Hs=0,Fs=!1,Es={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Ps=0;Ps<10;Ps++)Es[Ps+48]=Es[Ps+96]=String(Ps);for(var Is=65;Is<=90;Is++)Es[Is]=String.fromCharCode(Is);for(var zs=1;zs<=12;zs++)Es[zs+111]=Es[zs+63235]="F"+zs;var Rs={};Rs.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Rs.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Rs.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Rs.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Rs.default=Ml?Rs.macDefault:Rs.pcDefault;var Bs={selectAll:Mi,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Gl)},killLine:function(e){return co(e,function(t){if(t.empty()){var r=M(e.doc,t.head.line).text.length;return t.head.ch==r&&t.head.line<e.lastLine()?{from:t.head,to:E(t.head.line+1,0)}:{from:t.head,to:E(t.head.line,r)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){return co(e,function(t){return{from:E(t.from().line,0),to:U(e.doc,E(t.to().line+1,0))}})},delLineLeft:function(e){return co(e,function(e){return{from:E(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){return co(e,function(t){var r=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:r},"div"),to:t.from()}})},delWrappedLineRight:function(e){return co(e,function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div");return{from:t.from(),to:n}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(E(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(E(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return vo(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return yo(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return mo(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div")},Vl)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:r},"div")},Vl)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:r},"div");return n.ch<e.getLine(n.line).search(/\S/)?yo(e,t.head):n},Vl)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],r=e.listSelections(),n=e.options.tabSize,i=0;i<r.length;i++){var o=r[i].from(),l=f(e.getLine(o.line),o.ch,n);t.push(p(n-l%n))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return hn(e,function(){for(var t=e.listSelections(),r=[],n=0;n<t.length;n++)if(t[n].empty()){var i=t[n].head,o=M(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new E(i.line,i.ch-1)),i.ch>0)i=new E(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),E(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var l=M(e.doc,i.line-1).text;l&&(i=new E(i.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+l.charAt(l.length-1),E(i.line-1,l.length-1),i,"+transpose"))}r.push(new Ts(i,i))}e.setSelections(r)})},newlineAndIndent:function(e){return hn(e,function(){for(var t=e.listSelections(),r=t.length-1;r>=0;r--)e.replaceRange(e.doc.lineSeparator(),t[r].anchor,t[r].head,"+input");t=e.listSelections();for(var n=0;n<t.length;n++)e.indentLine(t[n].from().line,null,!0);jr(e)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}},Gs=new Pl,Us=null,Vs=function(e,t,r){this.time=e,this.pos=t,this.button=r};Vs.prototype.compare=function(e,t,r){return this.time+400>e&&0==P(t,this.pos)&&r==this.button};var Ks,js,Xs={toString:function(){return"CodeMirror.Init"}},Ys={},_s={};jo.defaults=Ys,jo.optionHandlers=_s;var $s=[];jo.defineInitHook=function(e){return $s.push(e)};var qs=null,Zs=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Pl,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Zs.prototype.init=function(e){function t(e){if(!Me(i,e)){if(i.somethingSelected())_o({lineWise:!1,text:i.getSelections()}),"cut"==e.type&&i.replaceSelection("",null,"cut");else{if(!i.options.lineWiseCopyCut)return;var t=Qo(i);_o({lineWise:!0,text:t.text}),"cut"==e.type&&i.operation(function(){i.setSelections(t.ranges,0,Gl),i.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var r=qs.text.join("\n");if(e.clipboardData.setData("Text",r),e.clipboardData.getData("Text")==r)return void e.preventDefault()}var l=el(),s=l.firstChild;i.display.lineSpace.insertBefore(l,i.display.lineSpace.firstChild),s.value=qs.text.join("\n");var a=document.activeElement;El(s),setTimeout(function(){i.display.lineSpace.removeChild(l),a.focus(),a==o&&n.showPrimarySelection()},50)}}var r=this,n=this,i=n.cm,o=n.div=e.lineDiv;Jo(o,i.options.spellcheck),Ql(o,"paste",function(e){Me(i,e)||qo(e,i)||vl<=11&&setTimeout(dn(i,function(){return r.updateFromDOM()}),20)}),Ql(o,"compositionstart",function(e){r.composing={data:e.data,done:!1}}),Ql(o,"compositionupdate",function(e){r.composing||(r.composing={data:e.data,done:!1})}),Ql(o,"compositionend",function(e){r.composing&&(e.data!=r.composing.data&&r.readFromDOMSoon(),r.composing.done=!0)}),Ql(o,"touchstart",function(){return n.forceCompositionEnd()}),Ql(o,"input",function(){r.composing||r.readFromDOMSoon()}),Ql(o,"copy",t),Ql(o,"cut",t)},Zs.prototype.prepareSelection=function(){var e=Tr(this.cm,!1);return e.focus=this.cm.state.focused,e},Zs.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Zs.prototype.showPrimarySelection=function(){var e=window.getSelection(),t=this.cm,r=t.doc.sel.primary(),n=r.from(),i=r.to();if(t.display.viewTo==t.display.viewFrom||n.line>=t.display.viewTo||i.line<t.display.viewFrom)e.removeAllRanges();else{var o=sl(t,e.anchorNode,e.anchorOffset),l=sl(t,e.focusNode,e.focusOffset);if(!o||o.bad||!l||l.bad||0!=P(B(o,l),n)||0!=P(R(o,l),i)){var s=t.display.view,a=n.line>=t.display.viewFrom&&nl(t,n)||{node:s[0].measure.map[2],offset:0},u=i.line<t.display.viewTo&&nl(t,i);if(!u){var c=s[s.length-1].measure,f=c.maps?c.maps[c.maps.length-1]:c.map;u={node:f[f.length-1],offset:f[f.length-2]-f[f.length-3]}}if(a&&u){var h,d=e.rangeCount&&e.getRangeAt(0);try{h=Wl(a.node,a.offset,u.offset,u.node)}catch(e){}h&&(!fl&&t.state.focused?(e.collapse(a.node,a.offset),h.collapsed||(e.removeAllRanges(),e.addRange(h))):(e.removeAllRanges(),e.addRange(h)),d&&null==e.anchorNode?e.addRange(d):fl&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},Zs.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},Zs.prototype.showMultipleSelections=function(e){r(this.cm.display.cursorDiv,e.cursors),r(this.cm.display.selectionDiv,e.selection)},Zs.prototype.rememberSelection=function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Zs.prototype.selectionInEditor=function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return o(this.div,t)},Zs.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Zs.prototype.blur=function(){this.div.blur()},Zs.prototype.getField=function(){return this.div},Zs.prototype.supportsTouch=function(){return!0},Zs.prototype.receivedFocus=function(){function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}var t=this;this.selectionInEditor()?this.pollSelection():hn(this.cm,function(){return t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,e)},Zs.prototype.selectionChanged=function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Zs.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=window.getSelection(),t=this.cm;if(kl&&bl&&this.cm.options.gutters.length&&il(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var r=sl(t,e.anchorNode,e.anchorOffset),n=sl(t,e.focusNode,e.focusOffset);r&&n&&hn(t,function(){bi(t.doc,Rn(r,n),Gl),(r.bad||n.bad)&&(t.curOp.selectionChanged=!0)})}}},Zs.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e=this.cm,t=e.display,r=e.doc.sel.primary(),n=r.from(),i=r.to();if(0==n.ch&&n.line>e.firstLine()&&(n=E(n.line-1,M(e.doc,n.line-1).length)),i.ch==M(e.doc,i.line).text.length&&i.line<e.lastLine()&&(i=E(i.line+1,0)),n.line<t.viewFrom||i.line>t.viewTo-1)return!1;var o,l,s;n.line==t.viewFrom||0==(o=Lr(e,n.line))?(l=W(t.view[0].line),s=t.view[0].node):(l=W(t.view[o].line),s=t.view[o-1].node.nextSibling);var a,u,c=Lr(e,i.line);if(c==t.view.length-1?(a=t.viewTo-1,u=t.lineDiv.lastChild):(a=W(t.view[c+1].line)-1,u=t.view[c+1].node.previousSibling),!s)return!1;for(var f=e.doc.splitLines(ll(e,s,u,l,a)),h=N(e.doc,E(l,0),E(a,M(e.doc,a).text.length));f.length>1&&h.length>1;)if(g(f)==g(h))f.pop(),h.pop(),a--;else{if(f[0]!=h[0])break;f.shift(),h.shift(),l++}for(var d=0,p=0,v=f[0],m=h[0],y=Math.min(v.length,m.length);d<y&&v.charCodeAt(d)==m.charCodeAt(d);)++d;for(var b=g(f),w=g(h),x=Math.min(b.length-(1==f.length?d:0),w.length-(1==h.length?d:0));p<x&&b.charCodeAt(b.length-p-1)==w.charCodeAt(w.length-p-1);)++p;if(1==f.length&&1==h.length&&l==n.line)for(;d&&d>n.ch&&b.charCodeAt(b.length-p-1)==w.charCodeAt(w.length-p-1);)d--,p++;f[f.length-1]=b.slice(0,b.length-p).replace(/^\u200b+/,""),f[0]=f[0].slice(d).replace(/\u200b+$/,"");var C=E(l,d),S=E(a,h.length?g(h).length-p:0);return f.length>1||f[0]||P(C,S)?(Ei(e.doc,f,C,S,"+input"),!0):void 0},Zs.prototype.ensurePolled=function(){this.forceCompositionEnd()},Zs.prototype.reset=function(){this.forceCompositionEnd()},Zs.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Zs.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},Zs.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||hn(this.cm,function(){return vn(e.cm)})},Zs.prototype.setUneditable=function(e){e.contentEditable="false"},Zs.prototype.onKeyPress=function(e){0!=e.charCode&&(e.preventDefault(),this.cm.isReadOnly()||dn(this.cm,$o)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},Zs.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},Zs.prototype.onContextMenu=function(){},Zs.prototype.resetPosition=function(){},Zs.prototype.needsContentAttribute=!0;var Qs=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new Pl,this.hasSelection=!1,this.composing=null};Qs.prototype.init=function(e){function t(e){if(!Me(i,e)){if(i.somethingSelected())_o({lineWise:!1,text:i.getSelections()});else{if(!i.options.lineWiseCopyCut)return;var t=Qo(i);_o({lineWise:!0,text:t.text}),"cut"==e.type?i.setSelections(t.ranges,null,Gl):(n.prevInput="",l.value=t.text.join("\n"),El(l))}"cut"==e.type&&(i.state.cutIncoming=!0)}}var r=this,n=this,i=this.cm,o=this.wrapper=el(),l=this.textarea=o.firstChild;e.wrapper.insertBefore(o,e.wrapper.firstChild),Ll&&(l.style.width="0px"),Ql(l,"input",function(){gl&&vl>=9&&r.hasSelection&&(r.hasSelection=null),n.poll()}),Ql(l,"paste",function(e){Me(i,e)||qo(e,i)||(i.state.pasteIncoming=!0,n.fastPoll())}),Ql(l,"cut",t),Ql(l,"copy",t),Ql(e.scroller,"paste",function(t){Ft(e,t)||Me(i,t)||(i.state.pasteIncoming=!0,n.focus())}),Ql(e.lineSpace,"selectstart",function(t){Ft(e,t)||We(t)}),Ql(l,"compositionstart",function(){var e=i.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:i.markText(e,i.getCursor("to"),{className:"CodeMirror-composing"})}}),Ql(l,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},Qs.prototype.prepareSelection=function(){var e=this.cm,t=e.display,r=e.doc,n=Tr(e);if(e.options.moveInputWithCursor){var i=sr(e,r.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),l=t.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+l.top-o.top)),n.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+l.left-o.left))}return n},Qs.prototype.showSelection=function(e){var t=this.cm.display;r(t.cursorDiv,e.cursors),r(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},Qs.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var r=t.getSelection();this.textarea.value=r,t.state.focused&&El(this.textarea),gl&&vl>=9&&(this.hasSelection=r)}else e||(this.prevInput=this.textarea.value="",gl&&vl>=9&&(this.hasSelection=null))}},Qs.prototype.getField=function(){return this.textarea},Qs.prototype.supportsTouch=function(){return!1},Qs.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!Tl||l()!=this.textarea))try{this.textarea.focus()}catch(e){}},Qs.prototype.blur=function(){this.textarea.blur()},Qs.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Qs.prototype.receivedFocus=function(){this.slowPoll()},Qs.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},Qs.prototype.fastPoll=function(){function e(){r.poll()||t?(r.pollingFast=!1,r.slowPoll()):(t=!0,r.polling.set(60,e))}var t=!1,r=this;r.pollingFast=!0,r.polling.set(20,e)},Qs.prototype.poll=function(){var e=this,t=this.cm,r=this.textarea,n=this.prevInput;if(this.contextMenuPending||!t.state.focused||ts(r)&&!n&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=r.value;if(i==n&&!t.somethingSelected())return!1;if(gl&&vl>=9&&this.hasSelection===i||Ml&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||n||(n="​"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var l=0,s=Math.min(n.length,i.length);l<s&&n.charCodeAt(l)==i.charCodeAt(l);)++l;return hn(t,function(){$o(t,i.slice(l),n.length-l,null,e.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?r.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Qs.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Qs.prototype.onKeyPress=function(){gl&&vl>=9&&(this.hasSelection=null),this.fastPoll()},Qs.prototype.onContextMenu=function(e){function t(){if(null!=l.selectionStart){var e=i.somethingSelected(),t="​"+(e?l.value:"");l.value="⇚",l.value=t,n.prevInput=e?"":"​",l.selectionStart=1,l.selectionEnd=t.length,o.selForContextMenu=i.doc.sel}}function r(){if(n.contextMenuPending=!1,n.wrapper.style.cssText=c,l.style.cssText=u,gl&&vl<9&&o.scrollbars.setScrollTop(o.scroller.scrollTop=a),null!=l.selectionStart){(!gl||gl&&vl<9)&&t();var e=0,r=function(){o.selForContextMenu==i.doc.sel&&0==l.selectionStart&&l.selectionEnd>0&&"​"==n.prevInput?dn(i,Mi)(i):e++<10?o.detectingSelectAll=setTimeout(r,500):(o.selForContextMenu=null,o.input.reset())};o.detectingSelectAll=setTimeout(r,200)}}var n=this,i=n.cm,o=i.display,l=n.textarea,s=Sr(i,e),a=o.scroller.scrollTop;if(s&&!wl){i.options.resetSelectionOnContextMenu&&-1==i.doc.sel.contains(s)&&dn(i,bi)(i.doc,Rn(s),Gl);var u=l.style.cssText,c=n.wrapper.style.cssText;n.wrapper.style.cssText="position: absolute";var f=n.wrapper.getBoundingClientRect();l.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-f.top-5)+"px; left: "+(e.clientX-f.left-5)+"px;\n      z-index: 1000; background: "+(gl?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";var h;if(ml&&(h=window.scrollY),o.input.focus(),ml&&window.scrollTo(null,h),o.input.reset(),i.somethingSelected()||(l.value=n.prevInput=" "),n.contextMenuPending=!0,o.selForContextMenu=i.doc.sel,clearTimeout(o.detectingSelectAll),gl&&vl>=9&&t(),Hl){Fe(e);var d=function(){ke(window,"mouseup",d),setTimeout(r,20)};Ql(window,"mouseup",d)}else setTimeout(r,50)}},Qs.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e},Qs.prototype.setUneditable=function(){},Qs.prototype.needsContentAttribute=!1,function(e){function t(t,n,i,o){e.defaults[t]=n,i&&(r[t]=o?function(e,t,r){r!=Xs&&i(e,t,r)}:i)}var r=e.optionHandlers;e.defineOption=t,e.Init=Xs,t("value","",function(e,t){return e.setValue(t)},!0),t("mode",null,function(e,t){e.doc.modeOption=t,jn(e)},!0),t("indentUnit",2,jn,!0),t("indentWithTabs",!1),t("smartIndent",!0),t("tabSize",4,function(e){Xn(e),er(e),vn(e)},!0),t("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var r=[],n=e.doc.first;e.doc.iter(function(e){for(var i=0;;){var o=e.text.indexOf(t,i);if(-1==o)break;i=o+t.length,r.push(E(n,o))}n++});for(var i=r.length-1;i>=0;i--)Ei(e.doc,t,r[i],E(r[i].line,r[i].ch+t.length))}}),t("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,t,r){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),r!=Xs&&e.refresh()}),t("specialCharPlaceholder",at,function(e){return e.refresh()},!0),t("electricChars",!0),t("inputStyle",Tl?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),t("spellcheck",!1,function(e,t){return e.getInputField().spellcheck=t},!0),t("rtlMoveVisually",!Ol),t("wholeLineUpdateBefore",!0),t("theme","default",function(e){Go(e),Uo(e)},!0),t("keyMap","default",function(e,t,r){var n=uo(t),i=r!=Xs&&uo(r);i&&i.detach&&i.detach(e,n),n.attach&&n.attach(e,i||null)}),t("extraKeys",null),t("configureMouse",null),t("lineWrapping",!1,Ko,!0),t("gutters",[],function(e){Fn(e.options),Uo(e)},!0),t("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?wr(e.display)+"px":"0",e.refresh()},!0),t("coverGutterNextToScrollbar",!1,function(e){return en(e)},!0),t("scrollbarStyle","native",function(e){rn(e),en(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),t("lineNumbers",!1,function(e){Fn(e.options),Uo(e)},!0),t("firstLineNumber",1,Uo,!0),t("lineNumberFormatter",function(e){return e},Uo,!0),t("showCursorWhenSelecting",!1,kr,!0),t("resetSelectionOnContextMenu",!0),t("lineWiseCopyCut",!0),t("pasteLinesPerSelection",!0),t("readOnly",!1,function(e,t){"nocursor"==t&&(Fr(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)}),t("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),t("dragDrop",!0,Vo),t("allowDropFileTypes",null),t("cursorBlinkRate",530),t("cursorScrollMargin",0),t("cursorHeight",1,kr,!0),t("singleCursorHeightPerLine",!0,kr,!0),t("workTime",100),t("workDelay",100),t("flattenSpans",!0,Xn,!0),t("addModeClass",!1,Xn,!0),t("pollInterval",100),t("undoDepth",200,function(e,t){return e.doc.history.undoDepth=t}),t("historyEventDelay",1250),t("viewportMargin",10,function(e){return e.refresh()},!0),t("maxHighlightLength",1e4,Xn,!0),t("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),t("tabindex",null,function(e,t){return e.display.input.getField().tabIndex=t||""}),t("autofocus",null),t("direction","ltr",function(e,t){return e.doc.setDirection(t)},!0)}(jo),function(e){var t=e.optionHandlers,r=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,r){var n=this.options,i=n[e];n[e]==r&&"mode"!=e||(n[e]=r,t.hasOwnProperty(e)&&dn(this,t[e])(this,r,i),Te(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](uo(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,r=0;r<t.length;++r)if(t[r]==e||t[r].name==e)return t.splice(r,1),!0},addOverlay:pn(function(t,r){var n=t.token?t:e.getMode(this.options,t);if(n.startState)throw new Error("Overlays may not be stateful.");m(this.state.overlays,{mode:n,modeSpec:t,opaque:r&&r.opaque,priority:r&&r.priority||0},function(e){return e.priority}),this.state.modeGen++,vn(this)}),removeOverlay:pn(function(e){for(var t=this,r=this.state.overlays,n=0;n<r.length;++n){var i=r[n].modeSpec;if(i==e||"string"==typeof e&&i.name==e)return r.splice(n,1),t.state.modeGen++,void vn(t)}}),indentLine:pn(function(e,t,r){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),H(this.doc,e)&&Yo(this,e,t,r)}),indentSelection:pn(function(e){for(var t=this,r=this.doc.sel.ranges,n=-1,i=0;i<r.length;i++){var o=r[i];if(o.empty())o.head.line>n&&(Yo(t,o.head.line,e,!0),n=o.head.line,i==t.doc.sel.primIndex&&jr(t));else{var l=o.from(),s=o.to(),a=Math.max(n,l.line);n=Math.min(t.lastLine(),s.line-(s.ch?0:1))+1;for(var u=a;u<n;++u)Yo(t,u,e);var c=t.doc.sel.ranges;0==l.ch&&r.length==c.length&&c[i].from().ch>0&&gi(t.doc,i,new Ts(l,c[i].to()),Gl)}}}),getTokenAt:function(e,t){return Je(this,e,t)},getLineTokens:function(e,t){return Je(this,E(e),t,!0)},getTokenTypeAt:function(e){e=U(this.doc,e);var t,r=_e(this,M(this.doc,e.line)),n=0,i=(r.length-1)/2,o=e.ch;if(0==o)t=r[2];else for(;;){var l=n+i>>1;if((l?r[2*l-1]:0)>=o)i=l;else{if(!(r[2*l+1]<o)){t=r[2*l+2];break}n=l+1}}var s=t?t.indexOf("overlay "):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var r=this.doc.mode;return r.innerMode?e.innerMode(r,this.getTokenAt(t).state).mode:r},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=this,i=[];if(!r.hasOwnProperty(t))return i;var o=r[t],l=this.getModeAt(e);if("string"==typeof l[t])o[l[t]]&&i.push(o[l[t]]);else if(l[t])for(var s=0;s<l[t].length;s++){var a=o[l[t][s]];a&&i.push(a)}else l.helperType&&o[l.helperType]?i.push(o[l.helperType]):o[l.name]&&i.push(o[l.name]);for(var u=0;u<o._global.length;u++){var c=o._global[u];c.pred(l,n)&&-1==h(i,c.val)&&i.push(c.val)}return i},getStateAfter:function(e,t){var r=this.doc;return e=G(r,null==e?r.first+r.size-1:e),$e(this,e+1,t).state},cursorCoords:function(e,t){var r,n=this.doc.sel.primary();return r=null==e?n.head:"object"==typeof e?U(this.doc,e):e?n.from():n.to(),sr(this,r,t||"page")},charCoords:function(e,t){return lr(this,U(this.doc,e),t||"page")},coordsChar:function(e,t){return e=or(this,e,t||"page"),cr(this,e.left,e.top)},lineAtHeight:function(e,t){return e=or(this,{top:e,left:0},t||"page").top,D(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,r){var n,i=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,i=!0),n=M(this.doc,e)}else n=e;return ir(this,n,{top:0,left:0},t||"page",r||i).top+(i?this.doc.height-ye(n):0)},defaultTextHeight:function(){return mr(this.display)},defaultCharWidth:function(){return yr(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,r,n,i){var o=this.display,l=(e=sr(this,U(this.doc,e))).bottom,s=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==n)l=e.top;else if("above"==n||"near"==n){var a=Math.max(o.wrapper.clientHeight,this.doc.height),u=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==n||e.bottom+t.offsetHeight>a)&&e.top>t.offsetHeight?l=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=a&&(l=e.bottom),s+t.offsetWidth>u&&(s=u-t.offsetWidth)}t.style.top=l+"px",t.style.left=t.style.right="","right"==i?(s=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?s=0:"middle"==i&&(s=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),r&&Ur(this,{left:s,top:l,right:s+t.offsetWidth,bottom:l+t.offsetHeight})},triggerOnKeyDown:pn(Lo),triggerOnKeyPress:pn(Mo),triggerOnKeyUp:To,triggerOnMouseDown:pn(Oo),execCommand:function(e){if(Bs.hasOwnProperty(e))return Bs[e].call(null,this)},triggerElectric:pn(function(e){Zo(this,e)}),findPosH:function(e,t,r,n){var i=this,o=1;t<0&&(o=-1,t=-t);for(var l=U(this.doc,e),s=0;s<t&&!(l=tl(i.doc,l,o,r,n)).hitSide;++s);return l},moveH:pn(function(e,t){var r=this;this.extendSelectionsBy(function(n){return r.display.shift||r.doc.extend||n.empty()?tl(r.doc,n.head,e,t,r.options.rtlMoveVisually):e<0?n.from():n.to()},Vl)}),deleteH:pn(function(e,t){var r=this.doc.sel,n=this.doc;r.somethingSelected()?n.replaceSelection("",null,"+delete"):co(this,function(r){var i=tl(n,r.head,e,t,!1);return e<0?{from:i,to:r.head}:{from:r.head,to:i}})}),findPosV:function(e,t,r,n){var i=this,o=1,l=n;t<0&&(o=-1,t=-t);for(var s=U(this.doc,e),a=0;a<t;++a){var u=sr(i,s,"div");if(null==l?l=u.left:u.left=l,(s=rl(i,u,o,r)).hitSide)break}return s},moveV:pn(function(e,t){var r=this,n=this.doc,i=[],o=!this.display.shift&&!n.extend&&n.sel.somethingSelected();if(n.extendSelectionsBy(function(l){if(o)return e<0?l.from():l.to();var s=sr(r,l.head,"div");null!=l.goalColumn&&(s.left=l.goalColumn),i.push(s.left);var a=rl(r,s,e,t);return"page"==t&&l==n.sel.primary()&&Kr(r,lr(r,a,"div").top-s.top),a},Vl),i.length)for(var l=0;l<n.sel.ranges.length;l++)n.sel.ranges[l].goalColumn=i[l]}),findWordAt:function(e){var t=M(this.doc,e.line).text,r=e.ch,n=e.ch;if(t){var i=this.getHelper(e,"wordChars");"before"!=e.sticky&&n!=t.length||!r?++n:--r;for(var o=t.charAt(r),l=x(o,i)?function(e){return x(e,i)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!x(e)};r>0&&l(t.charAt(r-1));)--r;for(;n<t.length&&l(t.charAt(n));)++n}return new Ts(E(e.line,r),E(e.line,n))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?s(this.display.cursorDiv,"CodeMirror-overwrite"):Fl(this.display.cursorDiv,"CodeMirror-overwrite"),Te(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==l()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:pn(function(e,t){Xr(this,e,t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-zt(this)-this.display.barHeight,width:e.scrollWidth-zt(this)-this.display.barWidth,clientHeight:Bt(this),clientWidth:Rt(this)}},scrollIntoView:pn(function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:E(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?Yr(this,e):$r(this,e.from,e.to,e.margin)}),setSize:pn(function(e,t){var r=this,n=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=n(e)),null!=t&&(this.display.wrapper.style.height=n(t)),this.options.lineWrapping&&Jt(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){mn(r,i,"widget");break}++i}),this.curOp.forceUpdate=!0,Te(this,"refresh",this)}),operation:function(e){return hn(this,e)},startOperation:function(){return nn(this)},endOperation:function(){return on(this)},refresh:pn(function(){var e=this.display.cachedTextHeight;vn(this),this.curOp.forceUpdate=!0,er(this),Xr(this,this.doc.scrollLeft,this.doc.scrollTop),Wn(this),(null==e||Math.abs(e-mr(this.display))>.5)&&Cr(this),Te(this,"refresh",this)}),swapDoc:pn(function(e){var t=this.doc;return t.cm=null,qn(this,e),er(this),this.display.input.reset(),Xr(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,bt(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ae(e),e.registerHelper=function(t,n,i){r.hasOwnProperty(t)||(r[t]=e[t]={_global:[]}),r[t][n]=i},e.registerGlobalHelper=function(t,n,i,o){e.registerHelper(t,n,o),r[t]._global.push({pred:i,val:o})}}(jo);var Js="iter insert remove copy getEditor constructor".split(" ");for(var ea in Ds.prototype)Ds.prototype.hasOwnProperty(ea)&&h(Js,ea)<0&&(jo.prototype[ea]=function(e){return function(){return e.apply(this.doc,arguments)}}(Ds.prototype[ea]));return Ae(Ds),jo.inputStyles={textarea:Qs,contenteditable:Zs},jo.defineMode=function(e){jo.defaults.mode||"null"==e||(jo.defaults.mode=e),Be.apply(this,arguments)},jo.defineMIME=function(e,t){os[e]=t},jo.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),jo.defineMIME("text/plain","null"),jo.defineExtension=function(e,t){jo.prototype[e]=t},jo.defineDocExtension=function(e,t){Ds.prototype[e]=t},jo.fromTextArea=function(e,t){function r(){e.value=a.getValue()}if(t=t?c(t):{},t.value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var n=l();t.autofocus=n==e||null!=e.getAttribute("autofocus")&&n==document.body}var i;if(e.form&&(Ql(e.form,"submit",r),!t.leaveSubmitMethodAlone)){var o=e.form;i=o.submit;try{var s=o.submit=function(){r(),o.submit=i,o.submit(),o.submit=s}}catch(e){}}t.finishInit=function(t){t.save=r,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,r(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(ke(e.form,"submit",r),"function"==typeof e.form.submit&&(e.form.submit=i))}},e.style.display="none";var a=jo(function(t){return e.parentNode.insertBefore(t,e.nextSibling)},t);return a},function(e){e.off=ke,e.on=Ql,e.wheelEventPixels=Pn,e.Doc=Ds,e.splitLines=es,e.countColumn=f,e.findColumn=d,e.isWordChar=w,e.Pass=Bl,e.signal=Te,e.Line=fs,e.changeEnd=Bn,e.scrollbarModel=ws,e.Pos=E,e.cmpPos=P,e.modes=is,e.mimeModes=os,e.resolveMode=Ge,e.getMode=Ue,e.modeExtensions=ls,e.extendMode=Ve,e.copyState=Ke,e.startState=Xe,e.innerMode=je,e.commands=Bs,e.keyMap=Rs,e.keyName=ao,e.isModifierKey=lo,e.lookupKey=oo,e.normalizeKeyMap=io,e.StringStream=ss,e.SharedTextMarker=As,e.TextMarker=Os,e.LineWidget=Ms,e.e_preventDefault=We,e.e_stopPropagation=De,e.e_stop=Fe,e.addClass=s,e.contains=o,e.rmClass=Fl,e.keyNames=Es}(jo),jo.version="5.30.0",jo});
      !function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e,t,n,r,o,a){this.indented=e,this.column=t,this.type=n,this.info=r,this.align=o,this.prev=a}function n(e,n,r,o){var a=e.indented;return e.context&&"statement"==e.context.type&&"statement"!=r&&(a=e.context.indented),e.context=new t(a,n,r,o,null,e.context)}function r(e){var t=e.context.type;return")"!=t&&"]"!=t&&"}"!=t||(e.indented=e.context.indented),e.context=e.context.prev}function o(e,t,n){return"variable"==t.prevToken||"type"==t.prevToken||(!!/\S(?:[^- ]>|[*\]])\s*$|\*$/.test(e.string.slice(0,n))||(!(!t.typeAtEndOfLine||e.column()!=e.indentation())||void 0))}function a(e){for(;;){if(!e||"top"==e.type)return!0;if("}"==e.type&&"namespace"!=e.prev.info)return!1;e=e.prev}}function i(e){for(var t={},n=e.split(" "),r=0;r<n.length;++r)t[n[r]]=!0;return t}function l(e,t){return"function"==typeof e?e(t):e.propertyIsEnumerable(t)}function s(e,t){if(!t.startOfLine)return!1;for(var n,r=null;n=e.peek();){if("\\"==n&&e.match(/^.$/)){r=s;break}if("/"==n&&e.match(/^\/[\/\*]/,!1))break;e.next()}return t.tokenize=r,"meta"}function c(e,t){return"type"==t.prevToken&&"type"}function u(e){return e.eatWhile(/[\w\.']/),"number"}function d(e,t){if(e.backUp(1),e.match(/(R|u8R|uR|UR|LR)/)){var n=e.match(/"([^\s\\()]{0,16})\(/);return!!n&&(t.cpp11RawStringDelim=n[1],t.tokenize=m,m(e,t))}return e.match(/(u8|u|U|L)/)?!!e.match(/["']/,!1)&&"string":(e.next(),!1)}function f(e){var t=/(\w+)::~?(\w+)$/.exec(e);return t&&t[1]==t[2]}function p(e,t){for(var n;null!=(n=e.next());)if('"'==n&&!e.eat('"')){t.tokenize=null;break}return"string"}function m(e,t){var n=t.cpp11RawStringDelim.replace(/[^\w\s]/g,"\\$&");return e.match(new RegExp(".*?\\)"+n+'"'))?t.tokenize=null:e.skipToEnd(),"string"}function h(t,n){function r(e){if(e)for(var t in e)e.hasOwnProperty(t)&&o.push(t)}"string"==typeof t&&(t=[t]);var o=[];r(n.keywords),r(n.types),r(n.builtin),r(n.atoms),o.length&&(n.helperType=t[0],e.registerHelper("hintWords",t[0],o));for(var a=0;a<t.length;++a)e.defineMIME(t[a],n)}function g(e,t){for(var n=!1;!e.eol();){if(!n&&e.match('"""')){t.tokenize=null;break}n="\\"==e.next()&&!n}return"string"}function y(e){return function(t,n){for(var r,o=!1,a=!1;!t.eol();){if(!e&&!o&&t.match('"')){a=!0;break}if(e&&t.match('"""')){a=!0;break}r=t.next(),!o&&"$"==r&&t.match("{")&&t.skipTo("}"),o=!o&&"\\"==r&&!e}return!a&&e||(n.tokenize=null),"string"}}function x(e){return function(t,n){for(var r,o=!1,a=!1;!t.eol();){if(!o&&t.match('"')&&("single"==e||t.match('""'))){a=!0;break}if(!o&&t.match("``")){w=x(e),a=!0;break}r=t.next(),o="single"==e&&!o&&"\\"==r}return a&&(n.tokenize=null),"string"}}e.defineMode("clike",function(i,s){function c(e,t){var n=e.next();if(S[n]){var r=S[n](e,t);if(!1!==r)return r}if('"'==n||"'"==n)return t.tokenize=u(n),t.tokenize(e,t);if(D.test(n))return p=n,null;if(L.test(n)){if(e.backUp(1),e.match(I))return"number";e.next()}if("/"==n){if(e.eat("*"))return t.tokenize=d,d(e,t);if(e.eat("/"))return e.skipToEnd(),"comment"}if(F.test(n)){for(;!e.match(/^\/[\/*]/,!1)&&e.eat(F););return"operator"}if(e.eatWhile(z),P)for(;e.match(P);)e.eatWhile(z);var o=e.current();return l(x,o)?(l(w,o)&&(p="newstatement"),l(v,o)&&(m=!0),"keyword"):l(b,o)?"type":l(k,o)?(l(w,o)&&(p="newstatement"),"builtin"):l(_,o)?"atom":"variable"}function u(e){return function(t,n){for(var r,o=!1,a=!1;null!=(r=t.next());){if(r==e&&!o){a=!0;break}o=!o&&"\\"==r}return(a||!o&&!C)&&(n.tokenize=null),"string"}}function d(e,t){for(var n,r=!1;n=e.next();){if("/"==n&&r){t.tokenize=null;break}r="*"==n}return"comment"}function f(e,t){s.typeFirstDefinitions&&e.eol()&&a(t.context)&&(t.typeAtEndOfLine=o(e,t,e.pos))}var p,m,h=i.indentUnit,g=s.statementIndentUnit||h,y=s.dontAlignCalls,x=s.keywords||{},b=s.types||{},k=s.builtin||{},w=s.blockKeywords||{},v=s.defKeywords||{},_=s.atoms||{},S=s.hooks||{},C=s.multiLineStrings,T=!1!==s.indentStatements,M=!1!==s.indentSwitch,P=s.namespaceSeparator,D=s.isPunctuationChar||/[\[\]{}\(\),;\:\.]/,L=s.numberStart||/[\d\.]/,I=s.number||/^(?:0x[a-f\d]+|0b[01]+|(?:\d+\.?\d*|\.\d+)(?:e[-+]?\d+)?)(u|ll?|l|f)?/i,F=s.isOperatorChar||/[+\-*&%=<>!?|\/]/,z=s.isIdentifierChar||/[\w\$_\xa1-\uffff]/;return{startState:function(e){return{tokenize:null,context:new t((e||0)-h,0,"top",null,!1),indented:0,startOfLine:!0,prevToken:null}},token:function(e,t){var i=t.context;if(e.sol()&&(null==i.align&&(i.align=!1),t.indented=e.indentation(),t.startOfLine=!0),e.eatSpace())return f(e,t),null;p=m=null;var l=(t.tokenize||c)(e,t);if("comment"==l||"meta"==l)return l;if(null==i.align&&(i.align=!0),";"==p||":"==p||","==p&&e.match(/^\s*(?:\/\/.*)?$/,!1))for(;"statement"==t.context.type;)r(t);else if("{"==p)n(t,e.column(),"}");else if("["==p)n(t,e.column(),"]");else if("("==p)n(t,e.column(),")");else if("}"==p){for(;"statement"==i.type;)i=r(t);for("}"==i.type&&(i=r(t));"statement"==i.type;)i=r(t)}else p==i.type?r(t):T&&(("}"==i.type||"top"==i.type)&&";"!=p||"statement"==i.type&&"newstatement"==p)&&n(t,e.column(),"statement",e.current());if("variable"==l&&("def"==t.prevToken||s.typeFirstDefinitions&&o(e,t,e.start)&&a(t.context)&&e.match(/^\s*\(/,!1))&&(l="def"),S.token){var u=S.token(e,t,l);void 0!==u&&(l=u)}return"def"==l&&!1===s.styleDefs&&(l="variable"),t.startOfLine=!1,t.prevToken=m?"def":l||p,f(e,t),l},indent:function(t,n){if(t.tokenize!=c&&null!=t.tokenize||t.typeAtEndOfLine)return e.Pass;var r=t.context,o=n&&n.charAt(0);if("statement"==r.type&&"}"==o&&(r=r.prev),s.dontIndentStatements)for(;"statement"==r.type&&s.dontIndentStatements.test(r.info);)r=r.prev;if(S.indent){var a=S.indent(t,r,n);if("number"==typeof a)return a}var i=o==r.type,l=r.prev&&"switch"==r.prev.info;if(s.allmanIndentation&&/[{(]/.test(o)){for(;"top"!=r.type&&"}"!=r.type;)r=r.prev;return r.indented}return"statement"==r.type?r.indented+("{"==o?0:g):!r.align||y&&")"==r.type?")"!=r.type||i?r.indented+(i?0:h)+(i||!l||/^(?:case|default)\b/.test(n)?0:h):r.indented+g:r.column+(i?0:1)},electricInput:M?/^\s*(?:case .*?:|default:|\{\}?|\})$/:/^\s*[{}]$/,blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",fold:"brace"}});var b="auto if break case register continue return default do sizeof static else struct switch extern typedef union for goto while enum const volatile",k="int long char short double float unsigned signed void size_t ptrdiff_t";h(["text/x-csrc","text/x-c","text/x-chdr"],{name:"clike",keywords:i(b),types:i(k+" bool _Complex _Bool float_t double_t intptr_t intmax_t int8_t int16_t int32_t int64_t uintptr_t uintmax_t uint8_t uint16_t uint32_t uint64_t"),blockKeywords:i("case do else for if switch while struct"),defKeywords:i("struct"),typeFirstDefinitions:!0,atoms:i("null true false"),hooks:{"#":s,"*":c},modeProps:{fold:["brace","include"]}}),h(["text/x-c++src","text/x-c++hdr"],{name:"clike",keywords:i(b+" asm dynamic_cast namespace reinterpret_cast try explicit new static_cast typeid catch operator template typename class friend private this using const_cast inline public throw virtual delete mutable protected alignas alignof constexpr decltype nullptr noexcept thread_local final static_assert override"),types:i(k+" bool wchar_t"),blockKeywords:i("catch class do else finally for if struct switch try while"),defKeywords:i("class namespace struct enum union"),typeFirstDefinitions:!0,atoms:i("true false null"),dontIndentStatements:/^template$/,isIdentifierChar:/[\w\$_~\xa1-\uffff]/,hooks:{"#":s,"*":c,u:d,U:d,L:d,R:d,0:u,1:u,2:u,3:u,4:u,5:u,6:u,7:u,8:u,9:u,token:function(e,t,n){if("variable"==n&&"("==e.peek()&&(";"==t.prevToken||null==t.prevToken||"}"==t.prevToken)&&f(e.current()))return"def"}},namespaceSeparator:"::",modeProps:{fold:["brace","include"]}}),h("text/x-java",{name:"clike",keywords:i("abstract assert break case catch class const continue default do else enum extends final finally float for goto if implements import instanceof interface native new package private protected public return static strictfp super switch synchronized this throw throws transient try volatile while @interface"),types:i("byte short int long float double boolean char void Boolean Byte Character Double Float Integer Long Number Object Short String StringBuffer StringBuilder Void"),blockKeywords:i("catch class do else finally for if switch try while"),defKeywords:i("class interface package enum @interface"),typeFirstDefinitions:!0,atoms:i("true false null"),number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+\.?\d*|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,hooks:{"@":function(e){return!e.match("interface",!1)&&(e.eatWhile(/[\w\$_]/),"meta")}},modeProps:{fold:["brace","import"]}}),h("text/x-csharp",{name:"clike",keywords:i("abstract as async await base break case catch checked class const continue default delegate do else enum event explicit extern finally fixed for foreach goto if implicit in interface internal is lock namespace new operator out override params private protected public readonly ref return sealed sizeof stackalloc static struct switch this throw try typeof unchecked unsafe using virtual void volatile while add alias ascending descending dynamic from get global group into join let orderby partial remove select set value var yield"),types:i("Action Boolean Byte Char DateTime DateTimeOffset Decimal Double Func Guid Int16 Int32 Int64 Object SByte Single String Task TimeSpan UInt16 UInt32 UInt64 bool byte char decimal double short int long object sbyte float string ushort uint ulong"),blockKeywords:i("catch class do else finally for foreach if struct switch try while"),defKeywords:i("class interface namespace struct var"),typeFirstDefinitions:!0,atoms:i("true false null"),hooks:{"@":function(e,t){return e.eat('"')?(t.tokenize=p,p(e,t)):(e.eatWhile(/[\w\$_]/),"meta")}}}),h("text/x-scala",{name:"clike",keywords:i("abstract case catch class def do else extends final finally for forSome if implicit import lazy match new null object override package private protected return sealed super this throw trait try type val var while with yield _ assert assume require print println printf readLine readBoolean readByte readShort readChar readInt readLong readFloat readDouble"),types:i("AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either Enumeration Equiv Error Exception Fractional Function IndexedSeq Int Integral Iterable Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),multiLineStrings:!0,blockKeywords:i("catch class enum do else finally for forSome if match switch try while"),defKeywords:i("class enum def object package trait type val var"),atoms:i("true false null"),indentStatements:!1,indentSwitch:!1,isOperatorChar:/[+\-*&%=<>!?|\/#:@]/,hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"},'"':function(e,t){return!!e.match('""')&&(t.tokenize=g,t.tokenize(e,t))},"'":function(e){return e.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"},"=":function(e,n){var r=n.context;return!("}"!=r.type||!r.align||!e.eat(">"))&&(n.context=new t(r.indented,r.column,r.type,r.info,null,r.prev),"operator")}},modeProps:{closeBrackets:{triples:'"'}}}),h("text/x-kotlin",{name:"clike",keywords:i("package as typealias class interface this super val var fun for is in This throw return break continue object if else while do try when !in !is as? file import where by get set abstract enum open inner override private public internal protected catch finally out final vararg reified dynamic companion constructor init sealed field property receiver param sparam lateinit data inline noinline tailrec external annotation crossinline const operator infix suspend"),types:i("Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),intendSwitch:!1,indentStatements:!1,multiLineStrings:!0,number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+\.?\d*|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,blockKeywords:i("catch class do else finally for if where try while enum"),defKeywords:i("class val var object package interface fun"),atoms:i("true false null this"),hooks:{'"':function(e,t){return t.tokenize=y(e.match('""')),t.tokenize(e,t)}},modeProps:{closeBrackets:{triples:'"'}}}),h(["x-shader/x-vertex","x-shader/x-fragment"],{name:"clike",keywords:i("sampler1D sampler2D sampler3D samplerCube sampler1DShadow sampler2DShadow const attribute uniform varying break continue discard return for while do if else struct in out inout"),types:i("float int bool void vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 mat2 mat3 mat4"),blockKeywords:i("for while do if else struct"),builtin:i("radians degrees sin cos tan asin acos atan pow exp log exp2 sqrt inversesqrt abs sign floor ceil fract mod min max clamp mix step smoothstep length distance dot cross normalize ftransform faceforward reflect refract matrixCompMult lessThan lessThanEqual greaterThan greaterThanEqual equal notEqual any all not texture1D texture1DProj texture1DLod texture1DProjLod texture2D texture2DProj texture2DLod texture2DProjLod texture3D texture3DProj texture3DLod texture3DProjLod textureCube textureCubeLod shadow1D shadow2D shadow1DProj shadow2DProj shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod dFdx dFdy fwidth noise1 noise2 noise3 noise4"),atoms:i("true false gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 gl_FogCoord gl_PointCoord gl_Position gl_PointSize gl_ClipVertex gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor gl_TexCoord gl_FogFragCoord gl_FragCoord gl_FrontFacing gl_FragData gl_FragDepth gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse gl_TexureMatrixTranspose gl_ModelViewMatrixInverseTranspose gl_ProjectionMatrixInverseTranspose gl_ModelViewProjectionMatrixInverseTranspose gl_TextureMatrixInverseTranspose gl_NormalScale gl_DepthRange gl_ClipPlane gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel gl_FrontLightModelProduct gl_BackLightModelProduct gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ gl_FogParameters gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits gl_MaxDrawBuffers"),indentSwitch:!1,hooks:{"#":s},modeProps:{fold:["brace","include"]}}),h("text/x-nesc",{name:"clike",keywords:i(b+"as atomic async call command component components configuration event generic implementation includes interface module new norace nx_struct nx_union post provides signal task uses abstract extends"),types:i(k),blockKeywords:i("case do else for if switch while struct"),atoms:i("null true false"),hooks:{"#":s},modeProps:{fold:["brace","include"]}}),h("text/x-objectivec",{name:"clike",keywords:i(b+"inline restrict _Bool _Complex _Imaginary BOOL Class bycopy byref id IMP in inout nil oneway out Protocol SEL self super atomic nonatomic retain copy readwrite readonly"),types:i(k),atoms:i("YES NO NULL NILL ON OFF true false"),hooks:{"@":function(e){return e.eatWhile(/[\w\$]/),"keyword"},"#":s,indent:function(e,t,n){if("statement"==t.type&&/^@\w/.test(n))return t.indented}},modeProps:{fold:"brace"}}),h("text/x-squirrel",{name:"clike",keywords:i("base break clone continue const default delete enum extends function in class foreach local resume return this throw typeof yield constructor instanceof static"),types:i(k),blockKeywords:i("case catch class else for foreach if switch try while"),defKeywords:i("function local class"),typeFirstDefinitions:!0,atoms:i("true false null"),hooks:{"#":s},modeProps:{fold:["brace","include"]}});var w=null;h("text/x-ceylon",{name:"clike",keywords:i("abstracts alias assembly assert assign break case catch class continue dynamic else exists extends finally for function given if import in interface is let module new nonempty object of out outer package return satisfies super switch then this throw try value void while"),types:function(e){var t=e.charAt(0);return t===t.toUpperCase()&&t!==t.toLowerCase()},blockKeywords:i("case catch class dynamic else finally for function if interface module new object switch try while"),defKeywords:i("class dynamic function interface module object package value"),builtin:i("abstract actual aliased annotation by default deprecated doc final formal late license native optional sealed see serializable shared suppressWarnings tagged throws variable"),isPunctuationChar:/[\[\]{}\(\),;\:\.`]/,isOperatorChar:/[+\-*&%=<>!?|^~:\/]/,numberStart:/[\d#$]/,number:/^(?:#[\da-fA-F_]+|\$[01_]+|[\d_]+[kMGTPmunpf]?|[\d_]+\.[\d_]+(?:[eE][-+]?\d+|[kMGTPmunpf]|)|)/i,multiLineStrings:!0,typeFirstDefinitions:!0,atoms:i("true false null larger smaller equal empty finished"),indentSwitch:!1,styleDefs:!1,hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"},'"':function(e,t){return t.tokenize=x(e.match('""')?"triple":"single"),t.tokenize(e,t)},"`":function(e,t){return!(!w||!e.match("`"))&&(t.tokenize=w,w=null,t.tokenize(e,t))},"'":function(e){return e.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"},token:function(e,t,n){if(("variable"==n||"type"==n)&&"."==t.prevToken)return"variable-2"}},modeProps:{fold:["brace","import"],closeBrackets:{triples:'"'}}})});
      // -------------------------------------------------------------------------
//  Part of the CodeChecker project, under the Apache License v2.0 with
//  LLVM Exceptions. See LICENSE for license information.
//  SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception
// -------------------------------------------------------------------------

var BugViewer = {
  _files : [],
  _reports : [],
  _lineWidgets : [],
  _navigationMenuItems : [],
  _sourceFileData : null,
  _currentReport : null,
  _lastBugEvent  : null,

  init : function (files, reports) {
    this._files = files;
    this._reports = reports;

    this.initEscapeChars();
  },

  initEscapeChars : function () {
    this.escapeChars = {
      ' ' : 'nbsp',
      '<' : 'lt',
      '>' : 'gt',
      '"' : 'quot',
      '&' : 'amp'
    };

    var regexString = '[';
    for (var key in this.escapeChars) {
      regexString += key;
    }
    regexString += ']';

    this.escapeRegExp = new RegExp( regexString, 'g');
  },

  escapeHTML : function (str) {
    var that = this;

    return str.replace(this.escapeRegExp, function (m) {
      return '&' + that.escapeChars[m] + ';';
    });
  },

  initByUrl : function () {
    if (!this._reports) return;

    var state = {};
    window.location.hash.substr(1).split('&').forEach(function (s) {
      var parts = s.split('=');
      state[parts[0]] = parts[1];
    });

    for (var key in this._reports) {
      var report = this._reports[key];
      if (report.reportHash === state['reportHash']) {
        this.navigate(report);
        return;
      }
    }

    this.navigate(this._reports[0]);
  },

  create : function () {
    this._content = document.getElementById('editor-wrapper');
    this._filepath = document.getElementById('file-path');
    this._checkerName = document.getElementById('checker-name');
    this._reviewStatusWrapper =
      document.getElementById('review-status-wrapper');
    this._reviewStatus = document.getElementById('review-status');
    this._editor = document.getElementById('editor');

    this._codeMirror = CodeMirror(this._editor, {
      mode: 'text/x-c++src',
      matchBrackets : true,
      lineNumbers : true,
      readOnly : true,
      foldGutter : true,
      extraKeys : {},
      viewportMargin : 100
    });

    this._createNavigationMenu();
  },

  navigate : function (report, item) {
    if (!item) {
      var items = this._navigationMenuItems.filter(function (navItem) {
        return navItem.report.reportHash === report.reportHash;
      });

      if (!items.length) return;

      item = items[0].widget;
    }

    this._selectedReport.classList.remove('active');
    this._selectedReport = item;
    this._selectedReport.classList.add('active');
    this.setReport(report);
  },

  _createNavigationMenu : function () {
    var that = this;

    var nav = document.getElementById('report-nav');
    var list = document.createElement('ul');
    this._reports.forEach(function (report) {
      var events = report['events'];
      var lastBugEvent = events[events.length - 1];
      var item = document.createElement('li');

      var severity = document.createElement('i');
      severity.className = 'severity-' + report.severity.toLowerCase();

      item.appendChild(severity);
      item.appendChild(document.createTextNode(lastBugEvent.message));

      item.addEventListener('click', function () {
        that.navigate(report, item);
      })
      list.appendChild(item);
      that._navigationMenuItems.push({ report : report, widget : item });
    });

    if (!this._selectedReport && list.childNodes.length) {
      this._selectedReport = list.childNodes[0];
      this._selectedReport.classList.add('active');
    }

    nav.appendChild(list);
  },

  setReport : function (report) {
    this._currentReport = report;
    var events = report['events'];
    var lastBugEvent = events[events.length - 1];
    this.setCurrentBugEvent(lastBugEvent, events.length - 1);
    this.setCheckerName(report.checkerName);
    this.setReviewStatus(report.reviewStatus);

    window.location.hash = '#reportHash=' + report.reportHash;
  },

  setCurrentBugEvent : function (event, idx) {
    this._currentBugEvent = event;
    this.setSourceFileData(this._files[event.location.file]);
    this.drawBugPath();

    this.jumpTo(event.location.line, 0);
    this.highlightBugEvent(event, idx);
  },

  highlightBugEvent : function (event, idx) {
    this._lineWidgets.forEach(function (widget) {
      var lineIdx = widget.node.getAttribute('idx');
      if (parseInt(lineIdx) === idx) {
        widget.node.classList.add('current');
      }
    });
  },

  setCheckerName : function (checkerName) {
    this._checkerName.innerHTML = checkerName;
  },

  setReviewStatus : function (status) {
    if (status) {
      var className =
        'review-status-' + status.toLowerCase().split(' ').join('-');
      this._reviewStatus.className = "review-status " + className;

      this._reviewStatus.innerHTML = status;
      this._reviewStatusWrapper.style.display = 'block';
    } else {
      this._reviewStatusWrapper.style.display = 'none';
    }
  },

  setSourceFileData : function (file) {
    if (this._sourceFileData && file.id === this._sourceFileData.id) {
      return;
    }

    this._sourceFileData = file;
    this._filepath.innerHTML = file.path;
    this._codeMirror.doc.setValue(file.content);
    this._refresh();
  },

  _refresh : function () {
    var that = this;
    setTimeout(function () {
      var fullHeight = parseInt(that._content.clientHeight);
      var headerHeight = that._filepath.clientHeight;

      that._codeMirror.setSize('auto', fullHeight - headerHeight);
      that._codeMirror.refresh();
    }, 200);
  },

  clearBubbles : function () {
    this._lineWidgets.forEach(function (widget) { widget.clear(); });
    this._lineWidgets = [];
  },

  getMessage : function (event, kind) {
    if (kind === 'macro') {
      var name = 'macro expansion' + (event.name ? ': ' + event.name : '');

      return '<span class="tag macro">' + name + '</span>'
        + this.escapeHTML(event.expansion).replace(/(?:\r\n|\r|\n)/g, '<br>');
    } else if (kind === 'note') {
      return '<span class="tag note">note</span>'
        +  this.escapeHTML(event.message).replace(/(?:\r\n|\r|\n)/g, '<br>');
    }
  },

  addExtraPathEvents : function (events, kind) {
    var that = this;

    if (!events) {
      return;
    }

    events.forEach(function (event) {
      if (event.location.file !== that._currentBugEvent.location.file) {
        return;
      }

      var left =
        that._codeMirror.defaultCharWidth() * event.location.col + 'px';

      var element = document.createElement('div');
      element.setAttribute('style', 'margin-left: ' + left);
      element.setAttribute('class', 'check-msg ' + kind);

      var msg = document.createElement('span');
      msg.innerHTML = that.getMessage(event, kind);
      element.appendChild(msg);

      that._lineWidgets.push(that._codeMirror.addLineWidget(
        event.location.line - 1, element));
    });
  },

  drawBugPath : function () {
    var that = this;

    this.clearBubbles();

    this.addExtraPathEvents(this._currentReport.macros, 'macro');
    this.addExtraPathEvents(this._currentReport.notes, 'note');

    // Processing bug path events.
    var currentEvents = this._currentReport.events;
    currentEvents.forEach(function (event, step) {
      if (event.location.file !== that._currentBugEvent.location.file)
        return;

      var left =
        that._codeMirror.defaultCharWidth() * event.location.col + 'px';
      var type = step === currentEvents.length - 1 ? 'error' : 'info';

      var element = document.createElement('div');
      element.setAttribute('style', 'margin-left: ' + left);
      element.setAttribute('class', 'check-msg ' + type);
      element.setAttribute('idx', step);

      var enumeration = document.createElement('span');
      enumeration.setAttribute('class', 'checker-enum ' + type);
      enumeration.innerHTML = step + 1;

      if (currentEvents.length > 1)
        element.appendChild(enumeration);

      var prevBugEvent = step - 1;
      if (step > 0) {
        var prevBug = document.createElement('span');
        prevBug.setAttribute('class', 'arrow left-arrow');
        prevBug.addEventListener('click', function () {
          var event = currentEvents[prevBugEvent];
          that.setCurrentBugEvent(event, prevBugEvent);
        });
        element.appendChild(prevBug);
      }

      var msg = document.createElement('span');
      msg.innerHTML = that.escapeHTML(event.message)
        .replace(/(?:\r\n|\r|\n)/g, '<br>');

      element.appendChild(msg);

      var nextBugEvent = step + 1;
      if (nextBugEvent < currentEvents.length) {
        var nextBug = document.createElement('span');
        nextBug.setAttribute('class', 'arrow right-arrow');
        nextBug.addEventListener('click', function () {
          var event = currentEvents[nextBugEvent];
          that.setCurrentBugEvent(event, nextBugEvent);
        });
        element.appendChild(nextBug);
      }


      that._lineWidgets.push(that._codeMirror.addLineWidget(
        event.location.line - 1, element));
    });
  },

  jumpTo : function (line, column) {
    var that = this;

    setTimeout(function () {
      var selPosPixel
        = that._codeMirror.charCoords({ line : line, ch : column }, 'local');
      var editorSize = {
        width  : that._editor.clientWidth,
        height : that._editor.clientHeight
      };

      that._codeMirror.scrollIntoView({
        top    : selPosPixel.top - 100,
        bottom : selPosPixel.top + editorSize.height - 150,
        left   : selPosPixel.left < editorSize.width - 100
               ? 0
               : selPosPixel.left - 50,
        right  : selPosPixel.left < editorSize.width - 100
               ? 10
               : selPosPixel.left + editorSize.width - 100
      });
    }, 0);
  }
}


      var data = {"files": {"0": {"id": 0, "path": "/src/drivers/net/wireless/ath/ath10k/wmi.h", "content": "/* SPDX-License-Identifier: ISC */\n/*\n * Copyright (c) 2005-2011 Atheros Communications Inc.\n * Copyright (c) 2011-2017 Qualcomm Atheros, Inc.\n * Copyright (c) 2018-2019, The Linux Foundation. All rights reserved.\n */\n\n#ifndef _WMI_H_\n#define _WMI_H_\n\n#include <linux/types.h>\n#include <linux/ieee80211.h>\n\n/*\n * This file specifies the WMI interface for the Unified Software\n * Architecture.\n *\n * It includes definitions of all the commands and events. Commands are\n * messages from the host to the target. Events and Replies are messages\n * from the target to the host.\n *\n * Ownership of correctness in regards to WMI commands belongs to the host\n * driver and the target is not required to validate parameters for value,\n * proper range, or any other checking.\n *\n * Guidelines for extending this interface are below.\n *\n * 1. Add new WMI commands ONLY within the specified range - 0x9000 - 0x9fff\n *\n * 2. Use ONLY u32 type for defining member variables within WMI\n *    command/event structures. Do not use u8, u16, bool or\n *    enum types within these structures.\n *\n * 3. DO NOT define bit fields within structures. Implement bit fields\n *    using masks if necessary. Do not use the programming language's bit\n *    field definition.\n *\n * 4. Define macros for encode/decode of u8, u16 fields within\n *    the u32 variables. Use these macros for set/get of these fields.\n *    Try to use this to optimize the structure without bloating it with\n *    u32 variables for every lower sized field.\n *\n * 5. Do not use PACK/UNPACK attributes for the structures as each member\n *    variable is already 4-byte aligned by virtue of being a u32\n *    type.\n *\n * 6. Comment each parameter part of the WMI command/event structure by\n *    using the 2 stars at the beginning of C comment instead of one star to\n *    enable HTML document generation using Doxygen.\n *\n */\n\n/* Control Path */\nstruct wmi_cmd_hdr {\n\t__le32 cmd_id;\n} __packed;\n\n#define WMI_CMD_HDR_CMD_ID_MASK   0x00FFFFFF\n#define WMI_CMD_HDR_CMD_ID_LSB    0\n#define WMI_CMD_HDR_PLT_PRIV_MASK 0xFF000000\n#define WMI_CMD_HDR_PLT_PRIV_LSB  24\n\n#define HTC_PROTOCOL_VERSION    0x0002\n#define WMI_PROTOCOL_VERSION    0x0002\n\n/*\n * There is no signed version of __le32, so for a temporary solution come\n * up with our own version. The idea is from fs/ntfs/endian.h.\n *\n * Use a_ prefix so that it doesn't conflict if we get proper support to\n * linux/types.h.\n */\ntypedef __s32 __bitwise a_sle32;\n\nstatic inline a_sle32 a_cpu_to_sle32(s32 val)\n{\n\treturn (__force a_sle32)cpu_to_le32(val);\n}\n\nstatic inline s32 a_sle32_to_cpu(a_sle32 val)\n{\n\treturn le32_to_cpu((__force __le32)val);\n}\n\nenum wmi_service {\n\tWMI_SERVICE_BEACON_OFFLOAD = 0,\n\tWMI_SERVICE_SCAN_OFFLOAD,\n\tWMI_SERVICE_ROAM_OFFLOAD,\n\tWMI_SERVICE_BCN_MISS_OFFLOAD,\n\tWMI_SERVICE_STA_PWRSAVE,\n\tWMI_SERVICE_STA_ADVANCED_PWRSAVE,\n\tWMI_SERVICE_AP_UAPSD,\n\tWMI_SERVICE_AP_DFS,\n\tWMI_SERVICE_11AC,\n\tWMI_SERVICE_BLOCKACK,\n\tWMI_SERVICE_PHYERR,\n\tWMI_SERVICE_BCN_FILTER,\n\tWMI_SERVICE_RTT,\n\tWMI_SERVICE_RATECTRL,\n\tWMI_SERVICE_WOW,\n\tWMI_SERVICE_RATECTRL_CACHE,\n\tWMI_SERVICE_IRAM_TIDS,\n\tWMI_SERVICE_ARPNS_OFFLOAD,\n\tWMI_SERVICE_NLO,\n\tWMI_SERVICE_GTK_OFFLOAD,\n\tWMI_SERVICE_SCAN_SCH,\n\tWMI_SERVICE_CSA_OFFLOAD,\n\tWMI_SERVICE_CHATTER,\n\tWMI_SERVICE_COEX_FREQAVOID,\n\tWMI_SERVICE_PACKET_POWER_SAVE,\n\tWMI_SERVICE_FORCE_FW_HANG,\n\tWMI_SERVICE_GPIO,\n\tWMI_SERVICE_STA_DTIM_PS_MODULATED_DTIM,\n\tWMI_SERVICE_STA_UAPSD_BASIC_AUTO_TRIG,\n\tWMI_SERVICE_STA_UAPSD_VAR_AUTO_TRIG,\n\tWMI_SERVICE_STA_KEEP_ALIVE,\n\tWMI_SERVICE_TX_ENCAP,\n\tWMI_SERVICE_BURST,\n\tWMI_SERVICE_SMART_ANTENNA_SW_SUPPORT,\n\tWMI_SERVICE_SMART_ANTENNA_HW_SUPPORT,\n\tWMI_SERVICE_ROAM_SCAN_OFFLOAD,\n\tWMI_SERVICE_AP_PS_DETECT_OUT_OF_SYNC,\n\tWMI_SERVICE_EARLY_RX,\n\tWMI_SERVICE_STA_SMPS,\n\tWMI_SERVICE_FWTEST,\n\tWMI_SERVICE_STA_WMMAC,\n\tWMI_SERVICE_TDLS,\n\tWMI_SERVICE_MCC_BCN_INTERVAL_CHANGE,\n\tWMI_SERVICE_ADAPTIVE_OCS,\n\tWMI_SERVICE_BA_SSN_SUPPORT,\n\tWMI_SERVICE_FILTER_IPSEC_NATKEEPALIVE,\n\tWMI_SERVICE_WLAN_HB,\n\tWMI_SERVICE_LTE_ANT_SHARE_SUPPORT,\n\tWMI_SERVICE_BATCH_SCAN,\n\tWMI_SERVICE_QPOWER,\n\tWMI_SERVICE_PLMREQ,\n\tWMI_SERVICE_THERMAL_MGMT,\n\tWMI_SERVICE_RMC,\n\tWMI_SERVICE_MHF_OFFLOAD,\n\tWMI_SERVICE_COEX_SAR,\n\tWMI_SERVICE_BCN_TXRATE_OVERRIDE,\n\tWMI_SERVICE_NAN,\n\tWMI_SERVICE_L1SS_STAT,\n\tWMI_SERVICE_ESTIMATE_LINKSPEED,\n\tWMI_SERVICE_OBSS_SCAN,\n\tWMI_SERVICE_TDLS_OFFCHAN,\n\tWMI_SERVICE_TDLS_UAPSD_BUFFER_STA,\n\tWMI_SERVICE_TDLS_UAPSD_SLEEP_STA,\n\tWMI_SERVICE_IBSS_PWRSAVE,\n\tWMI_SERVICE_LPASS,\n\tWMI_SERVICE_EXTSCAN,\n\tWMI_SERVICE_D0WOW,\n\tWMI_SERVICE_HSOFFLOAD,\n\tWMI_SERVICE_ROAM_HO_OFFLOAD,\n\tWMI_SERVICE_RX_FULL_REORDER,\n\tWMI_SERVICE_DHCP_OFFLOAD,\n\tWMI_SERVICE_STA_RX_IPA_OFFLOAD_SUPPORT,\n\tWMI_SERVICE_MDNS_OFFLOAD,\n\tWMI_SERVICE_SAP_AUTH_OFFLOAD,\n\tWMI_SERVICE_ATF,\n\tWMI_SERVICE_COEX_GPIO,\n\tWMI_SERVICE_ENHANCED_PROXY_STA,\n\tWMI_SERVICE_TT,\n\tWMI_SERVICE_PEER_CACHING,\n\tWMI_SERVICE_AUX_SPECTRAL_INTF,\n\tWMI_SERVICE_AUX_CHAN_LOAD_INTF,\n\tWMI_SERVICE_BSS_CHANNEL_INFO_64,\n\tWMI_SERVICE_EXT_RES_CFG_SUPPORT,\n\tWMI_SERVICE_MESH_11S,\n\tWMI_SERVICE_MESH_NON_11S,\n\tWMI_SERVICE_PEER_STATS,\n\tWMI_SERVICE_RESTRT_CHNL_SUPPORT,\n\tWMI_SERVICE_PERIODIC_CHAN_STAT_SUPPORT,\n\tWMI_SERVICE_TX_MODE_PUSH_ONLY,\n\tWMI_SERVICE_TX_MODE_PUSH_PULL,\n\tWMI_SERVICE_TX_MODE_DYNAMIC,\n\tWMI_SERVICE_VDEV_RX_FILTER,\n\tWMI_SERVICE_BTCOEX,\n\tWMI_SERVICE_CHECK_CAL_VERSION,\n\tWMI_SERVICE_DBGLOG_WARN2,\n\tWMI_SERVICE_BTCOEX_DUTY_CYCLE,\n\tWMI_SERVICE_4_WIRE_COEX_SUPPORT,\n\tWMI_SERVICE_EXTENDED_NSS_SUPPORT,\n\tWMI_SERVICE_PROG_GPIO_BAND_SELECT,\n\tWMI_SERVICE_SMART_LOGGING_SUPPORT,\n\tWMI_SERVICE_TDLS_CONN_TRACKER_IN_HOST_MODE,\n\tWMI_SERVICE_TDLS_EXPLICIT_MODE_ONLY,\n\tWMI_SERVICE_MGMT_TX_WMI,\n\tWMI_SERVICE_TDLS_WIDER_BANDWIDTH,\n\tWMI_SERVICE_HTT_MGMT_TX_COMP_VALID_FLAGS,\n\tWMI_SERVICE_HOST_DFS_CHECK_SUPPORT,\n\tWMI_SERVICE_TPC_STATS_FINAL,\n\tWMI_SERVICE_RESET_CHIP,\n\tWMI_SERVICE_SPOOF_MAC_SUPPORT,\n\tWMI_SERVICE_TX_DATA_ACK_RSSI,\n\tWMI_SERVICE_VDEV_DIFFERENT_BEACON_INTERVAL_SUPPORT,\n\tWMI_SERVICE_VDEV_DISABLE_4_ADDR_SRC_LRN_SUPPORT,\n\tWMI_SERVICE_BB_TIMING_CONFIG_SUPPORT,\n\tWMI_SERVICE_THERM_THROT,\n\tWMI_SERVICE_RTT_RESPONDER_ROLE,\n\tWMI_SERVICE_PER_PACKET_SW_ENCRYPT,\n\tWMI_SERVICE_REPORT_AIRTIME,\n\tWMI_SERVICE_SYNC_DELETE_CMDS,\n\tWMI_SERVICE_TX_PWR_PER_PEER,\n\tWMI_SERVICE_SUPPORT_EXTEND_ADDRESS,\n\tWMI_SERVICE_PEER_TID_CONFIGS_SUPPORT,\n\tWMI_SERVICE_EXT_PEER_TID_CONFIGS_SUPPORT,\n\n\t/* Remember to add the new value to wmi_service_name()! */\n\n\t/* keep last */\n\tWMI_SERVICE_MAX,\n};\n\nenum wmi_10x_service {\n\tWMI_10X_SERVICE_BEACON_OFFLOAD = 0,\n\tWMI_10X_SERVICE_SCAN_OFFLOAD,\n\tWMI_10X_SERVICE_ROAM_OFFLOAD,\n\tWMI_10X_SERVICE_BCN_MISS_OFFLOAD,\n\tWMI_10X_SERVICE_STA_PWRSAVE,\n\tWMI_10X_SERVICE_STA_ADVANCED_PWRSAVE,\n\tWMI_10X_SERVICE_AP_UAPSD,\n\tWMI_10X_SERVICE_AP_DFS,\n\tWMI_10X_SERVICE_11AC,\n\tWMI_10X_SERVICE_BLOCKACK,\n\tWMI_10X_SERVICE_PHYERR,\n\tWMI_10X_SERVICE_BCN_FILTER,\n\tWMI_10X_SERVICE_RTT,\n\tWMI_10X_SERVICE_RATECTRL,\n\tWMI_10X_SERVICE_WOW,\n\tWMI_10X_SERVICE_RATECTRL_CACHE,\n\tWMI_10X_SERVICE_IRAM_TIDS,\n\tWMI_10X_SERVICE_BURST,\n\n\t/* introduced in 10.2 */\n\tWMI_10X_SERVICE_SMART_ANTENNA_SW_SUPPORT,\n\tWMI_10X_SERVICE_FORCE_FW_HANG,\n\tWMI_10X_SERVICE_SMART_ANTENNA_HW_SUPPORT,\n\tWMI_10X_SERVICE_ATF,\n\tWMI_10X_SERVICE_COEX_GPIO,\n\tWMI_10X_SERVICE_AUX_SPECTRAL_INTF,\n\tWMI_10X_SERVICE_AUX_CHAN_LOAD_INTF,\n\tWMI_10X_SERVICE_BSS_CHANNEL_INFO_64,\n\tWMI_10X_SERVICE_MESH,\n\tWMI_10X_SERVICE_EXT_RES_CFG_SUPPORT,\n\tWMI_10X_SERVICE_PEER_STATS,\n\tWMI_10X_SERVICE_RESET_CHIP,\n\tWMI_10X_SERVICE_HTT_MGMT_TX_COMP_VALID_FLAGS,\n\tWMI_10X_SERVICE_VDEV_BCN_RATE_CONTROL,\n\tWMI_10X_SERVICE_PER_PACKET_SW_ENCRYPT,\n\tWMI_10X_SERVICE_BB_TIMING_CONFIG_SUPPORT,\n};\n\nenum wmi_main_service {\n\tWMI_MAIN_SERVICE_BEACON_OFFLOAD = 0,\n\tWMI_MAIN_SERVICE_SCAN_OFFLOAD,\n\tWMI_MAIN_SERVICE_ROAM_OFFLOAD,\n\tWMI_MAIN_SERVICE_BCN_MISS_OFFLOAD,\n\tWMI_MAIN_SERVICE_STA_PWRSAVE,\n\tWMI_MAIN_SERVICE_STA_ADVANCED_PWRSAVE,\n\tWMI_MAIN_SERVICE_AP_UAPSD,\n\tWMI_MAIN_SERVICE_AP_DFS,\n\tWMI_MAIN_SERVICE_11AC,\n\tWMI_MAIN_SERVICE_BLOCKACK,\n\tWMI_MAIN_SERVICE_PHYERR,\n\tWMI_MAIN_SERVICE_BCN_FILTER,\n\tWMI_MAIN_SERVICE_RTT,\n\tWMI_MAIN_SERVICE_RATECTRL,\n\tWMI_MAIN_SERVICE_WOW,\n\tWMI_MAIN_SERVICE_RATECTRL_CACHE,\n\tWMI_MAIN_SERVICE_IRAM_TIDS,\n\tWMI_MAIN_SERVICE_ARPNS_OFFLOAD,\n\tWMI_MAIN_SERVICE_NLO,\n\tWMI_MAIN_SERVICE_GTK_OFFLOAD,\n\tWMI_MAIN_SERVICE_SCAN_SCH,\n\tWMI_MAIN_SERVICE_CSA_OFFLOAD,\n\tWMI_MAIN_SERVICE_CHATTER,\n\tWMI_MAIN_SERVICE_COEX_FREQAVOID,\n\tWMI_MAIN_SERVICE_PACKET_POWER_SAVE,\n\tWMI_MAIN_SERVICE_FORCE_FW_HANG,\n\tWMI_MAIN_SERVICE_GPIO,\n\tWMI_MAIN_SERVICE_STA_DTIM_PS_MODULATED_DTIM,\n\tWMI_MAIN_SERVICE_STA_UAPSD_BASIC_AUTO_TRIG,\n\tWMI_MAIN_SERVICE_STA_UAPSD_VAR_AUTO_TRIG,\n\tWMI_MAIN_SERVICE_STA_KEEP_ALIVE,\n\tWMI_MAIN_SERVICE_TX_ENCAP,\n};\n\nenum wmi_10_4_service {\n\tWMI_10_4_SERVICE_BEACON_OFFLOAD = 0,\n\tWMI_10_4_SERVICE_SCAN_OFFLOAD,\n\tWMI_10_4_SERVICE_ROAM_OFFLOAD,\n\tWMI_10_4_SERVICE_BCN_MISS_OFFLOAD,\n\tWMI_10_4_SERVICE_STA_PWRSAVE,\n\tWMI_10_4_SERVICE_STA_ADVANCED_PWRSAVE,\n\tWMI_10_4_SERVICE_AP_UAPSD,\n\tWMI_10_4_SERVICE_AP_DFS,\n\tWMI_10_4_SERVICE_11AC,\n\tWMI_10_4_SERVICE_BLOCKACK,\n\tWMI_10_4_SERVICE_PHYERR,\n\tWMI_10_4_SERVICE_BCN_FILTER,\n\tWMI_10_4_SERVICE_RTT,\n\tWMI_10_4_SERVICE_RATECTRL,\n\tWMI_10_4_SERVICE_WOW,\n\tWMI_10_4_SERVICE_RATECTRL_CACHE,\n\tWMI_10_4_SERVICE_IRAM_TIDS,\n\tWMI_10_4_SERVICE_BURST,\n\tWMI_10_4_SERVICE_SMART_ANTENNA_SW_SUPPORT,\n\tWMI_10_4_SERVICE_GTK_OFFLOAD,\n\tWMI_10_4_SERVICE_SCAN_SCH,\n\tWMI_10_4_SERVICE_CSA_OFFLOAD,\n\tWMI_10_4_SERVICE_CHATTER,\n\tWMI_10_4_SERVICE_COEX_FREQAVOID,\n\tWMI_10_4_SERVICE_PACKET_POWER_SAVE,\n\tWMI_10_4_SERVICE_FORCE_FW_HANG,\n\tWMI_10_4_SERVICE_SMART_ANTENNA_HW_SUPPORT,\n\tWMI_10_4_SERVICE_GPIO,\n\tWMI_10_4_SERVICE_STA_UAPSD_BASIC_AUTO_TRIG,\n\tWMI_10_4_SERVICE_STA_UAPSD_VAR_AUTO_TRIG,\n\tWMI_10_4_SERVICE_STA_KEEP_ALIVE,\n\tWMI_10_4_SERVICE_TX_ENCAP,\n\tWMI_10_4_SERVICE_AP_PS_DETECT_OUT_OF_SYNC,\n\tWMI_10_4_SERVICE_EARLY_RX,\n\tWMI_10_4_SERVICE_ENHANCED_PROXY_STA,\n\tWMI_10_4_SERVICE_TT,\n\tWMI_10_4_SERVICE_ATF,\n\tWMI_10_4_SERVICE_PEER_CACHING,\n\tWMI_10_4_SERVICE_COEX_GPIO,\n\tWMI_10_4_SERVICE_AUX_SPECTRAL_INTF,\n\tWMI_10_4_SERVICE_AUX_CHAN_LOAD_INTF,\n\tWMI_10_4_SERVICE_BSS_CHANNEL_INFO_64,\n\tWMI_10_4_SERVICE_EXT_RES_CFG_SUPPORT,\n\tWMI_10_4_SERVICE_MESH_NON_11S,\n\tWMI_10_4_SERVICE_RESTRT_CHNL_SUPPORT,\n\tWMI_10_4_SERVICE_PEER_STATS,\n\tWMI_10_4_SERVICE_MESH_11S,\n\tWMI_10_4_SERVICE_PERIODIC_CHAN_STAT_SUPPORT,\n\tWMI_10_4_SERVICE_TX_MODE_PUSH_ONLY,\n\tWMI_10_4_SERVICE_TX_MODE_PUSH_PULL,\n\tWMI_10_4_SERVICE_TX_MODE_DYNAMIC,\n\tWMI_10_4_SERVICE_VDEV_RX_FILTER,\n\tWMI_10_4_SERVICE_BTCOEX,\n\tWMI_10_4_SERVICE_CHECK_CAL_VERSION,\n\tWMI_10_4_SERVICE_DBGLOG_WARN2,\n\tWMI_10_4_SERVICE_BTCOEX_DUTY_CYCLE,\n\tWMI_10_4_SERVICE_4_WIRE_COEX_SUPPORT,\n\tWMI_10_4_SERVICE_EXTENDED_NSS_SUPPORT,\n\tWMI_10_4_SERVICE_PROG_GPIO_BAND_SELECT,\n\tWMI_10_4_SERVICE_SMART_LOGGING_SUPPORT,\n\tWMI_10_4_SERVICE_TDLS,\n\tWMI_10_4_SERVICE_TDLS_OFFCHAN,\n\tWMI_10_4_SERVICE_TDLS_UAPSD_BUFFER_STA,\n\tWMI_10_4_SERVICE_TDLS_UAPSD_SLEEP_STA,\n\tWMI_10_4_SERVICE_TDLS_CONN_TRACKER_IN_HOST_MODE,\n\tWMI_10_4_SERVICE_TDLS_EXPLICIT_MODE_ONLY,\n\tWMI_10_4_SERVICE_TDLS_WIDER_BANDWIDTH,\n\tWMI_10_4_SERVICE_HTT_MGMT_TX_COMP_VALID_FLAGS,\n\tWMI_10_4_SERVICE_HOST_DFS_CHECK_SUPPORT,\n\tWMI_10_4_SERVICE_TPC_STATS_FINAL,\n\tWMI_10_4_SERVICE_CFR_CAPTURE_SUPPORT,\n\tWMI_10_4_SERVICE_TX_DATA_ACK_RSSI,\n\tWMI_10_4_SERVICE_CFR_CAPTURE_IND_MSG_TYPE_LEGACY,\n\tWMI_10_4_SERVICE_PER_PACKET_SW_ENCRYPT,\n\tWMI_10_4_SERVICE_PEER_TID_CONFIGS_SUPPORT,\n\tWMI_10_4_SERVICE_VDEV_BCN_RATE_CONTROL,\n\tWMI_10_4_SERVICE_VDEV_DIFFERENT_BEACON_INTERVAL_SUPPORT,\n\tWMI_10_4_SERVICE_HTT_ASSERT_TRIGGER_SUPPORT,\n\tWMI_10_4_SERVICE_VDEV_FILTER_NEIGHBOR_RX_PACKETS,\n\tWMI_10_4_SERVICE_VDEV_DISABLE_4_ADDR_SRC_LRN_SUPPORT,\n\tWMI_10_4_SERVICE_PEER_CHWIDTH_CHANGE,\n\tWMI_10_4_SERVICE_RX_FILTER_OUT_COUNT,\n\tWMI_10_4_SERVICE_RTT_RESPONDER_ROLE,\n\tWMI_10_4_SERVICE_EXT_PEER_TID_CONFIGS_SUPPORT,\n\tWMI_10_4_SERVICE_REPORT_AIRTIME,\n\tWMI_10_4_SERVICE_TX_PWR_PER_PEER,\n\tWMI_10_4_SERVICE_FETCH_PEER_TX_PN,\n\tWMI_10_4_SERVICE_MULTIPLE_VDEV_RESTART,\n\tWMI_10_4_SERVICE_ENHANCED_RADIO_COUNTERS,\n\tWMI_10_4_SERVICE_QINQ_SUPPORT,\n\tWMI_10_4_SERVICE_RESET_CHIP,\n};\n\nstatic inline char *wmi_service_name(enum wmi_service service_id)\n{\n#define SVCSTR(x) case x: return #x\n\n\tswitch (service_id) {\n\tSVCSTR(WMI_SERVICE_BEACON_OFFLOAD);\n\tSVCSTR(WMI_SERVICE_SCAN_OFFLOAD);\n\tSVCSTR(WMI_SERVICE_ROAM_OFFLOAD);\n\tSVCSTR(WMI_SERVICE_BCN_MISS_OFFLOAD);\n\tSVCSTR(WMI_SERVICE_STA_PWRSAVE);\n\tSVCSTR(WMI_SERVICE_STA_ADVANCED_PWRSAVE);\n\tSVCSTR(WMI_SERVICE_AP_UAPSD);\n\tSVCSTR(WMI_SERVICE_AP_DFS);\n\tSVCSTR(WMI_SERVICE_11AC);\n\tSVCSTR(WMI_SERVICE_BLOCKACK);\n\tSVCSTR(WMI_SERVICE_PHYERR);\n\tSVCSTR(WMI_SERVICE_BCN_FILTER);\n\tSVCSTR(WMI_SERVICE_RTT);\n\tSVCSTR(WMI_SERVICE_RATECTRL);\n\tSVCSTR(WMI_SERVICE_WOW);\n\tSVCSTR(WMI_SERVICE_RATECTRL_CACHE);\n\tSVCSTR(WMI_SERVICE_IRAM_TIDS);\n\tSVCSTR(WMI_SERVICE_ARPNS_OFFLOAD);\n\tSVCSTR(WMI_SERVICE_NLO);\n\tSVCSTR(WMI_SERVICE_GTK_OFFLOAD);\n\tSVCSTR(WMI_SERVICE_SCAN_SCH);\n\tSVCSTR(WMI_SERVICE_CSA_OFFLOAD);\n\tSVCSTR(WMI_SERVICE_CHATTER);\n\tSVCSTR(WMI_SERVICE_COEX_FREQAVOID);\n\tSVCSTR(WMI_SERVICE_PACKET_POWER_SAVE);\n\tSVCSTR(WMI_SERVICE_FORCE_FW_HANG);\n\tSVCSTR(WMI_SERVICE_GPIO);\n\tSVCSTR(WMI_SERVICE_STA_DTIM_PS_MODULATED_DTIM);\n\tSVCSTR(WMI_SERVICE_STA_UAPSD_BASIC_AUTO_TRIG);\n\tSVCSTR(WMI_SERVICE_STA_UAPSD_VAR_AUTO_TRIG);\n\tSVCSTR(WMI_SERVICE_STA_KEEP_ALIVE);\n\tSVCSTR(WMI_SERVICE_TX_ENCAP);\n\tSVCSTR(WMI_SERVICE_BURST);\n\tSVCSTR(WMI_SERVICE_SMART_ANTENNA_SW_SUPPORT);\n\tSVCSTR(WMI_SERVICE_SMART_ANTENNA_HW_SUPPORT);\n\tSVCSTR(WMI_SERVICE_ROAM_SCAN_OFFLOAD);\n\tSVCSTR(WMI_SERVICE_AP_PS_DETECT_OUT_OF_SYNC);\n\tSVCSTR(WMI_SERVICE_EARLY_RX);\n\tSVCSTR(WMI_SERVICE_STA_SMPS);\n\tSVCSTR(WMI_SERVICE_FWTEST);\n\tSVCSTR(WMI_SERVICE_STA_WMMAC);\n\tSVCSTR(WMI_SERVICE_TDLS);\n\tSVCSTR(WMI_SERVICE_MCC_BCN_INTERVAL_CHANGE);\n\tSVCSTR(WMI_SERVICE_ADAPTIVE_OCS);\n\tSVCSTR(WMI_SERVICE_BA_SSN_SUPPORT);\n\tSVCSTR(WMI_SERVICE_FILTER_IPSEC_NATKEEPALIVE);\n\tSVCSTR(WMI_SERVICE_WLAN_HB);\n\tSVCSTR(WMI_SERVICE_LTE_ANT_SHARE_SUPPORT);\n\tSVCSTR(WMI_SERVICE_BATCH_SCAN);\n\tSVCSTR(WMI_SERVICE_QPOWER);\n\tSVCSTR(WMI_SERVICE_PLMREQ);\n\tSVCSTR(WMI_SERVICE_THERMAL_MGMT);\n\tSVCSTR(WMI_SERVICE_RMC);\n\tSVCSTR(WMI_SERVICE_MHF_OFFLOAD);\n\tSVCSTR(WMI_SERVICE_COEX_SAR);\n\tSVCSTR(WMI_SERVICE_BCN_TXRATE_OVERRIDE);\n\tSVCSTR(WMI_SERVICE_NAN);\n\tSVCSTR(WMI_SERVICE_L1SS_STAT);\n\tSVCSTR(WMI_SERVICE_ESTIMATE_LINKSPEED);\n\tSVCSTR(WMI_SERVICE_OBSS_SCAN);\n\tSVCSTR(WMI_SERVICE_TDLS_OFFCHAN);\n\tSVCSTR(WMI_SERVICE_TDLS_UAPSD_BUFFER_STA);\n\tSVCSTR(WMI_SERVICE_TDLS_UAPSD_SLEEP_STA);\n\tSVCSTR(WMI_SERVICE_IBSS_PWRSAVE);\n\tSVCSTR(WMI_SERVICE_LPASS);\n\tSVCSTR(WMI_SERVICE_EXTSCAN);\n\tSVCSTR(WMI_SERVICE_D0WOW);\n\tSVCSTR(WMI_SERVICE_HSOFFLOAD);\n\tSVCSTR(WMI_SERVICE_ROAM_HO_OFFLOAD);\n\tSVCSTR(WMI_SERVICE_RX_FULL_REORDER);\n\tSVCSTR(WMI_SERVICE_DHCP_OFFLOAD);\n\tSVCSTR(WMI_SERVICE_STA_RX_IPA_OFFLOAD_SUPPORT);\n\tSVCSTR(WMI_SERVICE_MDNS_OFFLOAD);\n\tSVCSTR(WMI_SERVICE_SAP_AUTH_OFFLOAD);\n\tSVCSTR(WMI_SERVICE_ATF);\n\tSVCSTR(WMI_SERVICE_COEX_GPIO);\n\tSVCSTR(WMI_SERVICE_ENHANCED_PROXY_STA);\n\tSVCSTR(WMI_SERVICE_TT);\n\tSVCSTR(WMI_SERVICE_PEER_CACHING);\n\tSVCSTR(WMI_SERVICE_AUX_SPECTRAL_INTF);\n\tSVCSTR(WMI_SERVICE_AUX_CHAN_LOAD_INTF);\n\tSVCSTR(WMI_SERVICE_BSS_CHANNEL_INFO_64);\n\tSVCSTR(WMI_SERVICE_EXT_RES_CFG_SUPPORT);\n\tSVCSTR(WMI_SERVICE_MESH_11S);\n\tSVCSTR(WMI_SERVICE_MESH_NON_11S);\n\tSVCSTR(WMI_SERVICE_PEER_STATS);\n\tSVCSTR(WMI_SERVICE_RESTRT_CHNL_SUPPORT);\n\tSVCSTR(WMI_SERVICE_PERIODIC_CHAN_STAT_SUPPORT);\n\tSVCSTR(WMI_SERVICE_TX_MODE_PUSH_ONLY);\n\tSVCSTR(WMI_SERVICE_TX_MODE_PUSH_PULL);\n\tSVCSTR(WMI_SERVICE_TX_MODE_DYNAMIC);\n\tSVCSTR(WMI_SERVICE_VDEV_RX_FILTER);\n\tSVCSTR(WMI_SERVICE_BTCOEX);\n\tSVCSTR(WMI_SERVICE_CHECK_CAL_VERSION);\n\tSVCSTR(WMI_SERVICE_DBGLOG_WARN2);\n\tSVCSTR(WMI_SERVICE_BTCOEX_DUTY_CYCLE);\n\tSVCSTR(WMI_SERVICE_4_WIRE_COEX_SUPPORT);\n\tSVCSTR(WMI_SERVICE_EXTENDED_NSS_SUPPORT);\n\tSVCSTR(WMI_SERVICE_PROG_GPIO_BAND_SELECT);\n\tSVCSTR(WMI_SERVICE_SMART_LOGGING_SUPPORT);\n\tSVCSTR(WMI_SERVICE_TDLS_CONN_TRACKER_IN_HOST_MODE);\n\tSVCSTR(WMI_SERVICE_TDLS_EXPLICIT_MODE_ONLY);\n\tSVCSTR(WMI_SERVICE_MGMT_TX_WMI);\n\tSVCSTR(WMI_SERVICE_TDLS_WIDER_BANDWIDTH);\n\tSVCSTR(WMI_SERVICE_HTT_MGMT_TX_COMP_VALID_FLAGS);\n\tSVCSTR(WMI_SERVICE_HOST_DFS_CHECK_SUPPORT);\n\tSVCSTR(WMI_SERVICE_TPC_STATS_FINAL);\n\tSVCSTR(WMI_SERVICE_RESET_CHIP);\n\tSVCSTR(WMI_SERVICE_SPOOF_MAC_SUPPORT);\n\tSVCSTR(WMI_SERVICE_TX_DATA_ACK_RSSI);\n\tSVCSTR(WMI_SERVICE_VDEV_DIFFERENT_BEACON_INTERVAL_SUPPORT);\n\tSVCSTR(WMI_SERVICE_VDEV_DISABLE_4_ADDR_SRC_LRN_SUPPORT);\n\tSVCSTR(WMI_SERVICE_BB_TIMING_CONFIG_SUPPORT);\n\tSVCSTR(WMI_SERVICE_THERM_THROT);\n\tSVCSTR(WMI_SERVICE_RTT_RESPONDER_ROLE);\n\tSVCSTR(WMI_SERVICE_PER_PACKET_SW_ENCRYPT);\n\tSVCSTR(WMI_SERVICE_REPORT_AIRTIME);\n\tSVCSTR(WMI_SERVICE_SYNC_DELETE_CMDS);\n\tSVCSTR(WMI_SERVICE_TX_PWR_PER_PEER);\n\tSVCSTR(WMI_SERVICE_SUPPORT_EXTEND_ADDRESS);\n\tSVCSTR(WMI_SERVICE_PEER_TID_CONFIGS_SUPPORT);\n\tSVCSTR(WMI_SERVICE_EXT_PEER_TID_CONFIGS_SUPPORT);\n\n\tcase WMI_SERVICE_MAX:\n\t\treturn NULL;\n\t}\n\n#undef SVCSTR\n\n\treturn NULL;\n}\n\n#define WMI_SERVICE_IS_ENABLED(wmi_svc_bmap, svc_id, len) \\\n\t((svc_id) < (len) && \\\n\t __le32_to_cpu((wmi_svc_bmap)[(svc_id) / (sizeof(u32))]) & \\\n\t BIT((svc_id) % (sizeof(u32))))\n\n/* This extension is required to accommodate new services, current limit\n * for wmi_services is 64 as target is using only 4-bits of each 32-bit\n * wmi_service word. Extending this to make use of remaining unused bits\n * for new services.\n */\n#define WMI_EXT_SERVICE_IS_ENABLED(wmi_svc_bmap, svc_id, len) \\\n\t((svc_id) >= (len) && \\\n\t__le32_to_cpu((wmi_svc_bmap)[((svc_id) - (len)) / 28]) & \\\n\tBIT(((((svc_id) - (len)) % 28) & 0x1f) + 4))\n\n#define SVCMAP(x, y, len) \\\n\tdo { \\\n\t\tif ((WMI_SERVICE_IS_ENABLED((in), (x), (len))) || \\\n\t\t    (WMI_EXT_SERVICE_IS_ENABLED((in), (x), (len)))) \\\n\t\t\t__set_bit(y, out); \\\n\t} while (0)\n\nstatic inline void wmi_10x_svc_map(const __le32 *in, unsigned long *out,\n\t\t\t\t   size_t len)\n{\n\tSVCMAP(WMI_10X_SERVICE_BEACON_OFFLOAD,\n\t       WMI_SERVICE_BEACON_OFFLOAD, len);\n\tSVCMAP(WMI_10X_SERVICE_SCAN_OFFLOAD,\n\t       WMI_SERVICE_SCAN_OFFLOAD, len);\n\tSVCMAP(WMI_10X_SERVICE_ROAM_OFFLOAD,\n\t       WMI_SERVICE_ROAM_OFFLOAD, len);\n\tSVCMAP(WMI_10X_SERVICE_BCN_MISS_OFFLOAD,\n\t       WMI_SERVICE_BCN_MISS_OFFLOAD, len);\n\tSVCMAP(WMI_10X_SERVICE_STA_PWRSAVE,\n\t       WMI_SERVICE_STA_PWRSAVE, len);\n\tSVCMAP(WMI_10X_SERVICE_STA_ADVANCED_PWRSAVE,\n\t       WMI_SERVICE_STA_ADVANCED_PWRSAVE, len);\n\tSVCMAP(WMI_10X_SERVICE_AP_UAPSD,\n\t       WMI_SERVICE_AP_UAPSD, len);\n\tSVCMAP(WMI_10X_SERVICE_AP_DFS,\n\t       WMI_SERVICE_AP_DFS, len);\n\tSVCMAP(WMI_10X_SERVICE_11AC,\n\t       WMI_SERVICE_11AC, len);\n\tSVCMAP(WMI_10X_SERVICE_BLOCKACK,\n\t       WMI_SERVICE_BLOCKACK, len);\n\tSVCMAP(WMI_10X_SERVICE_PHYERR,\n\t       WMI_SERVICE_PHYERR, len);\n\tSVCMAP(WMI_10X_SERVICE_BCN_FILTER,\n\t       WMI_SERVICE_BCN_FILTER, len);\n\tSVCMAP(WMI_10X_SERVICE_RTT,\n\t       WMI_SERVICE_RTT, len);\n\tSVCMAP(WMI_10X_SERVICE_RATECTRL,\n\t       WMI_SERVICE_RATECTRL, len);\n\tSVCMAP(WMI_10X_SERVICE_WOW,\n\t       WMI_SERVICE_WOW, len);\n\tSVCMAP(WMI_10X_SERVICE_RATECTRL_CACHE,\n\t       WMI_SERVICE_RATECTRL_CACHE, len);\n\tSVCMAP(WMI_10X_SERVICE_IRAM_TIDS,\n\t       WMI_SERVICE_IRAM_TIDS, len);\n\tSVCMAP(WMI_10X_SERVICE_BURST,\n\t       WMI_SERVICE_BURST, len);\n\tSVCMAP(WMI_10X_SERVICE_SMART_ANTENNA_SW_SUPPORT,\n\t       WMI_SERVICE_SMART_ANTENNA_SW_SUPPORT, len);\n\tSVCMAP(WMI_10X_SERVICE_FORCE_FW_HANG,\n\t       WMI_SERVICE_FORCE_FW_HANG, len);\n\tSVCMAP(WMI_10X_SERVICE_SMART_ANTENNA_HW_SUPPORT,\n\t       WMI_SERVICE_SMART_ANTENNA_HW_SUPPORT, len);\n\tSVCMAP(WMI_10X_SERVICE_ATF,\n\t       WMI_SERVICE_ATF, len);\n\tSVCMAP(WMI_10X_SERVICE_COEX_GPIO,\n\t       WMI_SERVICE_COEX_GPIO, len);\n\tSVCMAP(WMI_10X_SERVICE_AUX_SPECTRAL_INTF,\n\t       WMI_SERVICE_AUX_SPECTRAL_INTF, len);\n\tSVCMAP(WMI_10X_SERVICE_AUX_CHAN_LOAD_INTF,\n\t       WMI_SERVICE_AUX_CHAN_LOAD_INTF, len);\n\tSVCMAP(WMI_10X_SERVICE_BSS_CHANNEL_INFO_64,\n\t       WMI_SERVICE_BSS_CHANNEL_INFO_64, len);\n\tSVCMAP(WMI_10X_SERVICE_MESH,\n\t       WMI_SERVICE_MESH_11S, len);\n\tSVCMAP(WMI_10X_SERVICE_EXT_RES_CFG_SUPPORT,\n\t       WMI_SERVICE_EXT_RES_CFG_SUPPORT, len);\n\tSVCMAP(WMI_10X_SERVICE_PEER_STATS,\n\t       WMI_SERVICE_PEER_STATS, len);\n\tSVCMAP(WMI_10X_SERVICE_RESET_CHIP,\n\t       WMI_SERVICE_RESET_CHIP, len);\n\tSVCMAP(WMI_10X_SERVICE_HTT_MGMT_TX_COMP_VALID_FLAGS,\n\t       WMI_SERVICE_HTT_MGMT_TX_COMP_VALID_FLAGS, len);\n\tSVCMAP(WMI_10X_SERVICE_BB_TIMING_CONFIG_SUPPORT,\n\t       WMI_SERVICE_BB_TIMING_CONFIG_SUPPORT, len);\n\tSVCMAP(WMI_10X_SERVICE_PER_PACKET_SW_ENCRYPT,\n\t       WMI_SERVICE_PER_PACKET_SW_ENCRYPT, len);\n}\n\nstatic inline void wmi_main_svc_map(const __le32 *in, unsigned long *out,\n\t\t\t\t    size_t len)\n{\n\tSVCMAP(WMI_MAIN_SERVICE_BEACON_OFFLOAD,\n\t       WMI_SERVICE_BEACON_OFFLOAD, len);\n\tSVCMAP(WMI_MAIN_SERVICE_SCAN_OFFLOAD,\n\t       WMI_SERVICE_SCAN_OFFLOAD, len);\n\tSVCMAP(WMI_MAIN_SERVICE_ROAM_OFFLOAD,\n\t       WMI_SERVICE_ROAM_OFFLOAD, len);\n\tSVCMAP(WMI_MAIN_SERVICE_BCN_MISS_OFFLOAD,\n\t       WMI_SERVICE_BCN_MISS_OFFLOAD, len);\n\tSVCMAP(WMI_MAIN_SERVICE_STA_PWRSAVE,\n\t       WMI_SERVICE_STA_PWRSAVE, len);\n\tSVCMAP(WMI_MAIN_SERVICE_STA_ADVANCED_PWRSAVE,\n\t       WMI_SERVICE_STA_ADVANCED_PWRSAVE, len);\n\tSVCMAP(WMI_MAIN_SERVICE_AP_UAPSD,\n\t       WMI_SERVICE_AP_UAPSD, len);\n\tSVCMAP(WMI_MAIN_SERVICE_AP_DFS,\n\t       WMI_SERVICE_AP_DFS, len);\n\tSVCMAP(WMI_MAIN_SERVICE_11AC,\n\t       WMI_SERVICE_11AC, len);\n\tSVCMAP(WMI_MAIN_SERVICE_BLOCKACK,\n\t       WMI_SERVICE_BLOCKACK, len);\n\tSVCMAP(WMI_MAIN_SERVICE_PHYERR,\n\t       WMI_SERVICE_PHYERR, len);\n\tSVCMAP(WMI_MAIN_SERVICE_BCN_FILTER,\n\t       WMI_SERVICE_BCN_FILTER, len);\n\tSVCMAP(WMI_MAIN_SERVICE_RTT,\n\t       WMI_SERVICE_RTT, len);\n\tSVCMAP(WMI_MAIN_SERVICE_RATECTRL,\n\t       WMI_SERVICE_RATECTRL, len);\n\tSVCMAP(WMI_MAIN_SERVICE_WOW,\n\t       WMI_SERVICE_WOW, len);\n\tSVCMAP(WMI_MAIN_SERVICE_RATECTRL_CACHE,\n\t       WMI_SERVICE_RATECTRL_CACHE, len);\n\tSVCMAP(WMI_MAIN_SERVICE_IRAM_TIDS,\n\t       WMI_SERVICE_IRAM_TIDS, len);\n\tSVCMAP(WMI_MAIN_SERVICE_ARPNS_OFFLOAD,\n\t       WMI_SERVICE_ARPNS_OFFLOAD, len);\n\tSVCMAP(WMI_MAIN_SERVICE_NLO,\n\t       WMI_SERVICE_NLO, len);\n\tSVCMAP(WMI_MAIN_SERVICE_GTK_OFFLOAD,\n\t       WMI_SERVICE_GTK_OFFLOAD, len);\n\tSVCMAP(WMI_MAIN_SERVICE_SCAN_SCH,\n\t       WMI_SERVICE_SCAN_SCH, len);\n\tSVCMAP(WMI_MAIN_SERVICE_CSA_OFFLOAD,\n\t       WMI_SERVICE_CSA_OFFLOAD, len);\n\tSVCMAP(WMI_MAIN_SERVICE_CHATTER,\n\t       WMI_SERVICE_CHATTER, len);\n\tSVCMAP(WMI_MAIN_SERVICE_COEX_FREQAVOID,\n\t       WMI_SERVICE_COEX_FREQAVOID, len);\n\tSVCMAP(WMI_MAIN_SERVICE_PACKET_POWER_SAVE,\n\t       WMI_SERVICE_PACKET_POWER_SAVE, len);\n\tSVCMAP(WMI_MAIN_SERVICE_FORCE_FW_HANG,\n\t       WMI_SERVICE_FORCE_FW_HANG, len);\n\tSVCMAP(WMI_MAIN_SERVICE_GPIO,\n\t       WMI_SERVICE_GPIO, len);\n\tSVCMAP(WMI_MAIN_SERVICE_STA_DTIM_PS_MODULATED_DTIM,\n\t       WMI_SERVICE_STA_DTIM_PS_MODULATED_DTIM, len);\n\tSVCMAP(WMI_MAIN_SERVICE_STA_UAPSD_BASIC_AUTO_TRIG,\n\t       WMI_SERVICE_STA_UAPSD_BASIC_AUTO_TRIG, len);\n\tSVCMAP(WMI_MAIN_SERVICE_STA_UAPSD_VAR_AUTO_TRIG,\n\t       WMI_SERVICE_STA_UAPSD_VAR_AUTO_TRIG, len);\n\tSVCMAP(WMI_MAIN_SERVICE_STA_KEEP_ALIVE,\n\t       WMI_SERVICE_STA_KEEP_ALIVE, len);\n\tSVCMAP(WMI_MAIN_SERVICE_TX_ENCAP,\n\t       WMI_SERVICE_TX_ENCAP, len);\n}\n\nstatic inline void wmi_10_4_svc_map(const __le32 *in, unsigned long *out,\n\t\t\t\t    size_t len)\n{\n\tSVCMAP(WMI_10_4_SERVICE_BEACON_OFFLOAD,\n\t       WMI_SERVICE_BEACON_OFFLOAD, len);\n\tSVCMAP(WMI_10_4_SERVICE_SCAN_OFFLOAD,\n\t       WMI_SERVICE_SCAN_OFFLOAD, len);\n\tSVCMAP(WMI_10_4_SERVICE_ROAM_OFFLOAD,\n\t       WMI_SERVICE_ROAM_OFFLOAD, len);\n\tSVCMAP(WMI_10_4_SERVICE_BCN_MISS_OFFLOAD,\n\t       WMI_SERVICE_BCN_MISS_OFFLOAD, len);\n\tSVCMAP(WMI_10_4_SERVICE_STA_PWRSAVE,\n\t       WMI_SERVICE_STA_PWRSAVE, len);\n\tSVCMAP(WMI_10_4_SERVICE_STA_ADVANCED_PWRSAVE,\n\t       WMI_SERVICE_STA_ADVANCED_PWRSAVE, len);\n\tSVCMAP(WMI_10_4_SERVICE_AP_UAPSD,\n\t       WMI_SERVICE_AP_UAPSD, len);\n\tSVCMAP(WMI_10_4_SERVICE_AP_DFS,\n\t       WMI_SERVICE_AP_DFS, len);\n\tSVCMAP(WMI_10_4_SERVICE_11AC,\n\t       WMI_SERVICE_11AC, len);\n\tSVCMAP(WMI_10_4_SERVICE_BLOCKACK,\n\t       WMI_SERVICE_BLOCKACK, len);\n\tSVCMAP(WMI_10_4_SERVICE_PHYERR,\n\t       WMI_SERVICE_PHYERR, len);\n\tSVCMAP(WMI_10_4_SERVICE_BCN_FILTER,\n\t       WMI_SERVICE_BCN_FILTER, len);\n\tSVCMAP(WMI_10_4_SERVICE_RTT,\n\t       WMI_SERVICE_RTT, len);\n\tSVCMAP(WMI_10_4_SERVICE_RATECTRL,\n\t       WMI_SERVICE_RATECTRL, len);\n\tSVCMAP(WMI_10_4_SERVICE_WOW,\n\t       WMI_SERVICE_WOW, len);\n\tSVCMAP(WMI_10_4_SERVICE_RATECTRL_CACHE,\n\t       WMI_SERVICE_RATECTRL_CACHE, len);\n\tSVCMAP(WMI_10_4_SERVICE_IRAM_TIDS,\n\t       WMI_SERVICE_IRAM_TIDS, len);\n\tSVCMAP(WMI_10_4_SERVICE_BURST,\n\t       WMI_SERVICE_BURST, len);\n\tSVCMAP(WMI_10_4_SERVICE_SMART_ANTENNA_SW_SUPPORT,\n\t       WMI_SERVICE_SMART_ANTENNA_SW_SUPPORT, len);\n\tSVCMAP(WMI_10_4_SERVICE_GTK_OFFLOAD,\n\t       WMI_SERVICE_GTK_OFFLOAD, len);\n\tSVCMAP(WMI_10_4_SERVICE_SCAN_SCH,\n\t       WMI_SERVICE_SCAN_SCH, len);\n\tSVCMAP(WMI_10_4_SERVICE_CSA_OFFLOAD,\n\t       WMI_SERVICE_CSA_OFFLOAD, len);\n\tSVCMAP(WMI_10_4_SERVICE_CHATTER,\n\t       WMI_SERVICE_CHATTER, len);\n\tSVCMAP(WMI_10_4_SERVICE_COEX_FREQAVOID,\n\t       WMI_SERVICE_COEX_FREQAVOID, len);\n\tSVCMAP(WMI_10_4_SERVICE_PACKET_POWER_SAVE,\n\t       WMI_SERVICE_PACKET_POWER_SAVE, len);\n\tSVCMAP(WMI_10_4_SERVICE_FORCE_FW_HANG,\n\t       WMI_SERVICE_FORCE_FW_HANG, len);\n\tSVCMAP(WMI_10_4_SERVICE_SMART_ANTENNA_HW_SUPPORT,\n\t       WMI_SERVICE_SMART_ANTENNA_HW_SUPPORT, len);\n\tSVCMAP(WMI_10_4_SERVICE_GPIO,\n\t       WMI_SERVICE_GPIO, len);\n\tSVCMAP(WMI_10_4_SERVICE_STA_UAPSD_BASIC_AUTO_TRIG,\n\t       WMI_SERVICE_STA_UAPSD_BASIC_AUTO_TRIG, len);\n\tSVCMAP(WMI_10_4_SERVICE_STA_UAPSD_VAR_AUTO_TRIG,\n\t       WMI_SERVICE_STA_UAPSD_VAR_AUTO_TRIG, len);\n\tSVCMAP(WMI_10_4_SERVICE_STA_KEEP_ALIVE,\n\t       WMI_SERVICE_STA_KEEP_ALIVE, len);\n\tSVCMAP(WMI_10_4_SERVICE_TX_ENCAP,\n\t       WMI_SERVICE_TX_ENCAP, len);\n\tSVCMAP(WMI_10_4_SERVICE_AP_PS_DETECT_OUT_OF_SYNC,\n\t       WMI_SERVICE_AP_PS_DETECT_OUT_OF_SYNC, len);\n\tSVCMAP(WMI_10_4_SERVICE_EARLY_RX,\n\t       WMI_SERVICE_EARLY_RX, len);\n\tSVCMAP(WMI_10_4_SERVICE_ENHANCED_PROXY_STA,\n\t       WMI_SERVICE_ENHANCED_PROXY_STA, len);\n\tSVCMAP(WMI_10_4_SERVICE_TT,\n\t       WMI_SERVICE_TT, len);\n\tSVCMAP(WMI_10_4_SERVICE_ATF,\n\t       WMI_SERVICE_ATF, len);\n\tSVCMAP(WMI_10_4_SERVICE_PEER_CACHING,\n\t       WMI_SERVICE_PEER_CACHING, len);\n\tSVCMAP(WMI_10_4_SERVICE_COEX_GPIO,\n\t       WMI_SERVICE_COEX_GPIO, len);\n\tSVCMAP(WMI_10_4_SERVICE_AUX_SPECTRAL_INTF,\n\t       WMI_SERVICE_AUX_SPECTRAL_INTF, len);\n\tSVCMAP(WMI_10_4_SERVICE_AUX_CHAN_LOAD_INTF,\n\t       WMI_SERVICE_AUX_CHAN_LOAD_INTF, len);\n\tSVCMAP(WMI_10_4_SERVICE_BSS_CHANNEL_INFO_64,\n\t       WMI_SERVICE_BSS_CHANNEL_INFO_64, len);\n\tSVCMAP(WMI_10_4_SERVICE_EXT_RES_CFG_SUPPORT,\n\t       WMI_SERVICE_EXT_RES_CFG_SUPPORT, len);\n\tSVCMAP(WMI_10_4_SERVICE_MESH_NON_11S,\n\t       WMI_SERVICE_MESH_NON_11S, len);\n\tSVCMAP(WMI_10_4_SERVICE_RESTRT_CHNL_SUPPORT,\n\t       WMI_SERVICE_RESTRT_CHNL_SUPPORT, len);\n\tSVCMAP(WMI_10_4_SERVICE_PEER_STATS,\n\t       WMI_SERVICE_PEER_STATS, len);\n\tSVCMAP(WMI_10_4_SERVICE_MESH_11S,\n\t       WMI_SERVICE_MESH_11S, len);\n\tSVCMAP(WMI_10_4_SERVICE_PERIODIC_CHAN_STAT_SUPPORT,\n\t       WMI_SERVICE_PERIODIC_CHAN_STAT_SUPPORT, len);\n\tSVCMAP(WMI_10_4_SERVICE_TX_MODE_PUSH_ONLY,\n\t       WMI_SERVICE_TX_MODE_PUSH_ONLY, len);\n\tSVCMAP(WMI_10_4_SERVICE_TX_MODE_PUSH_PULL,\n\t       WMI_SERVICE_TX_MODE_PUSH_PULL, len);\n\tSVCMAP(WMI_10_4_SERVICE_TX_MODE_DYNAMIC,\n\t       WMI_SERVICE_TX_MODE_DYNAMIC, len);\n\tSVCMAP(WMI_10_4_SERVICE_VDEV_RX_FILTER,\n\t       WMI_SERVICE_VDEV_RX_FILTER, len);\n\tSVCMAP(WMI_10_4_SERVICE_BTCOEX,\n\t       WMI_SERVICE_BTCOEX, len);\n\tSVCMAP(WMI_10_4_SERVICE_CHECK_CAL_VERSION,\n\t       WMI_SERVICE_CHECK_CAL_VERSION, len);\n\tSVCMAP(WMI_10_4_SERVICE_DBGLOG_WARN2,\n\t       WMI_SERVICE_DBGLOG_WARN2, len);\n\tSVCMAP(WMI_10_4_SERVICE_BTCOEX_DUTY_CYCLE,\n\t       WMI_SERVICE_BTCOEX_DUTY_CYCLE, len);\n\tSVCMAP(WMI_10_4_SERVICE_4_WIRE_COEX_SUPPORT,\n\t       WMI_SERVICE_4_WIRE_COEX_SUPPORT, len);\n\tSVCMAP(WMI_10_4_SERVICE_EXTENDED_NSS_SUPPORT,\n\t       WMI_SERVICE_EXTENDED_NSS_SUPPORT, len);\n\tSVCMAP(WMI_10_4_SERVICE_PROG_GPIO_BAND_SELECT,\n\t       WMI_SERVICE_PROG_GPIO_BAND_SELECT, len);\n\tSVCMAP(WMI_10_4_SERVICE_SMART_LOGGING_SUPPORT,\n\t       WMI_SERVICE_SMART_LOGGING_SUPPORT, len);\n\tSVCMAP(WMI_10_4_SERVICE_TDLS,\n\t       WMI_SERVICE_TDLS, len);\n\tSVCMAP(WMI_10_4_SERVICE_TDLS_OFFCHAN,\n\t       WMI_SERVICE_TDLS_OFFCHAN, len);\n\tSVCMAP(WMI_10_4_SERVICE_TDLS_UAPSD_BUFFER_STA,\n\t       WMI_SERVICE_TDLS_UAPSD_BUFFER_STA, len);\n\tSVCMAP(WMI_10_4_SERVICE_TDLS_UAPSD_SLEEP_STA,\n\t       WMI_SERVICE_TDLS_UAPSD_SLEEP_STA, len);\n\tSVCMAP(WMI_10_4_SERVICE_TDLS_CONN_TRACKER_IN_HOST_MODE,\n\t       WMI_SERVICE_TDLS_CONN_TRACKER_IN_HOST_MODE, len);\n\tSVCMAP(WMI_10_4_SERVICE_TDLS_EXPLICIT_MODE_ONLY,\n\t       WMI_SERVICE_TDLS_EXPLICIT_MODE_ONLY, len);\n\tSVCMAP(WMI_10_4_SERVICE_TDLS_WIDER_BANDWIDTH,\n\t       WMI_SERVICE_TDLS_WIDER_BANDWIDTH, len);\n\tSVCMAP(WMI_10_4_SERVICE_HTT_MGMT_TX_COMP_VALID_FLAGS,\n\t       WMI_SERVICE_HTT_MGMT_TX_COMP_VALID_FLAGS, len);\n\tSVCMAP(WMI_10_4_SERVICE_HOST_DFS_CHECK_SUPPORT,\n\t       WMI_SERVICE_HOST_DFS_CHECK_SUPPORT, len);\n\tSVCMAP(WMI_10_4_SERVICE_TPC_STATS_FINAL,\n\t       WMI_SERVICE_TPC_STATS_FINAL, len);\n\tSVCMAP(WMI_10_4_SERVICE_TX_DATA_ACK_RSSI,\n\t       WMI_SERVICE_TX_DATA_ACK_RSSI, len);\n\tSVCMAP(WMI_10_4_SERVICE_VDEV_DIFFERENT_BEACON_INTERVAL_SUPPORT,\n\t       WMI_SERVICE_VDEV_DIFFERENT_BEACON_INTERVAL_SUPPORT, len);\n\tSVCMAP(WMI_10_4_SERVICE_VDEV_DISABLE_4_ADDR_SRC_LRN_SUPPORT,\n\t       WMI_SERVICE_VDEV_DISABLE_4_ADDR_SRC_LRN_SUPPORT, len);\n\tSVCMAP(WMI_10_4_SERVICE_RTT_RESPONDER_ROLE,\n\t       WMI_SERVICE_RTT_RESPONDER_ROLE, len);\n\tSVCMAP(WMI_10_4_SERVICE_PER_PACKET_SW_ENCRYPT,\n\t       WMI_SERVICE_PER_PACKET_SW_ENCRYPT, len);\n\tSVCMAP(WMI_10_4_SERVICE_REPORT_AIRTIME,\n\t       WMI_SERVICE_REPORT_AIRTIME, len);\n\tSVCMAP(WMI_10_4_SERVICE_TX_PWR_PER_PEER,\n\t       WMI_SERVICE_TX_PWR_PER_PEER, len);\n\tSVCMAP(WMI_10_4_SERVICE_RESET_CHIP,\n\t       WMI_SERVICE_RESET_CHIP, len);\n\tSVCMAP(WMI_10_4_SERVICE_PEER_TID_CONFIGS_SUPPORT,\n\t       WMI_SERVICE_PEER_TID_CONFIGS_SUPPORT, len);\n\tSVCMAP(WMI_10_4_SERVICE_EXT_PEER_TID_CONFIGS_SUPPORT,\n\t       WMI_SERVICE_PEER_TID_CONFIGS_SUPPORT, len);\n}\n\n#undef SVCMAP\n\n/* 2 word representation of MAC addr */\nstruct wmi_mac_addr {\n\tunion {\n\t\tu8 addr[6];\n\t\tstruct {\n\t\t\tu32 word0;\n\t\t\tu32 word1;\n\t\t} __packed;\n\t} __packed;\n} __packed;\n\nstruct wmi_cmd_map {\n\tu32 init_cmdid;\n\tu32 start_scan_cmdid;\n\tu32 stop_scan_cmdid;\n\tu32 scan_chan_list_cmdid;\n\tu32 scan_sch_prio_tbl_cmdid;\n\tu32 scan_prob_req_oui_cmdid;\n\tu32 pdev_set_regdomain_cmdid;\n\tu32 pdev_set_channel_cmdid;\n\tu32 pdev_set_param_cmdid;\n\tu32 pdev_pktlog_enable_cmdid;\n\tu32 pdev_pktlog_disable_cmdid;\n\tu32 pdev_set_wmm_params_cmdid;\n\tu32 pdev_set_ht_cap_ie_cmdid;\n\tu32 pdev_set_vht_cap_ie_cmdid;\n\tu32 pdev_set_dscp_tid_map_cmdid;\n\tu32 pdev_set_quiet_mode_cmdid;\n\tu32 pdev_green_ap_ps_enable_cmdid;\n\tu32 pdev_get_tpc_config_cmdid;\n\tu32 pdev_set_base_macaddr_cmdid;\n\tu32 vdev_create_cmdid;\n\tu32 vdev_delete_cmdid;\n\tu32 vdev_start_request_cmdid;\n\tu32 vdev_restart_request_cmdid;\n\tu32 vdev_up_cmdid;\n\tu32 vdev_stop_cmdid;\n\tu32 vdev_down_cmdid;\n\tu32 vdev_set_param_cmdid;\n\tu32 vdev_install_key_cmdid;\n\tu32 peer_create_cmdid;\n\tu32 peer_delete_cmdid;\n\tu32 peer_flush_tids_cmdid;\n\tu32 peer_set_param_cmdid;\n\tu32 peer_assoc_cmdid;\n\tu32 peer_add_wds_entry_cmdid;\n\tu32 peer_remove_wds_entry_cmdid;\n\tu32 peer_mcast_group_cmdid;\n\tu32 bcn_tx_cmdid;\n\tu32 pdev_send_bcn_cmdid;\n\tu32 bcn_tmpl_cmdid;\n\tu32 bcn_filter_rx_cmdid;\n\tu32 prb_req_filter_rx_cmdid;\n\tu32 mgmt_tx_cmdid;\n\tu32 mgmt_tx_send_cmdid;\n\tu32 prb_tmpl_cmdid;\n\tu32 addba_clear_resp_cmdid;\n\tu32 addba_send_cmdid;\n\tu32 addba_status_cmdid;\n\tu32 delba_send_cmdid;\n\tu32 addba_set_resp_cmdid;\n\tu32 send_singleamsdu_cmdid;\n\tu32 sta_powersave_mode_cmdid;\n\tu32 sta_powersave_param_cmdid;\n\tu32 sta_mimo_ps_mode_cmdid;\n\tu32 pdev_dfs_enable_cmdid;\n\tu32 pdev_dfs_disable_cmdid;\n\tu32 roam_scan_mode;\n\tu32 roam_scan_rssi_threshold;\n\tu32 roam_scan_period;\n\tu32 roam_scan_rssi_change_threshold;\n\tu32 roam_ap_profile;\n\tu32 ofl_scan_add_ap_profile;\n\tu32 ofl_scan_remove_ap_profile;\n\tu32 ofl_scan_period;\n\tu32 p2p_dev_set_device_info;\n\tu32 p2p_dev_set_discoverability;\n\tu32 p2p_go_set_beacon_ie;\n\tu32 p2p_go_set_probe_resp_ie;\n\tu32 p2p_set_vendor_ie_data_cmdid;\n\tu32 ap_ps_peer_param_cmdid;\n\tu32 ap_ps_peer_uapsd_coex_cmdid;\n\tu32 peer_rate_retry_sched_cmdid;\n\tu32 wlan_profile_trigger_cmdid;\n\tu32 wlan_profile_set_hist_intvl_cmdid;\n\tu32 wlan_profile_get_profile_data_cmdid;\n\tu32 wlan_profile_enable_profile_id_cmdid;\n\tu32 wlan_profile_list_profile_id_cmdid;\n\tu32 pdev_suspend_cmdid;\n\tu32 pdev_resume_cmdid;\n\tu32 add_bcn_filter_cmdid;\n\tu32 rmv_bcn_filter_cmdid;\n\tu32 wow_add_wake_pattern_cmdid;\n\tu32 wow_del_wake_pattern_cmdid;\n\tu32 wow_enable_disable_wake_event_cmdid;\n\tu32 wow_enable_cmdid;\n\tu32 wow_hostwakeup_from_sleep_cmdid;\n\tu32 rtt_measreq_cmdid;\n\tu32 rtt_tsf_cmdid;\n\tu32 vdev_spectral_scan_configure_cmdid;\n\tu32 vdev_spectral_scan_enable_cmdid;\n\tu32 request_stats_cmdid;\n\tu32 request_peer_stats_info_cmdid;\n\tu32 set_arp_ns_offload_cmdid;\n\tu32 network_list_offload_config_cmdid;\n\tu32 gtk_offload_cmdid;\n\tu32 csa_offload_enable_cmdid;\n\tu32 csa_offload_chanswitch_cmdid;\n\tu32 chatter_set_mode_cmdid;\n\tu32 peer_tid_addba_cmdid;\n\tu32 peer_tid_delba_cmdid;\n\tu32 sta_dtim_ps_method_cmdid;\n\tu32 sta_uapsd_auto_trig_cmdid;\n\tu32 sta_keepalive_cmd;\n\tu32 echo_cmdid;\n\tu32 pdev_utf_cmdid;\n\tu32 dbglog_cfg_cmdid;\n\tu32 pdev_qvit_cmdid;\n\tu32 pdev_ftm_intg_cmdid;\n\tu32 vdev_set_keepalive_cmdid;\n\tu32 vdev_get_keepalive_cmdid;\n\tu32 force_fw_hang_cmdid;\n\tu32 gpio_config_cmdid;\n\tu32 gpio_output_cmdid;\n\tu32 pdev_get_temperature_cmdid;\n\tu32 vdev_set_wmm_params_cmdid;\n\tu32 tdls_set_state_cmdid;\n\tu32 tdls_peer_update_cmdid;\n\tu32 adaptive_qcs_cmdid;\n\tu32 scan_update_request_cmdid;\n\tu32 vdev_standby_response_cmdid;\n\tu32 vdev_resume_response_cmdid;\n\tu32 wlan_peer_caching_add_peer_cmdid;\n\tu32 wlan_peer_caching_evict_peer_cmdid;\n\tu32 wlan_peer_caching_restore_peer_cmdid;\n\tu32 wlan_peer_caching_print_all_peers_info_cmdid;\n\tu32 peer_update_wds_entry_cmdid;\n\tu32 peer_add_proxy_sta_entry_cmdid;\n\tu32 rtt_keepalive_cmdid;\n\tu32 oem_req_cmdid;\n\tu32 nan_cmdid;\n\tu32 vdev_ratemask_cmdid;\n\tu32 qboost_cfg_cmdid;\n\tu32 pdev_smart_ant_enable_cmdid;\n\tu32 pdev_smart_ant_set_rx_antenna_cmdid;\n\tu32 peer_smart_ant_set_tx_antenna_cmdid;\n\tu32 peer_smart_ant_set_train_info_cmdid;\n\tu32 peer_smart_ant_set_node_config_ops_cmdid;\n\tu32 pdev_set_antenna_switch_table_cmdid;\n\tu32 pdev_set_ctl_table_cmdid;\n\tu32 pdev_set_mimogain_table_cmdid;\n\tu32 pdev_ratepwr_table_cmdid;\n\tu32 pdev_ratepwr_chainmsk_table_cmdid;\n\tu32 pdev_fips_cmdid;\n\tu32 tt_set_conf_cmdid;\n\tu32 fwtest_cmdid;\n\tu32 vdev_atf_request_cmdid;\n\tu32 peer_atf_request_cmdid;\n\tu32 pdev_get_ani_cck_config_cmdid;\n\tu32 pdev_get_ani_ofdm_config_cmdid;\n\tu32 pdev_reserve_ast_entry_cmdid;\n\tu32 pdev_get_nfcal_power_cmdid;\n\tu32 pdev_get_tpc_cmdid;\n\tu32 pdev_get_ast_info_cmdid;\n\tu32 vdev_set_dscp_tid_map_cmdid;\n\tu32 pdev_get_info_cmdid;\n\tu32 vdev_get_info_cmdid;\n\tu32 vdev_filter_neighbor_rx_packets_cmdid;\n\tu32 mu_cal_start_cmdid;\n\tu32 set_cca_params_cmdid;\n\tu32 pdev_bss_chan_info_request_cmdid;\n\tu32 pdev_enable_adaptive_cca_cmdid;\n\tu32 ext_resource_cfg_cmdid;\n\tu32 vdev_set_ie_cmdid;\n\tu32 set_lteu_config_cmdid;\n\tu32 atf_ssid_grouping_request_cmdid;\n\tu32 peer_atf_ext_request_cmdid;\n\tu32 set_periodic_channel_stats_cfg_cmdid;\n\tu32 peer_bwf_request_cmdid;\n\tu32 btcoex_cfg_cmdid;\n\tu32 peer_tx_mu_txmit_count_cmdid;\n\tu32 peer_tx_mu_txmit_rstcnt_cmdid;\n\tu32 peer_gid_userpos_list_cmdid;\n\tu32 pdev_check_cal_version_cmdid;\n\tu32 coex_version_cfg_cmid;\n\tu32 pdev_get_rx_filter_cmdid;\n\tu32 pdev_extended_nss_cfg_cmdid;\n\tu32 vdev_set_scan_nac_rssi_cmdid;\n\tu32 prog_gpio_band_select_cmdid;\n\tu32 config_smart_logging_cmdid;\n\tu32 debug_fatal_condition_cmdid;\n\tu32 get_tsf_timer_cmdid;\n\tu32 pdev_get_tpc_table_cmdid;\n\tu32 vdev_sifs_trigger_time_cmdid;\n\tu32 pdev_wds_entry_list_cmdid;\n\tu32 tdls_set_offchan_mode_cmdid;\n\tu32 radar_found_cmdid;\n\tu32 set_bb_timing_cmdid;\n\tu32 per_peer_per_tid_config_cmdid;\n};\n\n/*\n * wmi command groups.\n */\nenum wmi_cmd_group {\n\t/* 0 to 2 are reserved */\n\tWMI_GRP_START = 0x3,\n\tWMI_GRP_SCAN = WMI_GRP_START,\n\tWMI_GRP_PDEV,\n\tWMI_GRP_VDEV,\n\tWMI_GRP_PEER,\n\tWMI_GRP_MGMT,\n\tWMI_GRP_BA_NEG,\n\tWMI_GRP_STA_PS,\n\tWMI_GRP_DFS,\n\tWMI_GRP_ROAM,\n\tWMI_GRP_OFL_SCAN,\n\tWMI_GRP_P2P,\n\tWMI_GRP_AP_PS,\n\tWMI_GRP_RATE_CTRL,\n\tWMI_GRP_PROFILE,\n\tWMI_GRP_SUSPEND,\n\tWMI_GRP_BCN_FILTER,\n\tWMI_GRP_WOW,\n\tWMI_GRP_RTT,\n\tWMI_GRP_SPECTRAL,\n\tWMI_GRP_STATS,\n\tWMI_GRP_ARP_NS_OFL,\n\tWMI_GRP_NLO_OFL,\n\tWMI_GRP_GTK_OFL,\n\tWMI_GRP_CSA_OFL,\n\tWMI_GRP_CHATTER,\n\tWMI_GRP_TID_ADDBA,\n\tWMI_GRP_MISC,\n\tWMI_GRP_GPIO,\n};\n\n#define WMI_CMD_GRP(grp_id) (((grp_id) << 12) | 0x1)\n#define WMI_EVT_GRP_START_ID(grp_id) (((grp_id) << 12) | 0x1)\n\n#define WMI_CMD_UNSUPPORTED 0\n\n/* Command IDs and command events for MAIN FW. */\nenum wmi_cmd_id {\n\tWMI_INIT_CMDID = 0x1,\n\n\t/* Scan specific commands */\n\tWMI_START_SCAN_CMDID = WMI_CMD_GRP(WMI_GRP_SCAN),\n\tWMI_STOP_SCAN_CMDID,\n\tWMI_SCAN_CHAN_LIST_CMDID,\n\tWMI_SCAN_SCH_PRIO_TBL_CMDID,\n\n\t/* PDEV (physical device) specific commands */\n\tWMI_PDEV_SET_REGDOMAIN_CMDID = WMI_CMD_GRP(WMI_GRP_PDEV),\n\tWMI_PDEV_SET_CHANNEL_CMDID,\n\tWMI_PDEV_SET_PARAM_CMDID,\n\tWMI_PDEV_PKTLOG_ENABLE_CMDID,\n\tWMI_PDEV_PKTLOG_DISABLE_CMDID,\n\tWMI_PDEV_SET_WMM_PARAMS_CMDID,\n\tWMI_PDEV_SET_HT_CAP_IE_CMDID,\n\tWMI_PDEV_SET_VHT_CAP_IE_CMDID,\n\tWMI_PDEV_SET_DSCP_TID_MAP_CMDID,\n\tWMI_PDEV_SET_QUIET_MODE_CMDID,\n\tWMI_PDEV_GREEN_AP_PS_ENABLE_CMDID,\n\tWMI_PDEV_GET_TPC_CONFIG_CMDID,\n\tWMI_PDEV_SET_BASE_MACADDR_CMDID,\n\n\t/* VDEV (virtual device) specific commands */\n\tWMI_VDEV_CREATE_CMDID = WMI_CMD_GRP(WMI_GRP_VDEV),\n\tWMI_VDEV_DELETE_CMDID,\n\tWMI_VDEV_START_REQUEST_CMDID,\n\tWMI_VDEV_RESTART_REQUEST_CMDID,\n\tWMI_VDEV_UP_CMDID,\n\tWMI_VDEV_STOP_CMDID,\n\tWMI_VDEV_DOWN_CMDID,\n\tWMI_VDEV_SET_PARAM_CMDID,\n\tWMI_VDEV_INSTALL_KEY_CMDID,\n\n\t/* peer specific commands */\n\tWMI_PEER_CREATE_CMDID = WMI_CMD_GRP(WMI_GRP_PEER),\n\tWMI_PEER_DELETE_CMDID,\n\tWMI_PEER_FLUSH_TIDS_CMDID,\n\tWMI_PEER_SET_PARAM_CMDID,\n\tWMI_PEER_ASSOC_CMDID,\n\tWMI_PEER_ADD_WDS_ENTRY_CMDID,\n\tWMI_PEER_REMOVE_WDS_ENTRY_CMDID,\n\tWMI_PEER_MCAST_GROUP_CMDID,\n\n\t/* beacon/management specific commands */\n\tWMI_BCN_TX_CMDID = WMI_CMD_GRP(WMI_GRP_MGMT),\n\tWMI_PDEV_SEND_BCN_CMDID,\n\tWMI_BCN_TMPL_CMDID,\n\tWMI_BCN_FILTER_RX_CMDID,\n\tWMI_PRB_REQ_FILTER_RX_CMDID,\n\tWMI_MGMT_TX_CMDID,\n\tWMI_PRB_TMPL_CMDID,\n\n\t/* commands to directly control BA negotiation directly from host. */\n\tWMI_ADDBA_CLEAR_RESP_CMDID = WMI_CMD_GRP(WMI_GRP_BA_NEG),\n\tWMI_ADDBA_SEND_CMDID,\n\tWMI_ADDBA_STATUS_CMDID,\n\tWMI_DELBA_SEND_CMDID,\n\tWMI_ADDBA_SET_RESP_CMDID,\n\tWMI_SEND_SINGLEAMSDU_CMDID,\n\n\t/* Station power save specific config */\n\tWMI_STA_POWERSAVE_MODE_CMDID = WMI_CMD_GRP(WMI_GRP_STA_PS),\n\tWMI_STA_POWERSAVE_PARAM_CMDID,\n\tWMI_STA_MIMO_PS_MODE_CMDID,\n\n\t/** DFS-specific commands */\n\tWMI_PDEV_DFS_ENABLE_CMDID = WMI_CMD_GRP(WMI_GRP_DFS),\n\tWMI_PDEV_DFS_DISABLE_CMDID,\n\n\t/* Roaming specific  commands */\n\tWMI_ROAM_SCAN_MODE = WMI_CMD_GRP(WMI_GRP_ROAM),\n\tWMI_ROAM_SCAN_RSSI_THRESHOLD,\n\tWMI_ROAM_SCAN_PERIOD,\n\tWMI_ROAM_SCAN_RSSI_CHANGE_THRESHOLD,\n\tWMI_ROAM_AP_PROFILE,\n\n\t/* offload scan specific commands */\n\tWMI_OFL_SCAN_ADD_AP_PROFILE = WMI_CMD_GRP(WMI_GRP_OFL_SCAN),\n\tWMI_OFL_SCAN_REMOVE_AP_PROFILE,\n\tWMI_OFL_SCAN_PERIOD,\n\n\t/* P2P specific commands */\n\tWMI_P2P_DEV_SET_DEVICE_INFO = WMI_CMD_GRP(WMI_GRP_P2P),\n\tWMI_P2P_DEV_SET_DISCOVERABILITY,\n\tWMI_P2P_GO_SET_BEACON_IE,\n\tWMI_P2P_GO_SET_PROBE_RESP_IE,\n\tWMI_P2P_SET_VENDOR_IE_DATA_CMDID,\n\n\t/* AP power save specific config */\n\tWMI_AP_PS_PEER_PARAM_CMDID = WMI_CMD_GRP(WMI_GRP_AP_PS),\n\tWMI_AP_PS_PEER_UAPSD_COEX_CMDID,\n\n\t/* Rate-control specific commands */\n\tWMI_PEER_RATE_RETRY_SCHED_CMDID =\n\tWMI_CMD_GRP(WMI_GRP_RATE_CTRL),\n\n\t/* WLAN Profiling commands. */\n\tWMI_WLAN_PROFILE_TRIGGER_CMDID = WMI_CMD_GRP(WMI_GRP_PROFILE),\n\tWMI_WLAN_PROFILE_SET_HIST_INTVL_CMDID,\n\tWMI_WLAN_PROFILE_GET_PROFILE_DATA_CMDID,\n\tWMI_WLAN_PROFILE_ENABLE_PROFILE_ID_CMDID,\n\tWMI_WLAN_PROFILE_LIST_PROFILE_ID_CMDID,\n\n\t/* Suspend resume command Ids */\n\tWMI_PDEV_SUSPEND_CMDID = WMI_CMD_GRP(WMI_GRP_SUSPEND),\n\tWMI_PDEV_RESUME_CMDID,\n\n\t/* Beacon filter commands */\n\tWMI_ADD_BCN_FILTER_CMDID = WMI_CMD_GRP(WMI_GRP_BCN_FILTER),\n\tWMI_RMV_BCN_FILTER_CMDID,\n\n\t/* WOW Specific WMI commands*/\n\tWMI_WOW_ADD_WAKE_PATTERN_CMDID = WMI_CMD_GRP(WMI_GRP_WOW),\n\tWMI_WOW_DEL_WAKE_PATTERN_CMDID,\n\tWMI_WOW_ENABLE_DISABLE_WAKE_EVENT_CMDID,\n\tWMI_WOW_ENABLE_CMDID,\n\tWMI_WOW_HOSTWAKEUP_FROM_SLEEP_CMDID,\n\n\t/* RTT measurement related cmd */\n\tWMI_RTT_MEASREQ_CMDID = WMI_CMD_GRP(WMI_GRP_RTT),\n\tWMI_RTT_TSF_CMDID,\n\n\t/* spectral scan commands */\n\tWMI_VDEV_SPECTRAL_SCAN_CONFIGURE_CMDID = WMI_CMD_GRP(WMI_GRP_SPECTRAL),\n\tWMI_VDEV_SPECTRAL_SCAN_ENABLE_CMDID,\n\n\t/* F/W stats */\n\tWMI_REQUEST_STATS_CMDID = WMI_CMD_GRP(WMI_GRP_STATS),\n\n\t/* ARP OFFLOAD REQUEST*/\n\tWMI_SET_ARP_NS_OFFLOAD_CMDID = WMI_CMD_GRP(WMI_GRP_ARP_NS_OFL),\n\n\t/* NS offload confid*/\n\tWMI_NETWORK_LIST_OFFLOAD_CONFIG_CMDID = WMI_CMD_GRP(WMI_GRP_NLO_OFL),\n\n\t/* GTK offload Specific WMI commands*/\n\tWMI_GTK_OFFLOAD_CMDID = WMI_CMD_GRP(WMI_GRP_GTK_OFL),\n\n\t/* CSA offload Specific WMI commands*/\n\tWMI_CSA_OFFLOAD_ENABLE_CMDID = WMI_CMD_GRP(WMI_GRP_CSA_OFL),\n\tWMI_CSA_OFFLOAD_CHANSWITCH_CMDID,\n\n\t/* Chatter commands*/\n\tWMI_CHATTER_SET_MODE_CMDID = WMI_CMD_GRP(WMI_GRP_CHATTER),\n\n\t/* addba specific commands */\n\tWMI_PEER_TID_ADDBA_CMDID = WMI_CMD_GRP(WMI_GRP_TID_ADDBA),\n\tWMI_PEER_TID_DELBA_CMDID,\n\n\t/* set station mimo powersave method */\n\tWMI_STA_DTIM_PS_METHOD_CMDID,\n\t/* Configure the Station UAPSD AC Auto Trigger Parameters */\n\tWMI_STA_UAPSD_AUTO_TRIG_CMDID,\n\n\t/* STA Keep alive parameter configuration,\n\t * Requires WMI_SERVICE_STA_KEEP_ALIVE\n\t */\n\tWMI_STA_KEEPALIVE_CMD,\n\n\t/* misc command group */\n\tWMI_ECHO_CMDID = WMI_CMD_GRP(WMI_GRP_MISC),\n\tWMI_PDEV_UTF_CMDID,\n\tWMI_DBGLOG_CFG_CMDID,\n\tWMI_PDEV_QVIT_CMDID,\n\tWMI_PDEV_FTM_INTG_CMDID,\n\tWMI_VDEV_SET_KEEPALIVE_CMDID,\n\tWMI_VDEV_GET_KEEPALIVE_CMDID,\n\tWMI_FORCE_FW_HANG_CMDID,\n\n\t/* GPIO Configuration */\n\tWMI_GPIO_CONFIG_CMDID = WMI_CMD_GRP(WMI_GRP_GPIO),\n\tWMI_GPIO_OUTPUT_CMDID,\n};\n\nenum wmi_event_id {\n\tWMI_SERVICE_READY_EVENTID = 0x1,\n\tWMI_READY_EVENTID,\n\tWMI_SERVICE_AVAILABLE_EVENTID,\n\n\t/* Scan specific events */\n\tWMI_SCAN_EVENTID = WMI_EVT_GRP_START_ID(WMI_GRP_SCAN),\n\n\t/* PDEV specific events */\n\tWMI_PDEV_TPC_CONFIG_EVENTID = WMI_EVT_GRP_START_ID(WMI_GRP_PDEV),\n\tWMI_CHAN_INFO_EVENTID,\n\tWMI_PHYERR_EVENTID,\n\n\t/* VDEV specific events */\n\tWMI_VDEV_START_RESP_EVENTID = WMI_EVT_GRP_START_ID(WMI_GRP_VDEV),\n\tWMI_VDEV_STOPPED_EVENTID,\n\tWMI_VDEV_INSTALL_KEY_COMPLETE_EVENTID,\n\n\t/* peer specific events */\n\tWMI_PEER_STA_KICKOUT_EVENTID = WMI_EVT_GRP_START_ID(WMI_GRP_PEER),\n\n\t/* beacon/mgmt specific events */\n\tWMI_MGMT_RX_EVENTID = WMI_EVT_GRP_START_ID(WMI_GRP_MGMT),\n\tWMI_HOST_SWBA_EVENTID,\n\tWMI_TBTTOFFSET_UPDATE_EVENTID,\n\n\t/* ADDBA Related WMI Events*/\n\tWMI_TX_DELBA_COMPLETE_EVENTID = WMI_EVT_GRP_START_ID(WMI_GRP_BA_NEG),\n\tWMI_TX_ADDBA_COMPLETE_EVENTID,\n\n\t/* Roam event to trigger roaming on host */\n\tWMI_ROAM_EVENTID = WMI_EVT_GRP_START_ID(WMI_GRP_ROAM),\n\tWMI_PROFILE_MATCH,\n\n\t/* WoW */\n\tWMI_WOW_WAKEUP_HOST_EVENTID = WMI_EVT_GRP_START_ID(WMI_GRP_WOW),\n\n\t/* RTT */\n\tWMI_RTT_MEASUREMENT_REPORT_EVENTID = WMI_EVT_GRP_START_ID(WMI_GRP_RTT),\n\tWMI_TSF_MEASUREMENT_REPORT_EVENTID,\n\tWMI_RTT_ERROR_REPORT_EVENTID,\n\n\t/* GTK offload */\n\tWMI_GTK_OFFLOAD_STATUS_EVENTID = WMI_EVT_GRP_START_ID(WMI_GRP_GTK_OFL),\n\tWMI_GTK_REKEY_FAIL_EVENTID,\n\n\t/* CSA IE received event */\n\tWMI_CSA_HANDLING_EVENTID = WMI_EVT_GRP_START_ID(WMI_GRP_CSA_OFL),\n\n\t/* Misc events */\n\tWMI_ECHO_EVENTID = WMI_EVT_GRP_START_ID(WMI_GRP_MISC),\n\tWMI_PDEV_UTF_EVENTID,\n\tWMI_DEBUG_MESG_EVENTID,\n\tWMI_UPDATE_STATS_EVENTID,\n\tWMI_DEBUG_PRINT_EVENTID,\n\tWMI_DCS_INTERFERENCE_EVENTID,\n\tWMI_PDEV_QVIT_EVENTID,\n\tWMI_WLAN_PROFILE_DATA_EVENTID,\n\tWMI_PDEV_FTM_INTG_EVENTID,\n\tWMI_WLAN_FREQ_AVOID_EVENTID,\n\tWMI_VDEV_GET_KEEPALIVE_EVENTID,\n\n\t/* GPIO Event */\n\tWMI_GPIO_INPUT_EVENTID = WMI_EVT_GRP_START_ID(WMI_GRP_GPIO),\n};\n\n/* Command IDs and command events for 10.X firmware */\nenum wmi_10x_cmd_id {\n\tWMI_10X_START_CMDID = 0x9000,\n\tWMI_10X_END_CMDID = 0x9FFF,\n\n\t/* initialize the wlan sub system */\n\tWMI_10X_INIT_CMDID,\n\n\t/* Scan specific commands */\n\n\tWMI_10X_START_SCAN_CMDID = WMI_10X_START_CMDID,\n\tWMI_10X_STOP_SCAN_CMDID,\n\tWMI_10X_SCAN_CHAN_LIST_CMDID,\n\tWMI_10X_ECHO_CMDID,\n\n\t/* PDEV(physical device) specific commands */\n\tWMI_10X_PDEV_SET_REGDOMAIN_CMDID,\n\tWMI_10X_PDEV_SET_CHANNEL_CMDID,\n\tWMI_10X_PDEV_SET_PARAM_CMDID,\n\tWMI_10X_PDEV_PKTLOG_ENABLE_CMDID,\n\tWMI_10X_PDEV_PKTLOG_DISABLE_CMDID,\n\tWMI_10X_PDEV_SET_WMM_PARAMS_CMDID,\n\tWMI_10X_PDEV_SET_HT_CAP_IE_CMDID,\n\tWMI_10X_PDEV_SET_VHT_CAP_IE_CMDID,\n\tWMI_10X_PDEV_SET_BASE_MACADDR_CMDID,\n\tWMI_10X_PDEV_SET_DSCP_TID_MAP_CMDID,\n\tWMI_10X_PDEV_SET_QUIET_MODE_CMDID,\n\tWMI_10X_PDEV_GREEN_AP_PS_ENABLE_CMDID,\n\tWMI_10X_PDEV_GET_TPC_CONFIG_CMDID,\n\n\t/* VDEV(virtual device) specific commands */\n\tWMI_10X_VDEV_CREATE_CMDID,\n\tWMI_10X_VDEV_DELETE_CMDID,\n\tWMI_10X_VDEV_START_REQUEST_CMDID,\n\tWMI_10X_VDEV_RESTART_REQUEST_CMDID,\n\tWMI_10X_VDEV_UP_CMDID,\n\tWMI_10X_VDEV_STOP_CMDID,\n\tWMI_10X_VDEV_DOWN_CMDID,\n\tWMI_10X_VDEV_STANDBY_RESPONSE_CMDID,\n\tWMI_10X_VDEV_RESUME_RESPONSE_CMDID,\n\tWMI_10X_VDEV_SET_PARAM_CMDID,\n\tWMI_10X_VDEV_INSTALL_KEY_CMDID,\n\n\t/* peer specific commands */\n\tWMI_10X_PEER_CREATE_CMDID,\n\tWMI_10X_PEER_DELETE_CMDID,\n\tWMI_10X_PEER_FLUSH_TIDS_CMDID,\n\tWMI_10X_PEER_SET_PARAM_CMDID,\n\tWMI_10X_PEER_ASSOC_CMDID,\n\tWMI_10X_PEER_ADD_WDS_ENTRY_CMDID,\n\tWMI_10X_PEER_REMOVE_WDS_ENTRY_CMDID,\n\tWMI_10X_PEER_MCAST_GROUP_CMDID,\n\n\t/* beacon/management specific commands */\n\n\tWMI_10X_BCN_TX_CMDID,\n\tWMI_10X_BCN_PRB_TMPL_CMDID,\n\tWMI_10X_BCN_FILTER_RX_CMDID,\n\tWMI_10X_PRB_REQ_FILTER_RX_CMDID,\n\tWMI_10X_MGMT_TX_CMDID,\n\n\t/* commands to directly control ba negotiation directly from host. */\n\tWMI_10X_ADDBA_CLEAR_RESP_CMDID,\n\tWMI_10X_ADDBA_SEND_CMDID,\n\tWMI_10X_ADDBA_STATUS_CMDID,\n\tWMI_10X_DELBA_SEND_CMDID,\n\tWMI_10X_ADDBA_SET_RESP_CMDID,\n\tWMI_10X_SEND_SINGLEAMSDU_CMDID,\n\n\t/* Station power save specific config */\n\tWMI_10X_STA_POWERSAVE_MODE_CMDID,\n\tWMI_10X_STA_POWERSAVE_PARAM_CMDID,\n\tWMI_10X_STA_MIMO_PS_MODE_CMDID,\n\n\t/* set debug log config */\n\tWMI_10X_DBGLOG_CFG_CMDID,\n\n\t/* DFS-specific commands */\n\tWMI_10X_PDEV_DFS_ENABLE_CMDID,\n\tWMI_10X_PDEV_DFS_DISABLE_CMDID,\n\n\t/* QVIT specific command id */\n\tWMI_10X_PDEV_QVIT_CMDID,\n\n\t/* Offload Scan and Roaming related  commands */\n\tWMI_10X_ROAM_SCAN_MODE,\n\tWMI_10X_ROAM_SCAN_RSSI_THRESHOLD,\n\tWMI_10X_ROAM_SCAN_PERIOD,\n\tWMI_10X_ROAM_SCAN_RSSI_CHANGE_THRESHOLD,\n\tWMI_10X_ROAM_AP_PROFILE,\n\tWMI_10X_OFL_SCAN_ADD_AP_PROFILE,\n\tWMI_10X_OFL_SCAN_REMOVE_AP_PROFILE,\n\tWMI_10X_OFL_SCAN_PERIOD,\n\n\t/* P2P specific commands */\n\tWMI_10X_P2P_DEV_SET_DEVICE_INFO,\n\tWMI_10X_P2P_DEV_SET_DISCOVERABILITY,\n\tWMI_10X_P2P_GO_SET_BEACON_IE,\n\tWMI_10X_P2P_GO_SET_PROBE_RESP_IE,\n\n\t/* AP power save specific config */\n\tWMI_10X_AP_PS_PEER_PARAM_CMDID,\n\tWMI_10X_AP_PS_PEER_UAPSD_COEX_CMDID,\n\n\t/* Rate-control specific commands */\n\tWMI_10X_PEER_RATE_RETRY_SCHED_CMDID,\n\n\t/* WLAN Profiling commands. */\n\tWMI_10X_WLAN_PROFILE_TRIGGER_CMDID,\n\tWMI_10X_WLAN_PROFILE_SET_HIST_INTVL_CMDID,\n\tWMI_10X_WLAN_PROFILE_GET_PROFILE_DATA_CMDID,\n\tWMI_10X_WLAN_PROFILE_ENABLE_PROFILE_ID_CMDID,\n\tWMI_10X_WLAN_PROFILE_LIST_PROFILE_ID_CMDID,\n\n\t/* Suspend resume command Ids */\n\tWMI_10X_PDEV_SUSPEND_CMDID,\n\tWMI_10X_PDEV_RESUME_CMDID,\n\n\t/* Beacon filter commands */\n\tWMI_10X_ADD_BCN_FILTER_CMDID,\n\tWMI_10X_RMV_BCN_FILTER_CMDID,\n\n\t/* WOW Specific WMI commands*/\n\tWMI_10X_WOW_ADD_WAKE_PATTERN_CMDID,\n\tWMI_10X_WOW_DEL_WAKE_PATTERN_CMDID,\n\tWMI_10X_WOW_ENABLE_DISABLE_WAKE_EVENT_CMDID,\n\tWMI_10X_WOW_ENABLE_CMDID,\n\tWMI_10X_WOW_HOSTWAKEUP_FROM_SLEEP_CMDID,\n\n\t/* RTT measurement related cmd */\n\tWMI_10X_RTT_MEASREQ_CMDID,\n\tWMI_10X_RTT_TSF_CMDID,\n\n\t/* transmit beacon by value */\n\tWMI_10X_PDEV_SEND_BCN_CMDID,\n\n\t/* F/W stats */\n\tWMI_10X_VDEV_SPECTRAL_SCAN_CONFIGURE_CMDID,\n\tWMI_10X_VDEV_SPECTRAL_SCAN_ENABLE_CMDID,\n\tWMI_10X_REQUEST_STATS_CMDID,\n\n\t/* GPIO Configuration */\n\tWMI_10X_GPIO_CONFIG_CMDID,\n\tWMI_10X_GPIO_OUTPUT_CMDID,\n\n\tWMI_10X_PDEV_UTF_CMDID = WMI_10X_END_CMDID - 1,\n};\n\nenum wmi_10x_event_id {\n\tWMI_10X_SERVICE_READY_EVENTID = 0x8000,\n\tWMI_10X_READY_EVENTID,\n\tWMI_10X_START_EVENTID = 0x9000,\n\tWMI_10X_END_EVENTID = 0x9FFF,\n\n\t/* Scan specific events */\n\tWMI_10X_SCAN_EVENTID = WMI_10X_START_EVENTID,\n\tWMI_10X_ECHO_EVENTID,\n\tWMI_10X_DEBUG_MESG_EVENTID,\n\tWMI_10X_UPDATE_STATS_EVENTID,\n\n\t/* Instantaneous RSSI event */\n\tWMI_10X_INST_RSSI_STATS_EVENTID,\n\n\t/* VDEV specific events */\n\tWMI_10X_VDEV_START_RESP_EVENTID,\n\tWMI_10X_VDEV_STANDBY_REQ_EVENTID,\n\tWMI_10X_VDEV_RESUME_REQ_EVENTID,\n\tWMI_10X_VDEV_STOPPED_EVENTID,\n\n\t/* peer  specific events */\n\tWMI_10X_PEER_STA_KICKOUT_EVENTID,\n\n\t/* beacon/mgmt specific events */\n\tWMI_10X_HOST_SWBA_EVENTID,\n\tWMI_10X_TBTTOFFSET_UPDATE_EVENTID,\n\tWMI_10X_MGMT_RX_EVENTID,\n\n\t/* Channel stats event */\n\tWMI_10X_CHAN_INFO_EVENTID,\n\n\t/* PHY Error specific WMI event */\n\tWMI_10X_PHYERR_EVENTID,\n\n\t/* Roam event to trigger roaming on host */\n\tWMI_10X_ROAM_EVENTID,\n\n\t/* matching AP found from list of profiles */\n\tWMI_10X_PROFILE_MATCH,\n\n\t/* debug print message used for tracing FW code while debugging */\n\tWMI_10X_DEBUG_PRINT_EVENTID,\n\t/* VI spoecific event */\n\tWMI_10X_PDEV_QVIT_EVENTID,\n\t/* FW code profile data in response to profile request */\n\tWMI_10X_WLAN_PROFILE_DATA_EVENTID,\n\n\t/*RTT related event ID*/\n\tWMI_10X_RTT_MEASUREMENT_REPORT_EVENTID,\n\tWMI_10X_TSF_MEASUREMENT_REPORT_EVENTID,\n\tWMI_10X_RTT_ERROR_REPORT_EVENTID,\n\n\tWMI_10X_WOW_WAKEUP_HOST_EVENTID,\n\tWMI_10X_DCS_INTERFERENCE_EVENTID,\n\n\t/* TPC config for the current operating channel */\n\tWMI_10X_PDEV_TPC_CONFIG_EVENTID,\n\n\tWMI_10X_GPIO_INPUT_EVENTID,\n\tWMI_10X_PDEV_UTF_EVENTID = WMI_10X_END_EVENTID - 1,\n};\n\nenum wmi_10_2_cmd_id {\n\tWMI_10_2_START_CMDID = 0x9000,\n\tWMI_10_2_END_CMDID = 0x9FFF,\n\tWMI_10_2_INIT_CMDID,\n\tWMI_10_2_START_SCAN_CMDID = WMI_10_2_START_CMDID,\n\tWMI_10_2_STOP_SCAN_CMDID,\n\tWMI_10_2_SCAN_CHAN_LIST_CMDID,\n\tWMI_10_2_ECHO_CMDID,\n\tWMI_10_2_PDEV_SET_REGDOMAIN_CMDID,\n\tWMI_10_2_PDEV_SET_CHANNEL_CMDID,\n\tWMI_10_2_PDEV_SET_PARAM_CMDID,\n\tWMI_10_2_PDEV_PKTLOG_ENABLE_CMDID,\n\tWMI_10_2_PDEV_PKTLOG_DISABLE_CMDID,\n\tWMI_10_2_PDEV_SET_WMM_PARAMS_CMDID,\n\tWMI_10_2_PDEV_SET_HT_CAP_IE_CMDID,\n\tWMI_10_2_PDEV_SET_VHT_CAP_IE_CMDID,\n\tWMI_10_2_PDEV_SET_BASE_MACADDR_CMDID,\n\tWMI_10_2_PDEV_SET_QUIET_MODE_CMDID,\n\tWMI_10_2_PDEV_GREEN_AP_PS_ENABLE_CMDID,\n\tWMI_10_2_PDEV_GET_TPC_CONFIG_CMDID,\n\tWMI_10_2_VDEV_CREATE_CMDID,\n\tWMI_10_2_VDEV_DELETE_CMDID,\n\tWMI_10_2_VDEV_START_REQUEST_CMDID,\n\tWMI_10_2_VDEV_RESTART_REQUEST_CMDID,\n\tWMI_10_2_VDEV_UP_CMDID,\n\tWMI_10_2_VDEV_STOP_CMDID,\n\tWMI_10_2_VDEV_DOWN_CMDID,\n\tWMI_10_2_VDEV_STANDBY_RESPONSE_CMDID,\n\tWMI_10_2_VDEV_RESUME_RESPONSE_CMDID,\n\tWMI_10_2_VDEV_SET_PARAM_CMDID,\n\tWMI_10_2_VDEV_INSTALL_KEY_CMDID,\n\tWMI_10_2_VDEV_SET_DSCP_TID_MAP_CMDID,\n\tWMI_10_2_PEER_CREATE_CMDID,\n\tWMI_10_2_PEER_DELETE_CMDID,\n\tWMI_10_2_PEER_FLUSH_TIDS_CMDID,\n\tWMI_10_2_PEER_SET_PARAM_CMDID,\n\tWMI_10_2_PEER_ASSOC_CMDID,\n\tWMI_10_2_PEER_ADD_WDS_ENTRY_CMDID,\n\tWMI_10_2_PEER_UPDATE_WDS_ENTRY_CMDID,\n\tWMI_10_2_PEER_REMOVE_WDS_ENTRY_CMDID,\n\tWMI_10_2_PEER_MCAST_GROUP_CMDID,\n\tWMI_10_2_BCN_TX_CMDID,\n\tWMI_10_2_BCN_PRB_TMPL_CMDID,\n\tWMI_10_2_BCN_FILTER_RX_CMDID,\n\tWMI_10_2_PRB_REQ_FILTER_RX_CMDID,\n\tWMI_10_2_MGMT_TX_CMDID,\n\tWMI_10_2_ADDBA_CLEAR_RESP_CMDID,\n\tWMI_10_2_ADDBA_SEND_CMDID,\n\tWMI_10_2_ADDBA_STATUS_CMDID,\n\tWMI_10_2_DELBA_SEND_CMDID,\n\tWMI_10_2_ADDBA_SET_RESP_CMDID,\n\tWMI_10_2_SEND_SINGLEAMSDU_CMDID,\n\tWMI_10_2_STA_POWERSAVE_MODE_CMDID,\n\tWMI_10_2_STA_POWERSAVE_PARAM_CMDID,\n\tWMI_10_2_STA_MIMO_PS_MODE_CMDID,\n\tWMI_10_2_DBGLOG_CFG_CMDID,\n\tWMI_10_2_PDEV_DFS_ENABLE_CMDID,\n\tWMI_10_2_PDEV_DFS_DISABLE_CMDID,\n\tWMI_10_2_PDEV_QVIT_CMDID,\n\tWMI_10_2_ROAM_SCAN_MODE,\n\tWMI_10_2_ROAM_SCAN_RSSI_THRESHOLD,\n\tWMI_10_2_ROAM_SCAN_PERIOD,\n\tWMI_10_2_ROAM_SCAN_RSSI_CHANGE_THRESHOLD,\n\tWMI_10_2_ROAM_AP_PROFILE,\n\tWMI_10_2_OFL_SCAN_ADD_AP_PROFILE,\n\tWMI_10_2_OFL_SCAN_REMOVE_AP_PROFILE,\n\tWMI_10_2_OFL_SCAN_PERIOD,\n\tWMI_10_2_P2P_DEV_SET_DEVICE_INFO,\n\tWMI_10_2_P2P_DEV_SET_DISCOVERABILITY,\n\tWMI_10_2_P2P_GO_SET_BEACON_IE,\n\tWMI_10_2_P2P_GO_SET_PROBE_RESP_IE,\n\tWMI_10_2_AP_PS_PEER_PARAM_CMDID,\n\tWMI_10_2_AP_PS_PEER_UAPSD_COEX_CMDID,\n\tWMI_10_2_PEER_RATE_RETRY_SCHED_CMDID,\n\tWMI_10_2_WLAN_PROFILE_TRIGGER_CMDID,\n\tWMI_10_2_WLAN_PROFILE_SET_HIST_INTVL_CMDID,\n\tWMI_10_2_WLAN_PROFILE_GET_PROFILE_DATA_CMDID,\n\tWMI_10_2_WLAN_PROFILE_ENABLE_PROFILE_ID_CMDID,\n\tWMI_10_2_WLAN_PROFILE_LIST_PROFILE_ID_CMDID,\n\tWMI_10_2_PDEV_SUSPEND_CMDID,\n\tWMI_10_2_PDEV_RESUME_CMDID,\n\tWMI_10_2_ADD_BCN_FILTER_CMDID,\n\tWMI_10_2_RMV_BCN_FILTER_CMDID,\n\tWMI_10_2_WOW_ADD_WAKE_PATTERN_CMDID,\n\tWMI_10_2_WOW_DEL_WAKE_PATTERN_CMDID,\n\tWMI_10_2_WOW_ENABLE_DISABLE_WAKE_EVENT_CMDID,\n\tWMI_10_2_WOW_ENABLE_CMDID,\n\tWMI_10_2_WOW_HOSTWAKEUP_FROM_SLEEP_CMDID,\n\tWMI_10_2_RTT_MEASREQ_CMDID,\n\tWMI_10_2_RTT_TSF_CMDID,\n\tWMI_10_2_RTT_KEEPALIVE_CMDID,\n\tWMI_10_2_PDEV_SEND_BCN_CMDID,\n\tWMI_10_2_VDEV_SPECTRAL_SCAN_CONFIGURE_CMDID,\n\tWMI_10_2_VDEV_SPECTRAL_SCAN_ENABLE_CMDID,\n\tWMI_10_2_REQUEST_STATS_CMDID,\n\tWMI_10_2_GPIO_CONFIG_CMDID,\n\tWMI_10_2_GPIO_OUTPUT_CMDID,\n\tWMI_10_2_VDEV_RATEMASK_CMDID,\n\tWMI_10_2_PDEV_SMART_ANT_ENABLE_CMDID,\n\tWMI_10_2_PDEV_SMART_ANT_SET_RX_ANTENNA_CMDID,\n\tWMI_10_2_PEER_SMART_ANT_SET_TX_ANTENNA_CMDID,\n\tWMI_10_2_PEER_SMART_ANT_SET_TRAIN_INFO_CMDID,\n\tWMI_10_2_PEER_SMART_ANT_SET_NODE_CONFIG_OPS_CMDID,\n\tWMI_10_2_FORCE_FW_HANG_CMDID,\n\tWMI_10_2_PDEV_SET_ANTENNA_SWITCH_TABLE_CMDID,\n\tWMI_10_2_PDEV_SET_CTL_TABLE_CMDID,\n\tWMI_10_2_PDEV_SET_MIMOGAIN_TABLE_CMDID,\n\tWMI_10_2_PDEV_RATEPWR_TABLE_CMDID,\n\tWMI_10_2_PDEV_RATEPWR_CHAINMSK_TABLE_CMDID,\n\tWMI_10_2_PDEV_GET_INFO,\n\tWMI_10_2_VDEV_GET_INFO,\n\tWMI_10_2_VDEV_ATF_REQUEST_CMDID,\n\tWMI_10_2_PEER_ATF_REQUEST_CMDID,\n\tWMI_10_2_PDEV_GET_TEMPERATURE_CMDID,\n\tWMI_10_2_MU_CAL_START_CMDID,\n\tWMI_10_2_SET_LTEU_CONFIG_CMDID,\n\tWMI_10_2_SET_CCA_PARAMS,\n\tWMI_10_2_PDEV_BSS_CHAN_INFO_REQUEST_CMDID,\n\tWMI_10_2_FWTEST_CMDID,\n\tWMI_10_2_PDEV_SET_BB_TIMING_CONFIG_CMDID,\n\tWMI_10_2_PDEV_UTF_CMDID = WMI_10_2_END_CMDID - 1,\n};\n\nenum wmi_10_2_event_id {\n\tWMI_10_2_SERVICE_READY_EVENTID = 0x8000,\n\tWMI_10_2_READY_EVENTID,\n\tWMI_10_2_DEBUG_MESG_EVENTID,\n\tWMI_10_2_START_EVENTID = 0x9000,\n\tWMI_10_2_END_EVENTID = 0x9FFF,\n\tWMI_10_2_SCAN_EVENTID = WMI_10_2_START_EVENTID,\n\tWMI_10_2_ECHO_EVENTID,\n\tWMI_10_2_UPDATE_STATS_EVENTID,\n\tWMI_10_2_INST_RSSI_STATS_EVENTID,\n\tWMI_10_2_VDEV_START_RESP_EVENTID,\n\tWMI_10_2_VDEV_STANDBY_REQ_EVENTID,\n\tWMI_10_2_VDEV_RESUME_REQ_EVENTID,\n\tWMI_10_2_VDEV_STOPPED_EVENTID,\n\tWMI_10_2_PEER_STA_KICKOUT_EVENTID,\n\tWMI_10_2_HOST_SWBA_EVENTID,\n\tWMI_10_2_TBTTOFFSET_UPDATE_EVENTID,\n\tWMI_10_2_MGMT_RX_EVENTID,\n\tWMI_10_2_CHAN_INFO_EVENTID,\n\tWMI_10_2_PHYERR_EVENTID,\n\tWMI_10_2_ROAM_EVENTID,\n\tWMI_10_2_PROFILE_MATCH,\n\tWMI_10_2_DEBUG_PRINT_EVENTID,\n\tWMI_10_2_PDEV_QVIT_EVENTID,\n\tWMI_10_2_WLAN_PROFILE_DATA_EVENTID,\n\tWMI_10_2_RTT_MEASUREMENT_REPORT_EVENTID,\n\tWMI_10_2_TSF_MEASUREMENT_REPORT_EVENTID,\n\tWMI_10_2_RTT_ERROR_REPORT_EVENTID,\n\tWMI_10_2_RTT_KEEPALIVE_EVENTID,\n\tWMI_10_2_WOW_WAKEUP_HOST_EVENTID,\n\tWMI_10_2_DCS_INTERFERENCE_EVENTID,\n\tWMI_10_2_PDEV_TPC_CONFIG_EVENTID,\n\tWMI_10_2_GPIO_INPUT_EVENTID,\n\tWMI_10_2_PEER_RATECODE_LIST_EVENTID,\n\tWMI_10_2_GENERIC_BUFFER_EVENTID,\n\tWMI_10_2_MCAST_BUF_RELEASE_EVENTID,\n\tWMI_10_2_MCAST_LIST_AGEOUT_EVENTID,\n\tWMI_10_2_WDS_PEER_EVENTID,\n\tWMI_10_2_PEER_STA_PS_STATECHG_EVENTID,\n\tWMI_10_2_PDEV_TEMPERATURE_EVENTID,\n\tWMI_10_2_MU_REPORT_EVENTID,\n\tWMI_10_2_PDEV_BSS_CHAN_INFO_EVENTID,\n\tWMI_10_2_PDEV_UTF_EVENTID = WMI_10_2_END_EVENTID - 1,\n};\n\nenum wmi_10_4_cmd_id {\n\tWMI_10_4_START_CMDID = 0x9000,\n\tWMI_10_4_END_CMDID = 0x9FFF,\n\tWMI_10_4_INIT_CMDID,\n\tWMI_10_4_START_SCAN_CMDID = WMI_10_4_START_CMDID,\n\tWMI_10_4_STOP_SCAN_CMDID,\n\tWMI_10_4_SCAN_CHAN_LIST_CMDID,\n\tWMI_10_4_SCAN_SCH_PRIO_TBL_CMDID,\n\tWMI_10_4_SCAN_UPDATE_REQUEST_CMDID,\n\tWMI_10_4_ECHO_CMDID,\n\tWMI_10_4_PDEV_SET_REGDOMAIN_CMDID,\n\tWMI_10_4_PDEV_SET_CHANNEL_CMDID,\n\tWMI_10_4_PDEV_SET_PARAM_CMDID,\n\tWMI_10_4_PDEV_PKTLOG_ENABLE_CMDID,\n\tWMI_10_4_PDEV_PKTLOG_DISABLE_CMDID,\n\tWMI_10_4_PDEV_SET_WMM_PARAMS_CMDID,\n\tWMI_10_4_PDEV_SET_HT_CAP_IE_CMDID,\n\tWMI_10_4_PDEV_SET_VHT_CAP_IE_CMDID,\n\tWMI_10_4_PDEV_SET_BASE_MACADDR_CMDID,\n\tWMI_10_4_PDEV_SET_DSCP_TID_MAP_CMDID,\n\tWMI_10_4_PDEV_SET_QUIET_MODE_CMDID,\n\tWMI_10_4_PDEV_GREEN_AP_PS_ENABLE_CMDID,\n\tWMI_10_4_PDEV_GET_TPC_CONFIG_CMDID,\n\tWMI_10_4_VDEV_CREATE_CMDID,\n\tWMI_10_4_VDEV_DELETE_CMDID,\n\tWMI_10_4_VDEV_START_REQUEST_CMDID,\n\tWMI_10_4_VDEV_RESTART_REQUEST_CMDID,\n\tWMI_10_4_VDEV_UP_CMDID,\n\tWMI_10_4_VDEV_STOP_CMDID,\n\tWMI_10_4_VDEV_DOWN_CMDID,\n\tWMI_10_4_VDEV_STANDBY_RESPONSE_CMDID,\n\tWMI_10_4_VDEV_RESUME_RESPONSE_CMDID,\n\tWMI_10_4_VDEV_SET_PARAM_CMDID,\n\tWMI_10_4_VDEV_INSTALL_KEY_CMDID,\n\tWMI_10_4_WLAN_PEER_CACHING_ADD_PEER_CMDID,\n\tWMI_10_4_WLAN_PEER_CACHING_EVICT_PEER_CMDID,\n\tWMI_10_4_WLAN_PEER_CACHING_RESTORE_PEER_CMDID,\n\tWMI_10_4_WLAN_PEER_CACHING_PRINT_ALL_PEERS_INFO_CMDID,\n\tWMI_10_4_PEER_CREATE_CMDID,\n\tWMI_10_4_PEER_DELETE_CMDID,\n\tWMI_10_4_PEER_FLUSH_TIDS_CMDID,\n\tWMI_10_4_PEER_SET_PARAM_CMDID,\n\tWMI_10_4_PEER_ASSOC_CMDID,\n\tWMI_10_4_PEER_ADD_WDS_ENTRY_CMDID,\n\tWMI_10_4_PEER_UPDATE_WDS_ENTRY_CMDID,\n\tWMI_10_4_PEER_REMOVE_WDS_ENTRY_CMDID,\n\tWMI_10_4_PEER_ADD_PROXY_STA_ENTRY_CMDID,\n\tWMI_10_4_PEER_MCAST_GROUP_CMDID,\n\tWMI_10_4_BCN_TX_CMDID,\n\tWMI_10_4_PDEV_SEND_BCN_CMDID,\n\tWMI_10_4_BCN_PRB_TMPL_CMDID,\n\tWMI_10_4_BCN_FILTER_RX_CMDID,\n\tWMI_10_4_PRB_REQ_FILTER_RX_CMDID,\n\tWMI_10_4_MGMT_TX_CMDID,\n\tWMI_10_4_PRB_TMPL_CMDID,\n\tWMI_10_4_ADDBA_CLEAR_RESP_CMDID,\n\tWMI_10_4_ADDBA_SEND_CMDID,\n\tWMI_10_4_ADDBA_STATUS_CMDID,\n\tWMI_10_4_DELBA_SEND_CMDID,\n\tWMI_10_4_ADDBA_SET_RESP_CMDID,\n\tWMI_10_4_SEND_SINGLEAMSDU_CMDID,\n\tWMI_10_4_STA_POWERSAVE_MODE_CMDID,\n\tWMI_10_4_STA_POWERSAVE_PARAM_CMDID,\n\tWMI_10_4_STA_MIMO_PS_MODE_CMDID,\n\tWMI_10_4_DBGLOG_CFG_CMDID,\n\tWMI_10_4_PDEV_DFS_ENABLE_CMDID,\n\tWMI_10_4_PDEV_DFS_DISABLE_CMDID,\n\tWMI_10_4_PDEV_QVIT_CMDID,\n\tWMI_10_4_ROAM_SCAN_MODE,\n\tWMI_10_4_ROAM_SCAN_RSSI_THRESHOLD,\n\tWMI_10_4_ROAM_SCAN_PERIOD,\n\tWMI_10_4_ROAM_SCAN_RSSI_CHANGE_THRESHOLD,\n\tWMI_10_4_ROAM_AP_PROFILE,\n\tWMI_10_4_OFL_SCAN_ADD_AP_PROFILE,\n\tWMI_10_4_OFL_SCAN_REMOVE_AP_PROFILE,\n\tWMI_10_4_OFL_SCAN_PERIOD,\n\tWMI_10_4_P2P_DEV_SET_DEVICE_INFO,\n\tWMI_10_4_P2P_DEV_SET_DISCOVERABILITY,\n\tWMI_10_4_P2P_GO_SET_BEACON_IE,\n\tWMI_10_4_P2P_GO_SET_PROBE_RESP_IE,\n\tWMI_10_4_P2P_SET_VENDOR_IE_DATA_CMDID,\n\tWMI_10_4_AP_PS_PEER_PARAM_CMDID,\n\tWMI_10_4_AP_PS_PEER_UAPSD_COEX_CMDID,\n\tWMI_10_4_PEER_RATE_RETRY_SCHED_CMDID,\n\tWMI_10_4_WLAN_PROFILE_TRIGGER_CMDID,\n\tWMI_10_4_WLAN_PROFILE_SET_HIST_INTVL_CMDID,\n\tWMI_10_4_WLAN_PROFILE_GET_PROFILE_DATA_CMDID,\n\tWMI_10_4_WLAN_PROFILE_ENABLE_PROFILE_ID_CMDID,\n\tWMI_10_4_WLAN_PROFILE_LIST_PROFILE_ID_CMDID,\n\tWMI_10_4_PDEV_SUSPEND_CMDID,\n\tWMI_10_4_PDEV_RESUME_CMDID,\n\tWMI_10_4_ADD_BCN_FILTER_CMDID,\n\tWMI_10_4_RMV_BCN_FILTER_CMDID,\n\tWMI_10_4_WOW_ADD_WAKE_PATTERN_CMDID,\n\tWMI_10_4_WOW_DEL_WAKE_PATTERN_CMDID,\n\tWMI_10_4_WOW_ENABLE_DISABLE_WAKE_EVENT_CMDID,\n\tWMI_10_4_WOW_ENABLE_CMDID,\n\tWMI_10_4_WOW_HOSTWAKEUP_FROM_SLEEP_CMDID,\n\tWMI_10_4_RTT_MEASREQ_CMDID,\n\tWMI_10_4_RTT_TSF_CMDID,\n\tWMI_10_4_RTT_KEEPALIVE_CMDID,\n\tWMI_10_4_OEM_REQ_CMDID,\n\tWMI_10_4_NAN_CMDID,\n\tWMI_10_4_VDEV_SPECTRAL_SCAN_CONFIGURE_CMDID,\n\tWMI_10_4_VDEV_SPECTRAL_SCAN_ENABLE_CMDID,\n\tWMI_10_4_REQUEST_STATS_CMDID,\n\tWMI_10_4_GPIO_CONFIG_CMDID,\n\tWMI_10_4_GPIO_OUTPUT_CMDID,\n\tWMI_10_4_VDEV_RATEMASK_CMDID,\n\tWMI_10_4_CSA_OFFLOAD_ENABLE_CMDID,\n\tWMI_10_4_GTK_OFFLOAD_CMDID,\n\tWMI_10_4_QBOOST_CFG_CMDID,\n\tWMI_10_4_CSA_OFFLOAD_CHANSWITCH_CMDID,\n\tWMI_10_4_PDEV_SMART_ANT_ENABLE_CMDID,\n\tWMI_10_4_PDEV_SMART_ANT_SET_RX_ANTENNA_CMDID,\n\tWMI_10_4_PEER_SMART_ANT_SET_TX_ANTENNA_CMDID,\n\tWMI_10_4_PEER_SMART_ANT_SET_TRAIN_INFO_CMDID,\n\tWMI_10_4_PEER_SMART_ANT_SET_NODE_CONFIG_OPS_CMDID,\n\tWMI_10_4_VDEV_SET_KEEPALIVE_CMDID,\n\tWMI_10_4_VDEV_GET_KEEPALIVE_CMDID,\n\tWMI_10_4_FORCE_FW_HANG_CMDID,\n\tWMI_10_4_PDEV_SET_ANTENNA_SWITCH_TABLE_CMDID,\n\tWMI_10_4_PDEV_SET_CTL_TABLE_CMDID,\n\tWMI_10_4_PDEV_SET_MIMOGAIN_TABLE_CMDID,\n\tWMI_10_4_PDEV_RATEPWR_TABLE_CMDID,\n\tWMI_10_4_PDEV_RATEPWR_CHAINMSK_TABLE_CMDID,\n\tWMI_10_4_PDEV_FIPS_CMDID,\n\tWMI_10_4_TT_SET_CONF_CMDID,\n\tWMI_10_4_FWTEST_CMDID,\n\tWMI_10_4_VDEV_ATF_REQUEST_CMDID,\n\tWMI_10_4_PEER_ATF_REQUEST_CMDID,\n\tWMI_10_4_PDEV_GET_ANI_CCK_CONFIG_CMDID,\n\tWMI_10_4_PDEV_GET_ANI_OFDM_CONFIG_CMDID,\n\tWMI_10_4_PDEV_RESERVE_AST_ENTRY_CMDID,\n\tWMI_10_4_PDEV_GET_NFCAL_POWER_CMDID,\n\tWMI_10_4_PDEV_GET_TPC_CMDID,\n\tWMI_10_4_PDEV_GET_AST_INFO_CMDID,\n\tWMI_10_4_VDEV_SET_DSCP_TID_MAP_CMDID,\n\tWMI_10_4_PDEV_GET_TEMPERATURE_CMDID,\n\tWMI_10_4_PDEV_GET_INFO_CMDID,\n\tWMI_10_4_VDEV_GET_INFO_CMDID,\n\tWMI_10_4_VDEV_FILTER_NEIGHBOR_RX_PACKETS_CMDID,\n\tWMI_10_4_MU_CAL_START_CMDID,\n\tWMI_10_4_SET_CCA_PARAMS_CMDID,\n\tWMI_10_4_PDEV_BSS_CHAN_INFO_REQUEST_CMDID,\n\tWMI_10_4_EXT_RESOURCE_CFG_CMDID,\n\tWMI_10_4_VDEV_SET_IE_CMDID,\n\tWMI_10_4_SET_LTEU_CONFIG_CMDID,\n\tWMI_10_4_ATF_SSID_GROUPING_REQUEST_CMDID,\n\tWMI_10_4_PEER_ATF_EXT_REQUEST_CMDID,\n\tWMI_10_4_SET_PERIODIC_CHANNEL_STATS_CONFIG,\n\tWMI_10_4_PEER_BWF_REQUEST_CMDID,\n\tWMI_10_4_BTCOEX_CFG_CMDID,\n\tWMI_10_4_PEER_TX_MU_TXMIT_COUNT_CMDID,\n\tWMI_10_4_PEER_TX_MU_TXMIT_RSTCNT_CMDID,\n\tWMI_10_4_PEER_GID_USERPOS_LIST_CMDID,\n\tWMI_10_4_PDEV_CHECK_CAL_VERSION_CMDID,\n\tWMI_10_4_COEX_VERSION_CFG_CMID,\n\tWMI_10_4_PDEV_GET_RX_FILTER_CMDID,\n\tWMI_10_4_PDEV_EXTENDED_NSS_CFG_CMDID,\n\tWMI_10_4_VDEV_SET_SCAN_NAC_RSSI_CMDID,\n\tWMI_10_4_PROG_GPIO_BAND_SELECT_CMDID,\n\tWMI_10_4_CONFIG_SMART_LOGGING_CMDID,\n\tWMI_10_4_DEBUG_FATAL_CONDITION_CMDID,\n\tWMI_10_4_GET_TSF_TIMER_CMDID,\n\tWMI_10_4_PDEV_GET_TPC_TABLE_CMDID,\n\tWMI_10_4_VDEV_SIFS_TRIGGER_TIME_CMDID,\n\tWMI_10_4_PDEV_WDS_ENTRY_LIST_CMDID,\n\tWMI_10_4_TDLS_SET_STATE_CMDID,\n\tWMI_10_4_TDLS_PEER_UPDATE_CMDID,\n\tWMI_10_4_TDLS_SET_OFFCHAN_MODE_CMDID,\n\tWMI_10_4_PDEV_SEND_FD_CMDID,\n\tWMI_10_4_ENABLE_FILS_CMDID,\n\tWMI_10_4_PDEV_SET_BRIDGE_MACADDR_CMDID,\n\tWMI_10_4_ATF_GROUP_WMM_AC_CONFIG_REQUEST_CMDID,\n\tWMI_10_4_RADAR_FOUND_CMDID,\n\tWMI_10_4_PEER_CFR_CAPTURE_CMDID,\n\tWMI_10_4_PER_PEER_PER_TID_CONFIG_CMDID,\n\tWMI_10_4_PDEV_UTF_CMDID = WMI_10_4_END_CMDID - 1,\n};\n\nenum wmi_10_4_event_id {\n\tWMI_10_4_SERVICE_READY_EVENTID = 0x8000,\n\tWMI_10_4_READY_EVENTID,\n\tWMI_10_4_DEBUG_MESG_EVENTID,\n\tWMI_10_4_START_EVENTID = 0x9000,\n\tWMI_10_4_END_EVENTID = 0x9FFF,\n\tWMI_10_4_SCAN_EVENTID = WMI_10_4_START_EVENTID,\n\tWMI_10_4_ECHO_EVENTID,\n\tWMI_10_4_UPDATE_STATS_EVENTID,\n\tWMI_10_4_INST_RSSI_STATS_EVENTID,\n\tWMI_10_4_VDEV_START_RESP_EVENTID,\n\tWMI_10_4_VDEV_STANDBY_REQ_EVENTID,\n\tWMI_10_4_VDEV_RESUME_REQ_EVENTID,\n\tWMI_10_4_VDEV_STOPPED_EVENTID,\n\tWMI_10_4_PEER_STA_KICKOUT_EVENTID,\n\tWMI_10_4_HOST_SWBA_EVENTID,\n\tWMI_10_4_TBTTOFFSET_UPDATE_EVENTID,\n\tWMI_10_4_MGMT_RX_EVENTID,\n\tWMI_10_4_CHAN_INFO_EVENTID,\n\tWMI_10_4_PHYERR_EVENTID,\n\tWMI_10_4_ROAM_EVENTID,\n\tWMI_10_4_PROFILE_MATCH,\n\tWMI_10_4_DEBUG_PRINT_EVENTID,\n\tWMI_10_4_PDEV_QVIT_EVENTID,\n\tWMI_10_4_WLAN_PROFILE_DATA_EVENTID,\n\tWMI_10_4_RTT_MEASUREMENT_REPORT_EVENTID,\n\tWMI_10_4_TSF_MEASUREMENT_REPORT_EVENTID,\n\tWMI_10_4_RTT_ERROR_REPORT_EVENTID,\n\tWMI_10_4_RTT_KEEPALIVE_EVENTID,\n\tWMI_10_4_OEM_CAPABILITY_EVENTID,\n\tWMI_10_4_OEM_MEASUREMENT_REPORT_EVENTID,\n\tWMI_10_4_OEM_ERROR_REPORT_EVENTID,\n\tWMI_10_4_NAN_EVENTID,\n\tWMI_10_4_WOW_WAKEUP_HOST_EVENTID,\n\tWMI_10_4_GTK_OFFLOAD_STATUS_EVENTID,\n\tWMI_10_4_GTK_REKEY_FAIL_EVENTID,\n\tWMI_10_4_DCS_INTERFERENCE_EVENTID,\n\tWMI_10_4_PDEV_TPC_CONFIG_EVENTID,\n\tWMI_10_4_CSA_HANDLING_EVENTID,\n\tWMI_10_4_GPIO_INPUT_EVENTID,\n\tWMI_10_4_PEER_RATECODE_LIST_EVENTID,\n\tWMI_10_4_GENERIC_BUFFER_EVENTID,\n\tWMI_10_4_MCAST_BUF_RELEASE_EVENTID,\n\tWMI_10_4_MCAST_LIST_AGEOUT_EVENTID,\n\tWMI_10_4_VDEV_GET_KEEPALIVE_EVENTID,\n\tWMI_10_4_WDS_PEER_EVENTID,\n\tWMI_10_4_PEER_STA_PS_STATECHG_EVENTID,\n\tWMI_10_4_PDEV_FIPS_EVENTID,\n\tWMI_10_4_TT_STATS_EVENTID,\n\tWMI_10_4_PDEV_CHANNEL_HOPPING_EVENTID,\n\tWMI_10_4_PDEV_ANI_CCK_LEVEL_EVENTID,\n\tWMI_10_4_PDEV_ANI_OFDM_LEVEL_EVENTID,\n\tWMI_10_4_PDEV_RESERVE_AST_ENTRY_EVENTID,\n\tWMI_10_4_PDEV_NFCAL_POWER_EVENTID,\n\tWMI_10_4_PDEV_TPC_EVENTID,\n\tWMI_10_4_PDEV_GET_AST_INFO_EVENTID,\n\tWMI_10_4_PDEV_TEMPERATURE_EVENTID,\n\tWMI_10_4_PDEV_NFCAL_POWER_ALL_CHANNELS_EVENTID,\n\tWMI_10_4_PDEV_BSS_CHAN_INFO_EVENTID,\n\tWMI_10_4_MU_REPORT_EVENTID,\n\tWMI_10_4_TX_DATA_TRAFFIC_CTRL_EVENTID,\n\tWMI_10_4_PEER_TX_MU_TXMIT_COUNT_EVENTID,\n\tWMI_10_4_PEER_GID_USERPOS_LIST_EVENTID,\n\tWMI_10_4_PDEV_CHECK_CAL_VERSION_EVENTID,\n\tWMI_10_4_ATF_PEER_STATS_EVENTID,\n\tWMI_10_4_PDEV_GET_RX_FILTER_EVENTID,\n\tWMI_10_4_NAC_RSSI_EVENTID,\n\tWMI_10_4_DEBUG_FATAL_CONDITION_EVENTID,\n\tWMI_10_4_GET_TSF_TIMER_RESP_EVENTID,\n\tWMI_10_4_PDEV_TPC_TABLE_EVENTID,\n\tWMI_10_4_PDEV_WDS_ENTRY_LIST_EVENTID,\n\tWMI_10_4_TDLS_PEER_EVENTID,\n\tWMI_10_4_HOST_SWFDA_EVENTID,\n\tWMI_10_4_ESP_ESTIMATE_EVENTID,\n\tWMI_10_4_DFS_STATUS_CHECK_EVENTID,\n\tWMI_10_4_PDEV_UTF_EVENTID = WMI_10_4_END_EVENTID - 1,\n};\n\nenum wmi_phy_mode {\n\tMODE_11A        = 0,   /* 11a Mode */\n\tMODE_11G        = 1,   /* 11b/g Mode */\n\tMODE_11B        = 2,   /* 11b Mode */\n\tMODE_11GONLY    = 3,   /* 11g only Mode */\n\tMODE_11NA_HT20   = 4,  /* 11a HT20 mode */\n\tMODE_11NG_HT20   = 5,  /* 11g HT20 mode */\n\tMODE_11NA_HT40   = 6,  /* 11a HT40 mode */\n\tMODE_11NG_HT40   = 7,  /* 11g HT40 mode */\n\tMODE_11AC_VHT20 = 8,\n\tMODE_11AC_VHT40 = 9,\n\tMODE_11AC_VHT80 = 10,\n\t/*    MODE_11AC_VHT160 = 11, */\n\tMODE_11AC_VHT20_2G = 11,\n\tMODE_11AC_VHT40_2G = 12,\n\tMODE_11AC_VHT80_2G = 13,\n\tMODE_11AC_VHT80_80 = 14,\n\tMODE_11AC_VHT160 = 15,\n\tMODE_UNKNOWN    = 16,\n\tMODE_MAX        = 16\n};\n\nstatic inline const char *ath10k_wmi_phymode_str(enum wmi_phy_mode mode)\n{\n\tswitch (mode) {\n\tcase MODE_11A:\n\t\treturn \"11a\";\n\tcase MODE_11G:\n\t\treturn \"11g\";\n\tcase MODE_11B:\n\t\treturn \"11b\";\n\tcase MODE_11GONLY:\n\t\treturn \"11gonly\";\n\tcase MODE_11NA_HT20:\n\t\treturn \"11na-ht20\";\n\tcase MODE_11NG_HT20:\n\t\treturn \"11ng-ht20\";\n\tcase MODE_11NA_HT40:\n\t\treturn \"11na-ht40\";\n\tcase MODE_11NG_HT40:\n\t\treturn \"11ng-ht40\";\n\tcase MODE_11AC_VHT20:\n\t\treturn \"11ac-vht20\";\n\tcase MODE_11AC_VHT40:\n\t\treturn \"11ac-vht40\";\n\tcase MODE_11AC_VHT80:\n\t\treturn \"11ac-vht80\";\n\tcase MODE_11AC_VHT160:\n\t\treturn \"11ac-vht160\";\n\tcase MODE_11AC_VHT80_80:\n\t\treturn \"11ac-vht80+80\";\n\tcase MODE_11AC_VHT20_2G:\n\t\treturn \"11ac-vht20-2g\";\n\tcase MODE_11AC_VHT40_2G:\n\t\treturn \"11ac-vht40-2g\";\n\tcase MODE_11AC_VHT80_2G:\n\t\treturn \"11ac-vht80-2g\";\n\tcase MODE_UNKNOWN:\n\t\t/* skip */\n\t\tbreak;\n\n\t\t/* no default handler to allow compiler to check that the\n\t\t * enum is fully handled\n\t\t */\n\t}\n\n\treturn \"<unknown>\";\n}\n\n#define WMI_CHAN_LIST_TAG\t0x1\n#define WMI_SSID_LIST_TAG\t0x2\n#define WMI_BSSID_LIST_TAG\t0x3\n#define WMI_IE_TAG\t\t0x4\n\nstruct wmi_channel {\n\t__le32 mhz;\n\t__le32 band_center_freq1;\n\t__le32 band_center_freq2; /* valid for 11ac, 80plus80 */\n\tunion {\n\t\t__le32 flags; /* WMI_CHAN_FLAG_ */\n\t\tstruct {\n\t\t\tu8 mode; /* only 6 LSBs */\n\t\t} __packed;\n\t} __packed;\n\tunion {\n\t\t__le32 reginfo0;\n\t\tstruct {\n\t\t\t/* note: power unit is 0.5 dBm */\n\t\t\tu8 min_power;\n\t\t\tu8 max_power;\n\t\t\tu8 reg_power;\n\t\t\tu8 reg_classid;\n\t\t} __packed;\n\t} __packed;\n\tunion {\n\t\t__le32 reginfo1;\n\t\tstruct {\n\t\t\tu8 antenna_max;\n\t\t\tu8 max_tx_power;\n\t\t} __packed;\n\t} __packed;\n} __packed;\n\nstruct wmi_channel_arg {\n\tu32 freq;\n\tu32 band_center_freq1;\n\tu32 band_center_freq2;\n\tbool passive;\n\tbool allow_ibss;\n\tbool allow_ht;\n\tbool allow_vht;\n\tbool ht40plus;\n\tbool chan_radar;\n\t/* note: power unit is 0.5 dBm */\n\tu32 min_power;\n\tu32 max_power;\n\tu32 max_reg_power;\n\tu32 max_antenna_gain;\n\tu32 reg_class_id;\n\tenum wmi_phy_mode mode;\n};\n\nenum wmi_channel_change_cause {\n\tWMI_CHANNEL_CHANGE_CAUSE_NONE = 0,\n\tWMI_CHANNEL_CHANGE_CAUSE_CSA,\n};\n\n#define WMI_CHAN_FLAG_HT40_PLUS      (1 << 6)\n#define WMI_CHAN_FLAG_PASSIVE        (1 << 7)\n#define WMI_CHAN_FLAG_ADHOC_ALLOWED  (1 << 8)\n#define WMI_CHAN_FLAG_AP_DISABLED    (1 << 9)\n#define WMI_CHAN_FLAG_DFS            (1 << 10)\n#define WMI_CHAN_FLAG_ALLOW_HT       (1 << 11)\n#define WMI_CHAN_FLAG_ALLOW_VHT      (1 << 12)\n\n/* Indicate reason for channel switch */\n#define WMI_CHANNEL_CHANGE_CAUSE_CSA (1 << 13)\n/* DFS required on channel for 2nd segment of VHT160 and VHT80+80*/\n#define WMI_CHAN_FLAG_DFS_CFREQ2  (1 << 15)\n#define WMI_MAX_SPATIAL_STREAM        3 /* default max ss */\n\n/* HT Capabilities*/\n#define WMI_HT_CAP_ENABLED                0x0001   /* HT Enabled/ disabled */\n#define WMI_HT_CAP_HT20_SGI       0x0002   /* Short Guard Interval with HT20 */\n#define WMI_HT_CAP_DYNAMIC_SMPS           0x0004   /* Dynamic MIMO powersave */\n#define WMI_HT_CAP_TX_STBC                0x0008   /* B3 TX STBC */\n#define WMI_HT_CAP_TX_STBC_MASK_SHIFT     3\n#define WMI_HT_CAP_RX_STBC                0x0030   /* B4-B5 RX STBC */\n#define WMI_HT_CAP_RX_STBC_MASK_SHIFT     4\n#define WMI_HT_CAP_LDPC                   0x0040   /* LDPC supported */\n#define WMI_HT_CAP_L_SIG_TXOP_PROT        0x0080   /* L-SIG TXOP Protection */\n#define WMI_HT_CAP_MPDU_DENSITY           0x0700   /* MPDU Density */\n#define WMI_HT_CAP_MPDU_DENSITY_MASK_SHIFT 8\n#define WMI_HT_CAP_HT40_SGI               0x0800\n#define WMI_HT_CAP_RX_LDPC                0x1000   /* LDPC RX support */\n#define WMI_HT_CAP_TX_LDPC                0x2000   /* LDPC TX support */\n\n#define WMI_HT_CAP_DEFAULT_ALL (WMI_HT_CAP_ENABLED       | \\\n\t\t\t\tWMI_HT_CAP_HT20_SGI      | \\\n\t\t\t\tWMI_HT_CAP_HT40_SGI      | \\\n\t\t\t\tWMI_HT_CAP_TX_STBC       | \\\n\t\t\t\tWMI_HT_CAP_RX_STBC       | \\\n\t\t\t\tWMI_HT_CAP_LDPC)\n\n/*\n * WMI_VHT_CAP_* these maps to ieee 802.11ac vht capability information\n * field. The fields not defined here are not supported, or reserved.\n * Do not change these masks and if you have to add new one follow the\n * bitmask as specified by 802.11ac draft.\n */\n\n#define WMI_VHT_CAP_MAX_MPDU_LEN_MASK            0x00000003\n#define WMI_VHT_CAP_RX_LDPC                      0x00000010\n#define WMI_VHT_CAP_SGI_80MHZ                    0x00000020\n#define WMI_VHT_CAP_SGI_160MHZ                   0x00000040\n#define WMI_VHT_CAP_TX_STBC                      0x00000080\n#define WMI_VHT_CAP_RX_STBC_MASK                 0x00000300\n#define WMI_VHT_CAP_RX_STBC_MASK_SHIFT           8\n#define WMI_VHT_CAP_SU_BFER                      0x00000800\n#define WMI_VHT_CAP_SU_BFEE                      0x00001000\n#define WMI_VHT_CAP_MAX_CS_ANT_MASK              0x0000E000\n#define WMI_VHT_CAP_MAX_CS_ANT_MASK_SHIFT        13\n#define WMI_VHT_CAP_MAX_SND_DIM_MASK             0x00070000\n#define WMI_VHT_CAP_MAX_SND_DIM_MASK_SHIFT       16\n#define WMI_VHT_CAP_MU_BFER                      0x00080000\n#define WMI_VHT_CAP_MU_BFEE                      0x00100000\n#define WMI_VHT_CAP_MAX_AMPDU_LEN_EXP            0x03800000\n#define WMI_VHT_CAP_MAX_AMPDU_LEN_EXP_SHIFT      23\n#define WMI_VHT_CAP_RX_FIXED_ANT                 0x10000000\n#define WMI_VHT_CAP_TX_FIXED_ANT                 0x20000000\n\n/* The following also refer for max HT AMSDU */\n#define WMI_VHT_CAP_MAX_MPDU_LEN_3839            0x00000000\n#define WMI_VHT_CAP_MAX_MPDU_LEN_7935            0x00000001\n#define WMI_VHT_CAP_MAX_MPDU_LEN_11454           0x00000002\n\n#define WMI_VHT_CAP_DEFAULT_ALL (WMI_VHT_CAP_MAX_MPDU_LEN_11454  | \\\n\t\t\t\t WMI_VHT_CAP_RX_LDPC             | \\\n\t\t\t\t WMI_VHT_CAP_SGI_80MHZ           | \\\n\t\t\t\t WMI_VHT_CAP_TX_STBC             | \\\n\t\t\t\t WMI_VHT_CAP_RX_STBC_MASK        | \\\n\t\t\t\t WMI_VHT_CAP_MAX_AMPDU_LEN_EXP   | \\\n\t\t\t\t WMI_VHT_CAP_RX_FIXED_ANT        | \\\n\t\t\t\t WMI_VHT_CAP_TX_FIXED_ANT)\n\n/*\n * Interested readers refer to Rx/Tx MCS Map definition as defined in\n * 802.11ac\n */\n#define WMI_VHT_MAX_MCS_4_SS_MASK(r, ss)      ((3 & (r)) << (((ss) - 1) << 1))\n#define WMI_VHT_MAX_SUPP_RATE_MASK           0x1fff0000\n#define WMI_VHT_MAX_SUPP_RATE_MASK_SHIFT     16\n\nenum {\n\tREGDMN_MODE_11A              = 0x00001, /* 11a channels */\n\tREGDMN_MODE_TURBO            = 0x00002, /* 11a turbo-only channels */\n\tREGDMN_MODE_11B              = 0x00004, /* 11b channels */\n\tREGDMN_MODE_PUREG            = 0x00008, /* 11g channels (OFDM only) */\n\tREGDMN_MODE_11G              = 0x00008, /* XXX historical */\n\tREGDMN_MODE_108G             = 0x00020, /* 11a+Turbo channels */\n\tREGDMN_MODE_108A             = 0x00040, /* 11g+Turbo channels */\n\tREGDMN_MODE_XR               = 0x00100, /* XR channels */\n\tREGDMN_MODE_11A_HALF_RATE    = 0x00200, /* 11A half rate channels */\n\tREGDMN_MODE_11A_QUARTER_RATE = 0x00400, /* 11A quarter rate channels */\n\tREGDMN_MODE_11NG_HT20        = 0x00800, /* 11N-G HT20 channels */\n\tREGDMN_MODE_11NA_HT20        = 0x01000, /* 11N-A HT20 channels */\n\tREGDMN_MODE_11NG_HT40PLUS    = 0x02000, /* 11N-G HT40 + channels */\n\tREGDMN_MODE_11NG_HT40MINUS   = 0x04000, /* 11N-G HT40 - channels */\n\tREGDMN_MODE_11NA_HT40PLUS    = 0x08000, /* 11N-A HT40 + channels */\n\tREGDMN_MODE_11NA_HT40MINUS   = 0x10000, /* 11N-A HT40 - channels */\n\tREGDMN_MODE_11AC_VHT20       = 0x20000, /* 5Ghz, VHT20 */\n\tREGDMN_MODE_11AC_VHT40PLUS   = 0x40000, /* 5Ghz, VHT40 + channels */\n\tREGDMN_MODE_11AC_VHT40MINUS  = 0x80000, /* 5Ghz  VHT40 - channels */\n\tREGDMN_MODE_11AC_VHT80       = 0x100000, /* 5Ghz, VHT80 channels */\n\tREGDMN_MODE_11AC_VHT160      = 0x200000,     /* 5Ghz, VHT160 channels */\n\tREGDMN_MODE_11AC_VHT80_80    = 0x400000,     /* 5Ghz, VHT80+80 channels */\n\tREGDMN_MODE_ALL              = 0xffffffff\n};\n\n#define REGDMN_CAP1_CHAN_HALF_RATE        0x00000001\n#define REGDMN_CAP1_CHAN_QUARTER_RATE     0x00000002\n#define REGDMN_CAP1_CHAN_HAL49GHZ         0x00000004\n\n/* regulatory capabilities */\n#define REGDMN_EEPROM_EEREGCAP_EN_FCC_MIDBAND   0x0040\n#define REGDMN_EEPROM_EEREGCAP_EN_KK_U1_EVEN    0x0080\n#define REGDMN_EEPROM_EEREGCAP_EN_KK_U2         0x0100\n#define REGDMN_EEPROM_EEREGCAP_EN_KK_MIDBAND    0x0200\n#define REGDMN_EEPROM_EEREGCAP_EN_KK_U1_ODD     0x0400\n#define REGDMN_EEPROM_EEREGCAP_EN_KK_NEW_11A    0x0800\n\nstruct hal_reg_capabilities {\n\t/* regdomain value specified in EEPROM */\n\t__le32 eeprom_rd;\n\t/*regdomain */\n\t__le32 eeprom_rd_ext;\n\t/* CAP1 capabilities bit map. */\n\t__le32 regcap1;\n\t/* REGDMN EEPROM CAP. */\n\t__le32 regcap2;\n\t/* REGDMN MODE */\n\t__le32 wireless_modes;\n\t__le32 low_2ghz_chan;\n\t__le32 high_2ghz_chan;\n\t__le32 low_5ghz_chan;\n\t__le32 high_5ghz_chan;\n} __packed;\n\nenum wlan_mode_capability {\n\tWHAL_WLAN_11A_CAPABILITY   = 0x1,\n\tWHAL_WLAN_11G_CAPABILITY   = 0x2,\n\tWHAL_WLAN_11AG_CAPABILITY  = 0x3,\n};\n\n/* structure used by FW for requesting host memory */\nstruct wlan_host_mem_req {\n\t/* ID of the request */\n\t__le32 req_id;\n\t/* size of the  of each unit */\n\t__le32 unit_size;\n\t/* flags to  indicate that\n\t * the number units is dependent\n\t * on number of resources(num vdevs num peers .. etc)\n\t */\n\t__le32 num_unit_info;\n\t/*\n\t * actual number of units to allocate . if flags in the num_unit_info\n\t * indicate that number of units is tied to number of a particular\n\t * resource to allocate then  num_units filed is set to 0 and host\n\t * will derive the number units from number of the resources it is\n\t * requesting.\n\t */\n\t__le32 num_units;\n} __packed;\n\n/*\n * The following struct holds optional payload for\n * wmi_service_ready_event,e.g., 11ac pass some of the\n * device capability to the host.\n */\nstruct wmi_service_ready_event {\n\t__le32 sw_version;\n\t__le32 sw_version_1;\n\t__le32 abi_version;\n\t/* WMI_PHY_CAPABILITY */\n\t__le32 phy_capability;\n\t/* Maximum number of frag table entries that SW will populate less 1 */\n\t__le32 max_frag_entry;\n\t__le32 wmi_service_bitmap[16];\n\t__le32 num_rf_chains;\n\t/*\n\t * The following field is only valid for service type\n\t * WMI_SERVICE_11AC\n\t */\n\t__le32 ht_cap_info; /* WMI HT Capability */\n\t__le32 vht_cap_info; /* VHT capability info field of 802.11ac */\n\t__le32 vht_supp_mcs; /* VHT Supported MCS Set field Rx/Tx same */\n\t__le32 hw_min_tx_power;\n\t__le32 hw_max_tx_power;\n\tstruct hal_reg_capabilities hal_reg_capabilities;\n\t__le32 sys_cap_info;\n\t__le32 min_pkt_size_enable; /* Enterprise mode short pkt enable */\n\t/*\n\t * Max beacon and Probe Response IE offload size\n\t * (includes optional P2P IEs)\n\t */\n\t__le32 max_bcn_ie_size;\n\t/*\n\t * request to host to allocate a chuck of memory and pss it down to FW\n\t * via WM_INIT. FW uses this as FW extesnsion memory for saving its\n\t * data structures. Only valid for low latency interfaces like PCIE\n\t * where FW can access this memory directly (or) by DMA.\n\t */\n\t__le32 num_mem_reqs;\n\tstruct wlan_host_mem_req mem_reqs[];\n} __packed;\n\n/* This is the definition from 10.X firmware branch */\nstruct wmi_10x_service_ready_event {\n\t__le32 sw_version;\n\t__le32 abi_version;\n\n\t/* WMI_PHY_CAPABILITY */\n\t__le32 phy_capability;\n\n\t/* Maximum number of frag table entries that SW will populate less 1 */\n\t__le32 max_frag_entry;\n\t__le32 wmi_service_bitmap[16];\n\t__le32 num_rf_chains;\n\n\t/*\n\t * The following field is only valid for service type\n\t * WMI_SERVICE_11AC\n\t */\n\t__le32 ht_cap_info; /* WMI HT Capability */\n\t__le32 vht_cap_info; /* VHT capability info field of 802.11ac */\n\t__le32 vht_supp_mcs; /* VHT Supported MCS Set field Rx/Tx same */\n\t__le32 hw_min_tx_power;\n\t__le32 hw_max_tx_power;\n\n\tstruct hal_reg_capabilities hal_reg_capabilities;\n\n\t__le32 sys_cap_info;\n\t__le32 min_pkt_size_enable; /* Enterprise mode short pkt enable */\n\n\t/*\n\t * request to host to allocate a chuck of memory and pss it down to FW\n\t * via WM_INIT. FW uses this as FW extesnsion memory for saving its\n\t * data structures. Only valid for low latency interfaces like PCIE\n\t * where FW can access this memory directly (or) by DMA.\n\t */\n\t__le32 num_mem_reqs;\n\n\tstruct wlan_host_mem_req mem_reqs[];\n} __packed;\n\n#define WMI_SERVICE_READY_TIMEOUT_HZ (5 * HZ)\n#define WMI_UNIFIED_READY_TIMEOUT_HZ (5 * HZ)\n\nstruct wmi_ready_event {\n\t__le32 sw_version;\n\t__le32 abi_version;\n\tstruct wmi_mac_addr mac_addr;\n\t__le32 status;\n} __packed;\n\nstruct wmi_resource_config {\n\t/* number of virtual devices (VAPs) to support */\n\t__le32 num_vdevs;\n\n\t/* number of peer nodes to support */\n\t__le32 num_peers;\n\n\t/*\n\t * In offload mode target supports features like WOW, chatter and\n\t * other protocol offloads. In order to support them some\n\t * functionalities like reorder buffering, PN checking need to be\n\t * done in target. This determines maximum number of peers supported\n\t * by target in offload mode\n\t */\n\t__le32 num_offload_peers;\n\n\t/* For target-based RX reordering */\n\t__le32 num_offload_reorder_bufs;\n\n\t/* number of keys per peer */\n\t__le32 num_peer_keys;\n\n\t/* total number of TX/RX data TIDs */\n\t__le32 num_tids;\n\n\t/*\n\t * max skid for resolving hash collisions\n\t *\n\t *   The address search table is sparse, so that if two MAC addresses\n\t *   result in the same hash value, the second of these conflicting\n\t *   entries can slide to the next index in the address search table,\n\t *   and use it, if it is unoccupied.  This ast_skid_limit parameter\n\t *   specifies the upper bound on how many subsequent indices to search\n\t *   over to find an unoccupied space.\n\t */\n\t__le32 ast_skid_limit;\n\n\t/*\n\t * the nominal chain mask for transmit\n\t *\n\t *   The chain mask may be modified dynamically, e.g. to operate AP\n\t *   tx with a reduced number of chains if no clients are associated.\n\t *   This configuration parameter specifies the nominal chain-mask that\n\t *   should be used when not operating with a reduced set of tx chains.\n\t */\n\t__le32 tx_chain_mask;\n\n\t/*\n\t * the nominal chain mask for receive\n\t *\n\t *   The chain mask may be modified dynamically, e.g. for a client\n\t *   to use a reduced number of chains for receive if the traffic to\n\t *   the client is low enough that it doesn't require downlink MIMO\n\t *   or antenna diversity.\n\t *   This configuration parameter specifies the nominal chain-mask that\n\t *   should be used when not operating with a reduced set of rx chains.\n\t */\n\t__le32 rx_chain_mask;\n\n\t/*\n\t * what rx reorder timeout (ms) to use for the AC\n\t *\n\t *   Each WMM access class (voice, video, best-effort, background) will\n\t *   have its own timeout value to dictate how long to wait for missing\n\t *   rx MPDUs to arrive before flushing subsequent MPDUs that have\n\t *   already been received.\n\t *   This parameter specifies the timeout in milliseconds for each\n\t *   class.\n\t */\n\t__le32 rx_timeout_pri_vi;\n\t__le32 rx_timeout_pri_vo;\n\t__le32 rx_timeout_pri_be;\n\t__le32 rx_timeout_pri_bk;\n\n\t/*\n\t * what mode the rx should decap packets to\n\t *\n\t *   MAC can decap to RAW (no decap), native wifi or Ethernet types\n\t *   THis setting also determines the default TX behavior, however TX\n\t *   behavior can be modified on a per VAP basis during VAP init\n\t */\n\t__le32 rx_decap_mode;\n\n\t/* what is the maximum number of scan requests that can be queued */\n\t__le32 scan_max_pending_reqs;\n\n\t/* maximum VDEV that could use BMISS offload */\n\t__le32 bmiss_offload_max_vdev;\n\n\t/* maximum VDEV that could use offload roaming */\n\t__le32 roam_offload_max_vdev;\n\n\t/* maximum AP profiles that would push to offload roaming */\n\t__le32 roam_offload_max_ap_profiles;\n\n\t/*\n\t * how many groups to use for mcast->ucast conversion\n\t *\n\t *   The target's WAL maintains a table to hold information regarding\n\t *   which peers belong to a given multicast group, so that if\n\t *   multicast->unicast conversion is enabled, the target can convert\n\t *   multicast tx frames to a series of unicast tx frames, to each\n\t *   peer within the multicast group.\n\t     This num_mcast_groups configuration parameter tells the target how\n\t *   many multicast groups to provide storage for within its multicast\n\t *   group membership table.\n\t */\n\t__le32 num_mcast_groups;\n\n\t/*\n\t * size to alloc for the mcast membership table\n\t *\n\t *   This num_mcast_table_elems configuration parameter tells the\n\t *   target how many peer elements it needs to provide storage for in\n\t *   its multicast group membership table.\n\t *   These multicast group membership table elements are shared by the\n\t *   multicast groups stored within the table.\n\t */\n\t__le32 num_mcast_table_elems;\n\n\t/*\n\t * whether/how to do multicast->unicast conversion\n\t *\n\t *   This configuration parameter specifies whether the target should\n\t *   perform multicast --> unicast conversion on transmit, and if so,\n\t *   what to do if it finds no entries in its multicast group\n\t *   membership table for the multicast IP address in the tx frame.\n\t *   Configuration value:\n\t *   0 -> Do not perform multicast to unicast conversion.\n\t *   1 -> Convert multicast frames to unicast, if the IP multicast\n\t *        address from the tx frame is found in the multicast group\n\t *        membership table.  If the IP multicast address is not found,\n\t *        drop the frame.\n\t *   2 -> Convert multicast frames to unicast, if the IP multicast\n\t *        address from the tx frame is found in the multicast group\n\t *        membership table.  If the IP multicast address is not found,\n\t *        transmit the frame as multicast.\n\t */\n\t__le32 mcast2ucast_mode;\n\n\t/*\n\t * how much memory to allocate for a tx PPDU dbg log\n\t *\n\t *   This parameter controls how much memory the target will allocate\n\t *   to store a log of tx PPDU meta-information (how large the PPDU\n\t *   was, when it was sent, whether it was successful, etc.)\n\t */\n\t__le32 tx_dbg_log_size;\n\n\t/* how many AST entries to be allocated for WDS */\n\t__le32 num_wds_entries;\n\n\t/*\n\t * MAC DMA burst size, e.g., For target PCI limit can be\n\t * 0 -default, 1 256B\n\t */\n\t__le32 dma_burst_size;\n\n\t/*\n\t * Fixed delimiters to be inserted after every MPDU to\n\t * account for interface latency to avoid underrun.\n\t */\n\t__le32 mac_aggr_delim;\n\n\t/*\n\t *   determine whether target is responsible for detecting duplicate\n\t *   non-aggregate MPDU and timing out stale fragments.\n\t *\n\t *   A-MPDU reordering is always performed on the target.\n\t *\n\t *   0: target responsible for frag timeout and dup checking\n\t *   1: host responsible for frag timeout and dup checking\n\t */\n\t__le32 rx_skip_defrag_timeout_dup_detection_check;\n\n\t/*\n\t * Configuration for VoW :\n\t * No of Video Nodes to be supported\n\t * and Max no of descriptors for each Video link (node).\n\t */\n\t__le32 vow_config;\n\n\t/* maximum VDEV that could use GTK offload */\n\t__le32 gtk_offload_max_vdev;\n\n\t/* Number of msdu descriptors target should use */\n\t__le32 num_msdu_desc;\n\n\t/*\n\t * Max. number of Tx fragments per MSDU\n\t *  This parameter controls the max number of Tx fragments per MSDU.\n\t *  This is sent by the target as part of the WMI_SERVICE_READY event\n\t *  and is overridden by the OS shim as required.\n\t */\n\t__le32 max_frag_entries;\n} __packed;\n\nstruct wmi_resource_config_10x {\n\t/* number of virtual devices (VAPs) to support */\n\t__le32 num_vdevs;\n\n\t/* number of peer nodes to support */\n\t__le32 num_peers;\n\n\t/* number of keys per peer */\n\t__le32 num_peer_keys;\n\n\t/* total number of TX/RX data TIDs */\n\t__le32 num_tids;\n\n\t/*\n\t * max skid for resolving hash collisions\n\t *\n\t *   The address search table is sparse, so that if two MAC addresses\n\t *   result in the same hash value, the second of these conflicting\n\t *   entries can slide to the next index in the address search table,\n\t *   and use it, if it is unoccupied.  This ast_skid_limit parameter\n\t *   specifies the upper bound on how many subsequent indices to search\n\t *   over to find an unoccupied space.\n\t */\n\t__le32 ast_skid_limit;\n\n\t/*\n\t * the nominal chain mask for transmit\n\t *\n\t *   The chain mask may be modified dynamically, e.g. to operate AP\n\t *   tx with a reduced number of chains if no clients are associated.\n\t *   This configuration parameter specifies the nominal chain-mask that\n\t *   should be used when not operating with a reduced set of tx chains.\n\t */\n\t__le32 tx_chain_mask;\n\n\t/*\n\t * the nominal chain mask for receive\n\t *\n\t *   The chain mask may be modified dynamically, e.g. for a client\n\t *   to use a reduced number of chains for receive if the traffic to\n\t *   the client is low enough that it doesn't require downlink MIMO\n\t *   or antenna diversity.\n\t *   This configuration parameter specifies the nominal chain-mask that\n\t *   should be used when not operating with a reduced set of rx chains.\n\t */\n\t__le32 rx_chain_mask;\n\n\t/*\n\t * what rx reorder timeout (ms) to use for the AC\n\t *\n\t *   Each WMM access class (voice, video, best-effort, background) will\n\t *   have its own timeout value to dictate how long to wait for missing\n\t *   rx MPDUs to arrive before flushing subsequent MPDUs that have\n\t *   already been received.\n\t *   This parameter specifies the timeout in milliseconds for each\n\t *   class.\n\t */\n\t__le32 rx_timeout_pri_vi;\n\t__le32 rx_timeout_pri_vo;\n\t__le32 rx_timeout_pri_be;\n\t__le32 rx_timeout_pri_bk;\n\n\t/*\n\t * what mode the rx should decap packets to\n\t *\n\t *   MAC can decap to RAW (no decap), native wifi or Ethernet types\n\t *   THis setting also determines the default TX behavior, however TX\n\t *   behavior can be modified on a per VAP basis during VAP init\n\t */\n\t__le32 rx_decap_mode;\n\n\t/* what is the maximum number of scan requests that can be queued */\n\t__le32 scan_max_pending_reqs;\n\n\t/* maximum VDEV that could use BMISS offload */\n\t__le32 bmiss_offload_max_vdev;\n\n\t/* maximum VDEV that could use offload roaming */\n\t__le32 roam_offload_max_vdev;\n\n\t/* maximum AP profiles that would push to offload roaming */\n\t__le32 roam_offload_max_ap_profiles;\n\n\t/*\n\t * how many groups to use for mcast->ucast conversion\n\t *\n\t *   The target's WAL maintains a table to hold information regarding\n\t *   which peers belong to a given multicast group, so that if\n\t *   multicast->unicast conversion is enabled, the target can convert\n\t *   multicast tx frames to a series of unicast tx frames, to each\n\t *   peer within the multicast group.\n\t     This num_mcast_groups configuration parameter tells the target how\n\t *   many multicast groups to provide storage for within its multicast\n\t *   group membership table.\n\t */\n\t__le32 num_mcast_groups;\n\n\t/*\n\t * size to alloc for the mcast membership table\n\t *\n\t *   This num_mcast_table_elems configuration parameter tells the\n\t *   target how many peer elements it needs to provide storage for in\n\t *   its multicast group membership table.\n\t *   These multicast group membership table elements are shared by the\n\t *   multicast groups stored within the table.\n\t */\n\t__le32 num_mcast_table_elems;\n\n\t/*\n\t * whether/how to do multicast->unicast conversion\n\t *\n\t *   This configuration parameter specifies whether the target should\n\t *   perform multicast --> unicast conversion on transmit, and if so,\n\t *   what to do if it finds no entries in its multicast group\n\t *   membership table for the multicast IP address in the tx frame.\n\t *   Configuration value:\n\t *   0 -> Do not perform multicast to unicast conversion.\n\t *   1 -> Convert multicast frames to unicast, if the IP multicast\n\t *        address from the tx frame is found in the multicast group\n\t *        membership table.  If the IP multicast address is not found,\n\t *        drop the frame.\n\t *   2 -> Convert multicast frames to unicast, if the IP multicast\n\t *        address from the tx frame is found in the multicast group\n\t *        membership table.  If the IP multicast address is not found,\n\t *        transmit the frame as multicast.\n\t */\n\t__le32 mcast2ucast_mode;\n\n\t/*\n\t * how much memory to allocate for a tx PPDU dbg log\n\t *\n\t *   This parameter controls how much memory the target will allocate\n\t *   to store a log of tx PPDU meta-information (how large the PPDU\n\t *   was, when it was sent, whether it was successful, etc.)\n\t */\n\t__le32 tx_dbg_log_size;\n\n\t/* how many AST entries to be allocated for WDS */\n\t__le32 num_wds_entries;\n\n\t/*\n\t * MAC DMA burst size, e.g., For target PCI limit can be\n\t * 0 -default, 1 256B\n\t */\n\t__le32 dma_burst_size;\n\n\t/*\n\t * Fixed delimiters to be inserted after every MPDU to\n\t * account for interface latency to avoid underrun.\n\t */\n\t__le32 mac_aggr_delim;\n\n\t/*\n\t *   determine whether target is responsible for detecting duplicate\n\t *   non-aggregate MPDU and timing out stale fragments.\n\t *\n\t *   A-MPDU reordering is always performed on the target.\n\t *\n\t *   0: target responsible for frag timeout and dup checking\n\t *   1: host responsible for frag timeout and dup checking\n\t */\n\t__le32 rx_skip_defrag_timeout_dup_detection_check;\n\n\t/*\n\t * Configuration for VoW :\n\t * No of Video Nodes to be supported\n\t * and Max no of descriptors for each Video link (node).\n\t */\n\t__le32 vow_config;\n\n\t/* Number of msdu descriptors target should use */\n\t__le32 num_msdu_desc;\n\n\t/*\n\t * Max. number of Tx fragments per MSDU\n\t *  This parameter controls the max number of Tx fragments per MSDU.\n\t *  This is sent by the target as part of the WMI_SERVICE_READY event\n\t *  and is overridden by the OS shim as required.\n\t */\n\t__le32 max_frag_entries;\n} __packed;\n\nenum wmi_10_2_feature_mask {\n\tWMI_10_2_RX_BATCH_MODE = BIT(0),\n\tWMI_10_2_ATF_CONFIG    = BIT(1),\n\tWMI_10_2_COEX_GPIO     = BIT(3),\n\tWMI_10_2_BSS_CHAN_INFO = BIT(6),\n\tWMI_10_2_PEER_STATS    = BIT(7),\n};\n\nstruct wmi_resource_config_10_2 {\n\tstruct wmi_resource_config_10x common;\n\t__le32 max_peer_ext_stats;\n\t__le32 smart_ant_cap; /* 0-disable, 1-enable */\n\t__le32 bk_min_free;\n\t__le32 be_min_free;\n\t__le32 vi_min_free;\n\t__le32 vo_min_free;\n\t__le32 feature_mask;\n} __packed;\n\n#define NUM_UNITS_IS_NUM_VDEVS         BIT(0)\n#define NUM_UNITS_IS_NUM_PEERS         BIT(1)\n#define NUM_UNITS_IS_NUM_ACTIVE_PEERS  BIT(2)\n\nstruct wmi_resource_config_10_4 {\n\t/* Number of virtual devices (VAPs) to support */\n\t__le32 num_vdevs;\n\n\t/* Number of peer nodes to support */\n\t__le32 num_peers;\n\n\t/* Number of active peer nodes to support */\n\t__le32 num_active_peers;\n\n\t/* In offload mode, target supports features like WOW, chatter and other\n\t * protocol offloads. In order to support them some functionalities like\n\t * reorder buffering, PN checking need to be done in target.\n\t * This determines maximum number of peers supported by target in\n\t * offload mode.\n\t */\n\t__le32 num_offload_peers;\n\n\t/* Number of reorder buffers available for doing target based reorder\n\t * Rx reorder buffering\n\t */\n\t__le32 num_offload_reorder_buffs;\n\n\t/* Number of keys per peer */\n\t__le32 num_peer_keys;\n\n\t/* Total number of TX/RX data TIDs */\n\t__le32 num_tids;\n\n\t/* Max skid for resolving hash collisions.\n\t * The address search table is sparse, so that if two MAC addresses\n\t * result in the same hash value, the second of these conflicting\n\t * entries can slide to the next index in the address search table,\n\t * and use it, if it is unoccupied.  This ast_skid_limit parameter\n\t * specifies the upper bound on how many subsequent indices to search\n\t * over to find an unoccupied space.\n\t */\n\t__le32 ast_skid_limit;\n\n\t/* The nominal chain mask for transmit.\n\t * The chain mask may be modified dynamically, e.g. to operate AP tx\n\t * with a reduced number of chains if no clients are associated.\n\t * This configuration parameter specifies the nominal chain-mask that\n\t * should be used when not operating with a reduced set of tx chains.\n\t */\n\t__le32 tx_chain_mask;\n\n\t/* The nominal chain mask for receive.\n\t * The chain mask may be modified dynamically, e.g. for a client to use\n\t * a reduced number of chains for receive if the traffic to the client\n\t * is low enough that it doesn't require downlink MIMO or antenna\n\t * diversity. This configuration parameter specifies the nominal\n\t * chain-mask that should be used when not operating with a reduced\n\t * set of rx chains.\n\t */\n\t__le32 rx_chain_mask;\n\n\t/* What rx reorder timeout (ms) to use for the AC.\n\t * Each WMM access class (voice, video, best-effort, background) will\n\t * have its own timeout value to dictate how long to wait for missing\n\t * rx MPDUs to arrive before flushing subsequent MPDUs that have already\n\t * been received. This parameter specifies the timeout in milliseconds\n\t * for each class.\n\t */\n\t__le32 rx_timeout_pri[4];\n\n\t/* What mode the rx should decap packets to.\n\t * MAC can decap to RAW (no decap), native wifi or Ethernet types.\n\t * This setting also determines the default TX behavior, however TX\n\t * behavior can be modified on a per VAP basis during VAP init\n\t */\n\t__le32 rx_decap_mode;\n\n\t__le32 scan_max_pending_req;\n\n\t__le32 bmiss_offload_max_vdev;\n\n\t__le32 roam_offload_max_vdev;\n\n\t__le32 roam_offload_max_ap_profiles;\n\n\t/* How many groups to use for mcast->ucast conversion.\n\t * The target's WAL maintains a table to hold information regarding\n\t * which peers belong to a given multicast group, so that if\n\t * multicast->unicast conversion is enabled, the target can convert\n\t * multicast tx frames to a series of unicast tx frames, to each peer\n\t * within the multicast group. This num_mcast_groups configuration\n\t * parameter tells the target how many multicast groups to provide\n\t * storage for within its multicast group membership table.\n\t */\n\t__le32 num_mcast_groups;\n\n\t/* Size to alloc for the mcast membership table.\n\t * This num_mcast_table_elems configuration parameter tells the target\n\t * how many peer elements it needs to provide storage for in its\n\t * multicast group membership table. These multicast group membership\n\t * table elements are shared by the multicast groups stored within\n\t * the table.\n\t */\n\t__le32 num_mcast_table_elems;\n\n\t/* Whether/how to do multicast->unicast conversion.\n\t * This configuration parameter specifies whether the target should\n\t * perform multicast --> unicast conversion on transmit, and if so,\n\t * what to do if it finds no entries in its multicast group membership\n\t * table for the multicast IP address in the tx frame.\n\t * Configuration value:\n\t * 0 -> Do not perform multicast to unicast conversion.\n\t * 1 -> Convert multicast frames to unicast, if the IP multicast address\n\t *      from the tx frame is found in the multicast group membership\n\t *      table.  If the IP multicast address is not found, drop the frame\n\t * 2 -> Convert multicast frames to unicast, if the IP multicast address\n\t *      from the tx frame is found in the multicast group membership\n\t *      table.  If the IP multicast address is not found, transmit the\n\t *      frame as multicast.\n\t */\n\t__le32 mcast2ucast_mode;\n\n\t/* How much memory to allocate for a tx PPDU dbg log.\n\t * This parameter controls how much memory the target will allocate to\n\t * store a log of tx PPDU meta-information (how large the PPDU was,\n\t * when it was sent, whether it was successful, etc.)\n\t */\n\t__le32 tx_dbg_log_size;\n\n\t/* How many AST entries to be allocated for WDS */\n\t__le32 num_wds_entries;\n\n\t/* MAC DMA burst size. 0 -default, 1 -256B */\n\t__le32 dma_burst_size;\n\n\t/* Fixed delimiters to be inserted after every MPDU to account for\n\t * interface latency to avoid underrun.\n\t */\n\t__le32 mac_aggr_delim;\n\n\t/* Determine whether target is responsible for detecting duplicate\n\t * non-aggregate MPDU and timing out stale fragments. A-MPDU reordering\n\t * is always performed on the target.\n\t *\n\t * 0: target responsible for frag timeout and dup checking\n\t * 1: host responsible for frag timeout and dup checking\n\t */\n\t__le32 rx_skip_defrag_timeout_dup_detection_check;\n\n\t/* Configuration for VoW : No of Video nodes to be supported and max\n\t * no of descriptors for each video link (node).\n\t */\n\t__le32 vow_config;\n\n\t/* Maximum vdev that could use gtk offload */\n\t__le32 gtk_offload_max_vdev;\n\n\t/* Number of msdu descriptors target should use */\n\t__le32 num_msdu_desc;\n\n\t/* Max number of tx fragments per MSDU.\n\t * This parameter controls the max number of tx fragments per MSDU.\n\t * This will passed by target as part of the WMI_SERVICE_READY event\n\t * and is overridden by the OS shim as required.\n\t */\n\t__le32 max_frag_entries;\n\n\t/* Max number of extended peer stats.\n\t * This parameter controls the max number of peers for which extended\n\t * statistics are supported by target\n\t */\n\t__le32 max_peer_ext_stats;\n\n\t/* Smart antenna capabilities information.\n\t * 1 - Smart antenna is enabled\n\t * 0 - Smart antenna is disabled\n\t * In future this can contain smart antenna specific capabilities.\n\t */\n\t__le32 smart_ant_cap;\n\n\t/* User can configure the buffers allocated for each AC (BE, BK, VI, VO)\n\t * during init.\n\t */\n\t__le32 bk_minfree;\n\t__le32 be_minfree;\n\t__le32 vi_minfree;\n\t__le32 vo_minfree;\n\n\t/* Rx batch mode capability.\n\t * 1 - Rx batch mode enabled\n\t * 0 - Rx batch mode disabled\n\t */\n\t__le32 rx_batchmode;\n\n\t/* Thermal throttling capability.\n\t * 1 - Capable of thermal throttling\n\t * 0 - Not capable of thermal throttling\n\t */\n\t__le32 tt_support;\n\n\t/* ATF configuration.\n\t * 1  - Enable ATF\n\t * 0  - Disable ATF\n\t */\n\t__le32 atf_config;\n\n\t/* Configure padding to manage IP header un-alignment\n\t * 1  - Enable padding\n\t * 0  - Disable padding\n\t */\n\t__le32 iphdr_pad_config;\n\n\t/* qwrap configuration (bits 15-0)\n\t * 1  - This is qwrap configuration\n\t * 0  - This is not qwrap\n\t *\n\t * Bits 31-16 is alloc_frag_desc_for_data_pkt (1 enables, 0 disables)\n\t * In order to get ack-RSSI reporting and to specify the tx-rate for\n\t * individual frames, this option must be enabled.  This uses an extra\n\t * 4 bytes per tx-msdu descriptor, so don't enable it unless you need it.\n\t */\n\t__le32 qwrap_config;\n} __packed;\n\nenum wmi_coex_version {\n\tWMI_NO_COEX_VERSION_SUPPORT\t= 0,\n\t/* 3 wire coex support*/\n\tWMI_COEX_VERSION_1\t\t= 1,\n\t/* 2.5 wire coex support*/\n\tWMI_COEX_VERSION_2\t\t= 2,\n\t/* 2.5 wire coex with duty cycle support */\n\tWMI_COEX_VERSION_3\t\t= 3,\n\t/* 4 wire coex support*/\n\tWMI_COEX_VERSION_4\t\t= 4,\n};\n\n/**\n * enum wmi_10_4_feature_mask - WMI 10.4 feature enable/disable flags\n * @WMI_10_4_LTEU_SUPPORT: LTEU config\n * @WMI_10_4_COEX_GPIO_SUPPORT: COEX GPIO config\n * @WMI_10_4_AUX_RADIO_SPECTRAL_INTF: AUX Radio Enhancement for spectral scan\n * @WMI_10_4_AUX_RADIO_CHAN_LOAD_INTF: AUX Radio Enhancement for chan load scan\n * @WMI_10_4_BSS_CHANNEL_INFO_64: BSS channel info stats\n * @WMI_10_4_PEER_STATS: Per station stats\n * @WMI_10_4_VDEV_STATS: Per vdev stats\n * @WMI_10_4_TDLS: Implicit TDLS support in firmware enable/disable\n * @WMI_10_4_TDLS_OFFCHAN: TDLS offchannel support enable/disable\n * @WMI_10_4_TDLS_UAPSD_BUFFER_STA: TDLS buffer sta support enable/disable\n * @WMI_10_4_TDLS_UAPSD_SLEEP_STA: TDLS sleep sta support enable/disable\n * @WMI_10_4_TDLS_CONN_TRACKER_IN_HOST_MODE: TDLS connection tracker in host\n *\tenable/disable\n * @WMI_10_4_TDLS_EXPLICIT_MODE_ONLY:Explicit TDLS mode enable/disable\n * @WMI_10_4_TX_DATA_ACK_RSSI: Enable DATA ACK RSSI if firmware is capable\n */\nenum wmi_10_4_feature_mask {\n\tWMI_10_4_LTEU_SUPPORT\t\t\t= BIT(0),\n\tWMI_10_4_COEX_GPIO_SUPPORT\t\t= BIT(1),\n\tWMI_10_4_AUX_RADIO_SPECTRAL_INTF\t= BIT(2),\n\tWMI_10_4_AUX_RADIO_CHAN_LOAD_INTF\t= BIT(3),\n\tWMI_10_4_BSS_CHANNEL_INFO_64\t\t= BIT(4),\n\tWMI_10_4_PEER_STATS\t\t\t= BIT(5),\n\tWMI_10_4_VDEV_STATS\t\t\t= BIT(6),\n\tWMI_10_4_TDLS\t\t\t\t= BIT(7),\n\tWMI_10_4_TDLS_OFFCHAN\t\t\t= BIT(8),\n\tWMI_10_4_TDLS_UAPSD_BUFFER_STA\t\t= BIT(9),\n\tWMI_10_4_TDLS_UAPSD_SLEEP_STA\t\t= BIT(10),\n\tWMI_10_4_TDLS_CONN_TRACKER_IN_HOST_MODE = BIT(11),\n\tWMI_10_4_TDLS_EXPLICIT_MODE_ONLY\t= BIT(12),\n\tWMI_10_4_TX_DATA_ACK_RSSI               = BIT(16),\n\tWMI_10_4_EXT_PEER_TID_CONFIGS_SUPPORT\t= BIT(17),\n\tWMI_10_4_REPORT_AIRTIME\t\t\t= BIT(18),\n\n};\n\nstruct wmi_ext_resource_config_10_4_cmd {\n\t/* contains enum wmi_host_platform_type */\n\t__le32 host_platform_config;\n\t/* see enum wmi_10_4_feature_mask */\n\t__le32 fw_feature_bitmap;\n\t/* WLAN priority GPIO number */\n\t__le32 wlan_gpio_priority;\n\t/* see enum wmi_coex_version */\n\t__le32 coex_version;\n\t/* COEX GPIO config */\n\t__le32 coex_gpio_pin1;\n\t__le32 coex_gpio_pin2;\n\t__le32 coex_gpio_pin3;\n\t/* number of vdevs allowed to perform tdls */\n\t__le32 num_tdls_vdevs;\n\t/* number of peers to track per TDLS vdev */\n\t__le32 num_tdls_conn_table_entries;\n\t/* number of tdls sleep sta supported */\n\t__le32 max_tdls_concurrent_sleep_sta;\n\t/* number of tdls buffer sta supported */\n\t__le32 max_tdls_concurrent_buffer_sta;\n};\n\n/* structure describing host memory chunk. */\nstruct host_memory_chunk {\n\t/* id of the request that is passed up in service ready */\n\t__le32 req_id;\n\t/* the physical address the memory chunk */\n\t__le32 ptr;\n\t/* size of the chunk */\n\t__le32 size;\n} __packed;\n\nstruct wmi_host_mem_chunks {\n\t__le32 count;\n\t/* some fw revisions require at least 1 chunk regardless of count */\n\tstruct host_memory_chunk items[1];\n} __packed;\n\nstruct wmi_init_cmd {\n\tstruct wmi_resource_config resource_config;\n\tstruct wmi_host_mem_chunks mem_chunks;\n} __packed;\n\n/* _10x structure is from 10.X FW API */\nstruct wmi_init_cmd_10x {\n\tstruct wmi_resource_config_10x resource_config;\n\tstruct wmi_host_mem_chunks mem_chunks;\n} __packed;\n\nstruct wmi_init_cmd_10_2 {\n\tstruct wmi_resource_config_10_2 resource_config;\n\tstruct wmi_host_mem_chunks mem_chunks;\n} __packed;\n\nstruct wmi_init_cmd_10_4 {\n\tstruct wmi_resource_config_10_4 resource_config;\n\tstruct wmi_host_mem_chunks mem_chunks;\n} __packed;\n\nstruct wmi_chan_list_entry {\n\t__le16 freq;\n\tu8 phy_mode; /* valid for 10.2 only */\n\tu8 reserved;\n} __packed;\n\n/* TLV for channel list */\nstruct wmi_chan_list {\n\t__le32 tag; /* WMI_CHAN_LIST_TAG */\n\t__le32 num_chan;\n\tstruct wmi_chan_list_entry channel_list[];\n} __packed;\n\nstruct wmi_bssid_list {\n\t__le32 tag; /* WMI_BSSID_LIST_TAG */\n\t__le32 num_bssid;\n\tstruct wmi_mac_addr bssid_list[];\n} __packed;\n\nstruct wmi_ie_data {\n\t__le32 tag; /* WMI_IE_TAG */\n\t__le32 ie_len;\n\tu8 ie_data[];\n} __packed;\n\nstruct wmi_ssid {\n\t__le32 ssid_len;\n\tu8 ssid[32];\n} __packed;\n\nstruct wmi_ssid_list {\n\t__le32 tag; /* WMI_SSID_LIST_TAG */\n\t__le32 num_ssids;\n\tstruct wmi_ssid ssids[];\n} __packed;\n\n/* prefix used by scan requestor ids on the host */\n#define WMI_HOST_SCAN_REQUESTOR_ID_PREFIX 0xA000\n\n/* prefix used by scan request ids generated on the host */\n/* host cycles through the lower 12 bits to generate ids */\n#define WMI_HOST_SCAN_REQ_ID_PREFIX 0xA000\n\n#define WLAN_SCAN_PARAMS_MAX_SSID    16\n#define WLAN_SCAN_PARAMS_MAX_BSSID   4\n#define WLAN_SCAN_PARAMS_MAX_IE_LEN  256\n\n/* Values lower than this may be refused by some firmware revisions with a scan\n * completion with a timedout reason.\n */\n#define WMI_SCAN_CHAN_MIN_TIME_MSEC 40\n\n/* Scan priority numbers must be sequential, starting with 0 */\nenum wmi_scan_priority {\n\tWMI_SCAN_PRIORITY_VERY_LOW = 0,\n\tWMI_SCAN_PRIORITY_LOW,\n\tWMI_SCAN_PRIORITY_MEDIUM,\n\tWMI_SCAN_PRIORITY_HIGH,\n\tWMI_SCAN_PRIORITY_VERY_HIGH,\n\tWMI_SCAN_PRIORITY_COUNT   /* number of priorities supported */\n};\n\nstruct wmi_start_scan_common {\n\t/* Scan ID */\n\t__le32 scan_id;\n\t/* Scan requestor ID */\n\t__le32 scan_req_id;\n\t/* VDEV id(interface) that is requesting scan */\n\t__le32 vdev_id;\n\t/* Scan Priority, input to scan scheduler */\n\t__le32 scan_priority;\n\t/* Scan events subscription */\n\t__le32 notify_scan_events;\n\t/* dwell time in msec on active channels */\n\t__le32 dwell_time_active;\n\t/* dwell time in msec on passive channels */\n\t__le32 dwell_time_passive;\n\t/*\n\t * min time in msec on the BSS channel,only valid if atleast one\n\t * VDEV is active\n\t */\n\t__le32 min_rest_time;\n\t/*\n\t * max rest time in msec on the BSS channel,only valid if at least\n\t * one VDEV is active\n\t */\n\t/*\n\t * the scanner will rest on the bss channel at least min_rest_time\n\t * after min_rest_time the scanner will start checking for tx/rx\n\t * activity on all VDEVs. if there is no activity the scanner will\n\t * switch to off channel. if there is activity the scanner will let\n\t * the radio on the bss channel until max_rest_time expires.at\n\t * max_rest_time scanner will switch to off channel irrespective of\n\t * activity. activity is determined by the idle_time parameter.\n\t */\n\t__le32 max_rest_time;\n\t/*\n\t * time before sending next set of probe requests.\n\t * The scanner keeps repeating probe requests transmission with\n\t * period specified by repeat_probe_time.\n\t * The number of probe requests specified depends on the ssid_list\n\t * and bssid_list\n\t */\n\t__le32 repeat_probe_time;\n\t/* time in msec between 2 consequetive probe requests with in a set. */\n\t__le32 probe_spacing_time;\n\t/*\n\t * data inactivity time in msec on bss channel that will be used by\n\t * scanner for measuring the inactivity.\n\t */\n\t__le32 idle_time;\n\t/* maximum time in msec allowed for scan  */\n\t__le32 max_scan_time;\n\t/*\n\t * delay in msec before sending first probe request after switching\n\t * to a channel\n\t */\n\t__le32 probe_delay;\n\t/* Scan control flags */\n\t__le32 scan_ctrl_flags;\n} __packed;\n\nstruct wmi_start_scan_tlvs {\n\t/* TLV parameters. These includes channel list, ssid list, bssid list,\n\t * extra ies.\n\t */\n\tu8 tlvs[0];\n} __packed;\n\nstruct wmi_start_scan_cmd {\n\tstruct wmi_start_scan_common common;\n\t__le32 burst_duration_ms;\n\tstruct wmi_start_scan_tlvs tlvs;\n} __packed;\n\n/* This is the definition from 10.X firmware branch */\nstruct wmi_10x_start_scan_cmd {\n\tstruct wmi_start_scan_common common;\n\tstruct wmi_start_scan_tlvs tlvs;\n} __packed;\n\nstruct wmi_ssid_arg {\n\tint len;\n\tconst u8 *ssid;\n};\n\nstruct wmi_bssid_arg {\n\tconst u8 *bssid;\n};\n\nstruct wmi_start_scan_arg {\n\tu32 scan_id;\n\tu32 scan_req_id;\n\tu32 vdev_id;\n\tu32 scan_priority;\n\tu32 notify_scan_events;\n\tu32 dwell_time_active;\n\tu32 dwell_time_passive;\n\tu32 min_rest_time;\n\tu32 max_rest_time;\n\tu32 repeat_probe_time;\n\tu32 probe_spacing_time;\n\tu32 idle_time;\n\tu32 max_scan_time;\n\tu32 probe_delay;\n\tu32 scan_ctrl_flags;\n\tu32 burst_duration_ms;\n\n\tu32 ie_len;\n\tu32 n_channels;\n\tu32 n_ssids;\n\tu32 n_bssids;\n\n\tu8 ie[WLAN_SCAN_PARAMS_MAX_IE_LEN];\n\tu16 channels[64];\n\tstruct wmi_ssid_arg ssids[WLAN_SCAN_PARAMS_MAX_SSID];\n\tstruct wmi_bssid_arg bssids[WLAN_SCAN_PARAMS_MAX_BSSID];\n\tstruct wmi_mac_addr mac_addr;\n\tstruct wmi_mac_addr mac_mask;\n};\n\n/* scan control flags */\n\n/* passively scan all channels including active channels */\n#define WMI_SCAN_FLAG_PASSIVE        0x1\n/* add wild card ssid probe request even though ssid_list is specified. */\n#define WMI_SCAN_ADD_BCAST_PROBE_REQ 0x2\n/* add cck rates to rates/xrate ie for the generated probe request */\n#define WMI_SCAN_ADD_CCK_RATES 0x4\n/* add ofdm rates to rates/xrate ie for the generated probe request */\n#define WMI_SCAN_ADD_OFDM_RATES 0x8\n/* To enable indication of Chan load and Noise floor to host */\n#define WMI_SCAN_CHAN_STAT_EVENT 0x10\n/* Filter Probe request frames  */\n#define WMI_SCAN_FILTER_PROBE_REQ 0x20\n/* When set, DFS channels will not be scanned */\n#define WMI_SCAN_BYPASS_DFS_CHN 0x40\n/* Different FW scan engine may choose to bail out on errors.\n * Allow the driver to have influence over that.\n */\n#define WMI_SCAN_CONTINUE_ON_ERROR 0x80\n\n/* Use random MAC address for TA for Probe Request frame and add\n * OUI specified by WMI_SCAN_PROB_REQ_OUI_CMDID to the Probe Request frame.\n * if OUI is not set by WMI_SCAN_PROB_REQ_OUI_CMDID then the flag is ignored.\n */\n#define WMI_SCAN_ADD_SPOOFED_MAC_IN_PROBE_REQ   0x1000\n\n/* WMI_SCAN_CLASS_MASK must be the same value as IEEE80211_SCAN_CLASS_MASK */\n#define WMI_SCAN_CLASS_MASK 0xFF000000\n\nenum wmi_stop_scan_type {\n\tWMI_SCAN_STOP_ONE\t= 0x00000000, /* stop by scan_id */\n\tWMI_SCAN_STOP_VDEV_ALL\t= 0x01000000, /* stop by vdev_id */\n\tWMI_SCAN_STOP_ALL\t= 0x04000000, /* stop all scans */\n};\n\nstruct wmi_stop_scan_cmd {\n\t__le32 scan_req_id;\n\t__le32 scan_id;\n\t__le32 req_type;\n\t__le32 vdev_id;\n} __packed;\n\nstruct wmi_stop_scan_arg {\n\tu32 req_id;\n\tenum wmi_stop_scan_type req_type;\n\tunion {\n\t\tu32 scan_id;\n\t\tu32 vdev_id;\n\t} u;\n};\n\nstruct wmi_scan_chan_list_cmd {\n\t__le32 num_scan_chans;\n\tstruct wmi_channel chan_info[];\n} __packed;\n\nstruct wmi_scan_chan_list_arg {\n\tu32 n_channels;\n\tstruct wmi_channel_arg *channels;\n};\n\nenum wmi_bss_filter {\n\tWMI_BSS_FILTER_NONE = 0,        /* no beacons forwarded */\n\tWMI_BSS_FILTER_ALL,             /* all beacons forwarded */\n\tWMI_BSS_FILTER_PROFILE,         /* only beacons matching profile */\n\tWMI_BSS_FILTER_ALL_BUT_PROFILE, /* all but beacons matching profile */\n\tWMI_BSS_FILTER_CURRENT_BSS,     /* only beacons matching current BSS */\n\tWMI_BSS_FILTER_ALL_BUT_BSS,     /* all but beacons matching BSS */\n\tWMI_BSS_FILTER_PROBED_SSID,     /* beacons matching probed ssid */\n\tWMI_BSS_FILTER_LAST_BSS,        /* marker only */\n};\n\nenum wmi_scan_event_type {\n\tWMI_SCAN_EVENT_STARTED              = BIT(0),\n\tWMI_SCAN_EVENT_COMPLETED            = BIT(1),\n\tWMI_SCAN_EVENT_BSS_CHANNEL          = BIT(2),\n\tWMI_SCAN_EVENT_FOREIGN_CHANNEL      = BIT(3),\n\tWMI_SCAN_EVENT_DEQUEUED             = BIT(4),\n\t/* possibly by high-prio scan */\n\tWMI_SCAN_EVENT_PREEMPTED            = BIT(5),\n\tWMI_SCAN_EVENT_START_FAILED         = BIT(6),\n\tWMI_SCAN_EVENT_RESTARTED            = BIT(7),\n\tWMI_SCAN_EVENT_FOREIGN_CHANNEL_EXIT = BIT(8),\n\tWMI_SCAN_EVENT_MAX                  = BIT(15),\n};\n\nenum wmi_scan_completion_reason {\n\tWMI_SCAN_REASON_COMPLETED,\n\tWMI_SCAN_REASON_CANCELLED,\n\tWMI_SCAN_REASON_PREEMPTED,\n\tWMI_SCAN_REASON_TIMEDOUT,\n\tWMI_SCAN_REASON_INTERNAL_FAILURE,\n\tWMI_SCAN_REASON_MAX,\n};\n\nstruct wmi_scan_event {\n\t__le32 event_type; /* %WMI_SCAN_EVENT_ */\n\t__le32 reason; /* %WMI_SCAN_REASON_ */\n\t__le32 channel_freq; /* only valid for WMI_SCAN_EVENT_FOREIGN_CHANNEL */\n\t__le32 scan_req_id;\n\t__le32 scan_id;\n\t__le32 vdev_id;\n} __packed;\n\n/*\n * This defines how much headroom is kept in the\n * receive frame between the descriptor and the\n * payload, in order for the WMI PHY error and\n * management handler to insert header contents.\n *\n * This is in bytes.\n */\n#define WMI_MGMT_RX_HDR_HEADROOM    52\n\n/*\n * This event will be used for sending scan results\n * as well as rx mgmt frames to the host. The rx buffer\n * will be sent as part of this WMI event. It would be a\n * good idea to pass all the fields in the RX status\n * descriptor up to the host.\n */\nstruct wmi_mgmt_rx_hdr_v1 {\n\t__le32 channel;\n\t__le32 snr;\n\t__le32 rate;\n\t__le32 phy_mode;\n\t__le32 buf_len;\n\t__le32 status; /* %WMI_RX_STATUS_ */\n} __packed;\n\nstruct wmi_mgmt_rx_hdr_v2 {\n\tstruct wmi_mgmt_rx_hdr_v1 v1;\n\t__le32 rssi_ctl[4];\n} __packed;\n\nstruct wmi_mgmt_rx_event_v1 {\n\tstruct wmi_mgmt_rx_hdr_v1 hdr;\n\tu8 buf[];\n} __packed;\n\nstruct wmi_mgmt_rx_event_v2 {\n\tstruct wmi_mgmt_rx_hdr_v2 hdr;\n\tu8 buf[];\n} __packed;\n\nstruct wmi_10_4_mgmt_rx_hdr {\n\t__le32 channel;\n\t__le32 snr;\n\t    u8 rssi_ctl[4];\n\t__le32 rate;\n\t__le32 phy_mode;\n\t__le32 buf_len;\n\t__le32 status;\n} __packed;\n\nstruct wmi_10_4_mgmt_rx_event {\n\tstruct wmi_10_4_mgmt_rx_hdr hdr;\n\tu8 buf[];\n} __packed;\n\nstruct wmi_mgmt_rx_ext_info {\n\t__le64 rx_mac_timestamp;\n} __packed __aligned(4);\n\n#define WMI_RX_STATUS_OK\t\t\t0x00\n#define WMI_RX_STATUS_ERR_CRC\t\t\t0x01\n#define WMI_RX_STATUS_ERR_DECRYPT\t\t0x08\n#define WMI_RX_STATUS_ERR_MIC\t\t\t0x10\n#define WMI_RX_STATUS_ERR_KEY_CACHE_MISS\t0x20\n/* Extension data at the end of mgmt frame */\n#define WMI_RX_STATUS_EXT_INFO\t\t0x40\n\n#define PHY_ERROR_GEN_SPECTRAL_SCAN\t\t0x26\n#define PHY_ERROR_GEN_FALSE_RADAR_EXT\t\t0x24\n#define PHY_ERROR_GEN_RADAR\t\t\t0x05\n\n#define PHY_ERROR_10_4_RADAR_MASK               0x4\n#define PHY_ERROR_10_4_SPECTRAL_SCAN_MASK       0x4000000\n\nenum phy_err_type {\n\tPHY_ERROR_UNKNOWN,\n\tPHY_ERROR_SPECTRAL_SCAN,\n\tPHY_ERROR_FALSE_RADAR_EXT,\n\tPHY_ERROR_RADAR\n};\n\nstruct wmi_phyerr {\n\t__le32 tsf_timestamp;\n\t__le16 freq1;\n\t__le16 freq2;\n\tu8 rssi_combined;\n\tu8 chan_width_mhz;\n\tu8 phy_err_code;\n\tu8 rsvd0;\n\t__le32 rssi_chains[4];\n\t__le16 nf_chains[4];\n\t__le32 buf_len;\n\tu8 buf[];\n} __packed;\n\nstruct wmi_phyerr_event {\n\t__le32 num_phyerrs;\n\t__le32 tsf_l32;\n\t__le32 tsf_u32;\n\tstruct wmi_phyerr phyerrs[];\n} __packed;\n\nstruct wmi_10_4_phyerr_event {\n\t__le32 tsf_l32;\n\t__le32 tsf_u32;\n\t__le16 freq1;\n\t__le16 freq2;\n\tu8 rssi_combined;\n\tu8 chan_width_mhz;\n\tu8 phy_err_code;\n\tu8 rsvd0;\n\t__le32 rssi_chains[4];\n\t__le16 nf_chains[4];\n\t__le32 phy_err_mask[2];\n\t__le32 tsf_timestamp;\n\t__le32 buf_len;\n\tu8 buf[];\n} __packed;\n\nstruct wmi_radar_found_info {\n\t__le32 pri_min;\n\t__le32 pri_max;\n\t__le32 width_min;\n\t__le32 width_max;\n\t__le32 sidx_min;\n\t__le32 sidx_max;\n} __packed;\n\nenum wmi_radar_confirmation_status {\n\t/* Detected radar was due to SW pulses */\n\tWMI_SW_RADAR_DETECTED    = 0,\n\n\tWMI_RADAR_DETECTION_FAIL = 1,\n\n\t/* Real radar detected */\n\tWMI_HW_RADAR_DETECTED    = 2,\n};\n\n#define PHYERR_TLV_SIG\t\t\t\t0xBB\n#define PHYERR_TLV_TAG_SEARCH_FFT_REPORT\t0xFB\n#define PHYERR_TLV_TAG_RADAR_PULSE_SUMMARY\t0xF8\n#define PHYERR_TLV_TAG_SPECTRAL_SUMMARY_REPORT\t0xF9\n\nstruct phyerr_radar_report {\n\t__le32 reg0; /* RADAR_REPORT_REG0_* */\n\t__le32 reg1; /* RADAR_REPORT_REG1_* */\n} __packed;\n\n#define RADAR_REPORT_REG0_PULSE_IS_CHIRP_MASK\t\t0x80000000\n#define RADAR_REPORT_REG0_PULSE_IS_CHIRP_LSB\t\t31\n\n#define RADAR_REPORT_REG0_PULSE_IS_MAX_WIDTH_MASK\t0x40000000\n#define RADAR_REPORT_REG0_PULSE_IS_MAX_WIDTH_LSB\t30\n\n#define RADAR_REPORT_REG0_AGC_TOTAL_GAIN_MASK\t\t0x3FF00000\n#define RADAR_REPORT_REG0_AGC_TOTAL_GAIN_LSB\t\t20\n\n#define RADAR_REPORT_REG0_PULSE_DELTA_DIFF_MASK\t\t0x000F0000\n#define RADAR_REPORT_REG0_PULSE_DELTA_DIFF_LSB\t\t16\n\n#define RADAR_REPORT_REG0_PULSE_DELTA_PEAK_MASK\t\t0x0000FC00\n#define RADAR_REPORT_REG0_PULSE_DELTA_PEAK_LSB\t\t10\n\n#define RADAR_REPORT_REG0_PULSE_SIDX_MASK\t\t0x000003FF\n#define RADAR_REPORT_REG0_PULSE_SIDX_LSB\t\t0\n\n#define RADAR_REPORT_REG1_PULSE_SRCH_FFT_VALID_MASK\t0x80000000\n#define RADAR_REPORT_REG1_PULSE_SRCH_FFT_VALID_LSB\t31\n\n#define RADAR_REPORT_REG1_PULSE_AGC_MB_GAIN_MASK\t0x7F000000\n#define RADAR_REPORT_REG1_PULSE_AGC_MB_GAIN_LSB\t\t24\n\n#define RADAR_REPORT_REG1_PULSE_SUBCHAN_MASK_MASK\t0x00FF0000\n#define RADAR_REPORT_REG1_PULSE_SUBCHAN_MASK_LSB\t16\n\n#define RADAR_REPORT_REG1_PULSE_TSF_OFFSET_MASK\t\t0x0000FF00\n#define RADAR_REPORT_REG1_PULSE_TSF_OFFSET_LSB\t\t8\n\n#define RADAR_REPORT_REG1_PULSE_DUR_MASK\t\t0x000000FF\n#define RADAR_REPORT_REG1_PULSE_DUR_LSB\t\t\t0\n\nstruct phyerr_fft_report {\n\t__le32 reg0; /* SEARCH_FFT_REPORT_REG0_ * */\n\t__le32 reg1; /* SEARCH_FFT_REPORT_REG1_ * */\n} __packed;\n\n#define SEARCH_FFT_REPORT_REG0_TOTAL_GAIN_DB_MASK\t0xFF800000\n#define SEARCH_FFT_REPORT_REG0_TOTAL_GAIN_DB_LSB\t23\n\n#define SEARCH_FFT_REPORT_REG0_BASE_PWR_DB_MASK\t\t0x007FC000\n#define SEARCH_FFT_REPORT_REG0_BASE_PWR_DB_LSB\t\t14\n\n#define SEARCH_FFT_REPORT_REG0_FFT_CHN_IDX_MASK\t\t0x00003000\n#define SEARCH_FFT_REPORT_REG0_FFT_CHN_IDX_LSB\t\t12\n\n#define SEARCH_FFT_REPORT_REG0_PEAK_SIDX_MASK\t\t0x00000FFF\n#define SEARCH_FFT_REPORT_REG0_PEAK_SIDX_LSB\t\t0\n\n#define SEARCH_FFT_REPORT_REG1_RELPWR_DB_MASK\t\t0xFC000000\n#define SEARCH_FFT_REPORT_REG1_RELPWR_DB_LSB\t\t26\n\n#define SEARCH_FFT_REPORT_REG1_AVGPWR_DB_MASK\t\t0x03FC0000\n#define SEARCH_FFT_REPORT_REG1_AVGPWR_DB_LSB\t\t18\n\n#define SEARCH_FFT_REPORT_REG1_PEAK_MAG_MASK\t\t0x0003FF00\n#define SEARCH_FFT_REPORT_REG1_PEAK_MAG_LSB\t\t8\n\n#define SEARCH_FFT_REPORT_REG1_NUM_STR_BINS_IB_MASK\t0x000000FF\n#define SEARCH_FFT_REPORT_REG1_NUM_STR_BINS_IB_LSB\t0\n\nstruct phyerr_tlv {\n\t__le16 len;\n\tu8 tag;\n\tu8 sig;\n} __packed;\n\n#define DFS_RSSI_POSSIBLY_FALSE\t\t\t50\n#define DFS_PEAK_MAG_THOLD_POSSIBLY_FALSE\t40\n\nstruct wmi_mgmt_tx_hdr {\n\t__le32 vdev_id;\n\tstruct wmi_mac_addr peer_macaddr;\n\t__le32 tx_rate;\n\t__le32 tx_power;\n\t__le32 buf_len;\n} __packed;\n\nstruct wmi_mgmt_tx_cmd {\n\tstruct wmi_mgmt_tx_hdr hdr;\n\tu8 buf[];\n} __packed;\n\nstruct wmi_echo_event {\n\t__le32 value;\n} __packed;\n\nstruct wmi_echo_cmd {\n\t__le32 value;\n} __packed;\n\nstruct wmi_pdev_set_regdomain_cmd {\n\t__le32 reg_domain;\n\t__le32 reg_domain_2G;\n\t__le32 reg_domain_5G;\n\t__le32 conformance_test_limit_2G;\n\t__le32 conformance_test_limit_5G;\n} __packed;\n\nenum wmi_dfs_region {\n\t/* Uninitialized dfs domain */\n\tWMI_UNINIT_DFS_DOMAIN = 0,\n\n\t/* FCC3 dfs domain */\n\tWMI_FCC_DFS_DOMAIN = 1,\n\n\t/* ETSI dfs domain */\n\tWMI_ETSI_DFS_DOMAIN = 2,\n\n\t/*Japan dfs domain */\n\tWMI_MKK4_DFS_DOMAIN = 3,\n};\n\nstruct wmi_pdev_set_regdomain_cmd_10x {\n\t__le32 reg_domain;\n\t__le32 reg_domain_2G;\n\t__le32 reg_domain_5G;\n\t__le32 conformance_test_limit_2G;\n\t__le32 conformance_test_limit_5G;\n\n\t/* dfs domain from wmi_dfs_region */\n\t__le32 dfs_domain;\n} __packed;\n\n/* Command to set/unset chip in quiet mode */\nstruct wmi_pdev_set_quiet_cmd {\n\t/* period in TUs */\n\t__le32 period;\n\n\t/* duration in TUs */\n\t__le32 duration;\n\n\t/* offset in TUs */\n\t__le32 next_start;\n\n\t/* enable/disable */\n\t__le32 enabled;\n} __packed;\n\n/*\n * 802.11g protection mode.\n */\nenum ath10k_protmode {\n\tATH10K_PROT_NONE     = 0,    /* no protection */\n\tATH10K_PROT_CTSONLY  = 1,    /* CTS to self */\n\tATH10K_PROT_RTSCTS   = 2,    /* RTS-CTS */\n};\n\nenum wmi_rtscts_profile {\n\tWMI_RTSCTS_FOR_NO_RATESERIES = 0,\n\tWMI_RTSCTS_FOR_SECOND_RATESERIES,\n\tWMI_RTSCTS_ACROSS_SW_RETRIES\n};\n\n#define WMI_RTSCTS_ENABLED\t\t1\n#define WMI_RTSCTS_SET_MASK\t\t0x0f\n#define WMI_RTSCTS_SET_LSB\t\t0\n\n#define WMI_RTSCTS_PROFILE_MASK\t\t0xf0\n#define WMI_RTSCTS_PROFILE_LSB\t\t4\n\nenum wmi_beacon_gen_mode {\n\tWMI_BEACON_STAGGERED_MODE = 0,\n\tWMI_BEACON_BURST_MODE = 1\n};\n\nenum wmi_csa_event_ies_present_flag {\n\tWMI_CSA_IE_PRESENT = 0x00000001,\n\tWMI_XCSA_IE_PRESENT = 0x00000002,\n\tWMI_WBW_IE_PRESENT = 0x00000004,\n\tWMI_CSWARP_IE_PRESENT = 0x00000008,\n};\n\n/* wmi CSA receive event from beacon frame */\nstruct wmi_csa_event {\n\t__le32 i_fc_dur;\n\t/* Bit 0-15: FC */\n\t/* Bit 16-31: DUR */\n\tstruct wmi_mac_addr i_addr1;\n\tstruct wmi_mac_addr i_addr2;\n\t__le32 csa_ie[2];\n\t__le32 xcsa_ie[2];\n\t__le32 wb_ie[2];\n\t__le32 cswarp_ie;\n\t__le32 ies_present_flag; /* wmi_csa_event_ies_present_flag */\n} __packed;\n\n/* the definition of different PDEV parameters */\n#define PDEV_DEFAULT_STATS_UPDATE_PERIOD    500\n#define VDEV_DEFAULT_STATS_UPDATE_PERIOD    500\n#define PEER_DEFAULT_STATS_UPDATE_PERIOD    500\n\nstruct wmi_pdev_param_map {\n\tu32 tx_chain_mask;\n\tu32 rx_chain_mask;\n\tu32 txpower_limit2g;\n\tu32 txpower_limit5g;\n\tu32 txpower_scale;\n\tu32 beacon_gen_mode;\n\tu32 beacon_tx_mode;\n\tu32 resmgr_offchan_mode;\n\tu32 protection_mode;\n\tu32 dynamic_bw;\n\tu32 non_agg_sw_retry_th;\n\tu32 agg_sw_retry_th;\n\tu32 sta_kickout_th;\n\tu32 ac_aggrsize_scaling;\n\tu32 ltr_enable;\n\tu32 ltr_ac_latency_be;\n\tu32 ltr_ac_latency_bk;\n\tu32 ltr_ac_latency_vi;\n\tu32 ltr_ac_latency_vo;\n\tu32 ltr_ac_latency_timeout;\n\tu32 ltr_sleep_override;\n\tu32 ltr_rx_override;\n\tu32 ltr_tx_activity_timeout;\n\tu32 l1ss_enable;\n\tu32 dsleep_enable;\n\tu32 pcielp_txbuf_flush;\n\tu32 pcielp_txbuf_watermark;\n\tu32 pcielp_txbuf_tmo_en;\n\tu32 pcielp_txbuf_tmo_value;\n\tu32 pdev_stats_update_period;\n\tu32 vdev_stats_update_period;\n\tu32 peer_stats_update_period;\n\tu32 bcnflt_stats_update_period;\n\tu32 pmf_qos;\n\tu32 arp_ac_override;\n\tu32 dcs;\n\tu32 ani_enable;\n\tu32 ani_poll_period;\n\tu32 ani_listen_period;\n\tu32 ani_ofdm_level;\n\tu32 ani_cck_level;\n\tu32 dyntxchain;\n\tu32 proxy_sta;\n\tu32 idle_ps_config;\n\tu32 power_gating_sleep;\n\tu32 fast_channel_reset;\n\tu32 burst_dur;\n\tu32 burst_enable;\n\tu32 cal_period;\n\tu32 aggr_burst;\n\tu32 rx_decap_mode;\n\tu32 smart_antenna_default_antenna;\n\tu32 igmpmld_override;\n\tu32 igmpmld_tid;\n\tu32 antenna_gain;\n\tu32 rx_filter;\n\tu32 set_mcast_to_ucast_tid;\n\tu32 proxy_sta_mode;\n\tu32 set_mcast2ucast_mode;\n\tu32 set_mcast2ucast_buffer;\n\tu32 remove_mcast2ucast_buffer;\n\tu32 peer_sta_ps_statechg_enable;\n\tu32 igmpmld_ac_override;\n\tu32 block_interbss;\n\tu32 set_disable_reset_cmdid;\n\tu32 set_msdu_ttl_cmdid;\n\tu32 set_ppdu_duration_cmdid;\n\tu32 txbf_sound_period_cmdid;\n\tu32 set_promisc_mode_cmdid;\n\tu32 set_burst_mode_cmdid;\n\tu32 en_stats;\n\tu32 mu_group_policy;\n\tu32 noise_detection;\n\tu32 noise_threshold;\n\tu32 dpd_enable;\n\tu32 set_mcast_bcast_echo;\n\tu32 atf_strict_sch;\n\tu32 atf_sched_duration;\n\tu32 ant_plzn;\n\tu32 mgmt_retry_limit;\n\tu32 sensitivity_level;\n\tu32 signed_txpower_2g;\n\tu32 signed_txpower_5g;\n\tu32 enable_per_tid_amsdu;\n\tu32 enable_per_tid_ampdu;\n\tu32 cca_threshold;\n\tu32 rts_fixed_rate;\n\tu32 pdev_reset;\n\tu32 wapi_mbssid_offset;\n\tu32 arp_srcaddr;\n\tu32 arp_dstaddr;\n\tu32 enable_btcoex;\n\tu32 rfkill_config;\n\tu32 rfkill_enable;\n\tu32 peer_stats_info_enable;\n};\n\n#define WMI_PDEV_PARAM_UNSUPPORTED 0\n\nenum wmi_pdev_param {\n\t/* TX chain mask */\n\tWMI_PDEV_PARAM_TX_CHAIN_MASK = 0x1,\n\t/* RX chain mask */\n\tWMI_PDEV_PARAM_RX_CHAIN_MASK,\n\t/* TX power limit for 2G Radio */\n\tWMI_PDEV_PARAM_TXPOWER_LIMIT2G,\n\t/* TX power limit for 5G Radio */\n\tWMI_PDEV_PARAM_TXPOWER_LIMIT5G,\n\t/* TX power scale */\n\tWMI_PDEV_PARAM_TXPOWER_SCALE,\n\t/* Beacon generation mode . 0: host, 1: target   */\n\tWMI_PDEV_PARAM_BEACON_GEN_MODE,\n\t/* Beacon generation mode . 0: staggered 1: bursted   */\n\tWMI_PDEV_PARAM_BEACON_TX_MODE,\n\t/*\n\t * Resource manager off chan mode .\n\t * 0: turn off off chan mode. 1: turn on offchan mode\n\t */\n\tWMI_PDEV_PARAM_RESMGR_OFFCHAN_MODE,\n\t/*\n\t * Protection mode:\n\t * 0: no protection 1:use CTS-to-self 2: use RTS/CTS\n\t */\n\tWMI_PDEV_PARAM_PROTECTION_MODE,\n\t/*\n\t * Dynamic bandwidth - 0: disable, 1: enable\n\t *\n\t * When enabled HW rate control tries different bandwidths when\n\t * retransmitting frames.\n\t */\n\tWMI_PDEV_PARAM_DYNAMIC_BW,\n\t/* Non aggregrate/ 11g sw retry threshold.0-disable */\n\tWMI_PDEV_PARAM_NON_AGG_SW_RETRY_TH,\n\t/* aggregrate sw retry threshold. 0-disable*/\n\tWMI_PDEV_PARAM_AGG_SW_RETRY_TH,\n\t/* Station kickout threshold (non of consecutive failures).0-disable */\n\tWMI_PDEV_PARAM_STA_KICKOUT_TH,\n\t/* Aggerate size scaling configuration per AC */\n\tWMI_PDEV_PARAM_AC_AGGRSIZE_SCALING,\n\t/* LTR enable */\n\tWMI_PDEV_PARAM_LTR_ENABLE,\n\t/* LTR latency for BE, in us */\n\tWMI_PDEV_PARAM_LTR_AC_LATENCY_BE,\n\t/* LTR latency for BK, in us */\n\tWMI_PDEV_PARAM_LTR_AC_LATENCY_BK,\n\t/* LTR latency for VI, in us */\n\tWMI_PDEV_PARAM_LTR_AC_LATENCY_VI,\n\t/* LTR latency for VO, in us  */\n\tWMI_PDEV_PARAM_LTR_AC_LATENCY_VO,\n\t/* LTR AC latency timeout, in ms */\n\tWMI_PDEV_PARAM_LTR_AC_LATENCY_TIMEOUT,\n\t/* LTR platform latency override, in us */\n\tWMI_PDEV_PARAM_LTR_SLEEP_OVERRIDE,\n\t/* LTR-RX override, in us */\n\tWMI_PDEV_PARAM_LTR_RX_OVERRIDE,\n\t/* Tx activity timeout for LTR, in us */\n\tWMI_PDEV_PARAM_LTR_TX_ACTIVITY_TIMEOUT,\n\t/* L1SS state machine enable */\n\tWMI_PDEV_PARAM_L1SS_ENABLE,\n\t/* Deep sleep state machine enable */\n\tWMI_PDEV_PARAM_DSLEEP_ENABLE,\n\t/* RX buffering flush enable */\n\tWMI_PDEV_PARAM_PCIELP_TXBUF_FLUSH,\n\t/* RX buffering matermark */\n\tWMI_PDEV_PARAM_PCIELP_TXBUF_WATERMARK,\n\t/* RX buffering timeout enable */\n\tWMI_PDEV_PARAM_PCIELP_TXBUF_TMO_EN,\n\t/* RX buffering timeout value */\n\tWMI_PDEV_PARAM_PCIELP_TXBUF_TMO_VALUE,\n\t/* pdev level stats update period in ms */\n\tWMI_PDEV_PARAM_PDEV_STATS_UPDATE_PERIOD,\n\t/* vdev level stats update period in ms */\n\tWMI_PDEV_PARAM_VDEV_STATS_UPDATE_PERIOD,\n\t/* peer level stats update period in ms */\n\tWMI_PDEV_PARAM_PEER_STATS_UPDATE_PERIOD,\n\t/* beacon filter status update period */\n\tWMI_PDEV_PARAM_BCNFLT_STATS_UPDATE_PERIOD,\n\t/* QOS Mgmt frame protection MFP/PMF 0: disable, 1: enable */\n\tWMI_PDEV_PARAM_PMF_QOS,\n\t/* Access category on which ARP frames are sent */\n\tWMI_PDEV_PARAM_ARP_AC_OVERRIDE,\n\t/* DCS configuration */\n\tWMI_PDEV_PARAM_DCS,\n\t/* Enable/Disable ANI on target */\n\tWMI_PDEV_PARAM_ANI_ENABLE,\n\t/* configure the ANI polling period */\n\tWMI_PDEV_PARAM_ANI_POLL_PERIOD,\n\t/* configure the ANI listening period */\n\tWMI_PDEV_PARAM_ANI_LISTEN_PERIOD,\n\t/* configure OFDM immunity level */\n\tWMI_PDEV_PARAM_ANI_OFDM_LEVEL,\n\t/* configure CCK immunity level */\n\tWMI_PDEV_PARAM_ANI_CCK_LEVEL,\n\t/* Enable/Disable CDD for 1x1 STAs in rate control module */\n\tWMI_PDEV_PARAM_DYNTXCHAIN,\n\t/* Enable/Disable proxy STA */\n\tWMI_PDEV_PARAM_PROXY_STA,\n\t/* Enable/Disable low power state when all VDEVs are inactive/idle. */\n\tWMI_PDEV_PARAM_IDLE_PS_CONFIG,\n\t/* Enable/Disable power gating sleep */\n\tWMI_PDEV_PARAM_POWER_GATING_SLEEP,\n};\n\nenum wmi_10x_pdev_param {\n\t/* TX chian mask */\n\tWMI_10X_PDEV_PARAM_TX_CHAIN_MASK = 0x1,\n\t/* RX chian mask */\n\tWMI_10X_PDEV_PARAM_RX_CHAIN_MASK,\n\t/* TX power limit for 2G Radio */\n\tWMI_10X_PDEV_PARAM_TXPOWER_LIMIT2G,\n\t/* TX power limit for 5G Radio */\n\tWMI_10X_PDEV_PARAM_TXPOWER_LIMIT5G,\n\t/* TX power scale */\n\tWMI_10X_PDEV_PARAM_TXPOWER_SCALE,\n\t/* Beacon generation mode . 0: host, 1: target   */\n\tWMI_10X_PDEV_PARAM_BEACON_GEN_MODE,\n\t/* Beacon generation mode . 0: staggered 1: bursted   */\n\tWMI_10X_PDEV_PARAM_BEACON_TX_MODE,\n\t/*\n\t * Resource manager off chan mode .\n\t * 0: turn off off chan mode. 1: turn on offchan mode\n\t */\n\tWMI_10X_PDEV_PARAM_RESMGR_OFFCHAN_MODE,\n\t/*\n\t * Protection mode:\n\t * 0: no protection 1:use CTS-to-self 2: use RTS/CTS\n\t */\n\tWMI_10X_PDEV_PARAM_PROTECTION_MODE,\n\t/* Dynamic bandwidth 0: disable 1: enable */\n\tWMI_10X_PDEV_PARAM_DYNAMIC_BW,\n\t/* Non aggregrate/ 11g sw retry threshold.0-disable */\n\tWMI_10X_PDEV_PARAM_NON_AGG_SW_RETRY_TH,\n\t/* aggregrate sw retry threshold. 0-disable*/\n\tWMI_10X_PDEV_PARAM_AGG_SW_RETRY_TH,\n\t/* Station kickout threshold (non of consecutive failures).0-disable */\n\tWMI_10X_PDEV_PARAM_STA_KICKOUT_TH,\n\t/* Aggerate size scaling configuration per AC */\n\tWMI_10X_PDEV_PARAM_AC_AGGRSIZE_SCALING,\n\t/* LTR enable */\n\tWMI_10X_PDEV_PARAM_LTR_ENABLE,\n\t/* LTR latency for BE, in us */\n\tWMI_10X_PDEV_PARAM_LTR_AC_LATENCY_BE,\n\t/* LTR latency for BK, in us */\n\tWMI_10X_PDEV_PARAM_LTR_AC_LATENCY_BK,\n\t/* LTR latency for VI, in us */\n\tWMI_10X_PDEV_PARAM_LTR_AC_LATENCY_VI,\n\t/* LTR latency for VO, in us  */\n\tWMI_10X_PDEV_PARAM_LTR_AC_LATENCY_VO,\n\t/* LTR AC latency timeout, in ms */\n\tWMI_10X_PDEV_PARAM_LTR_AC_LATENCY_TIMEOUT,\n\t/* LTR platform latency override, in us */\n\tWMI_10X_PDEV_PARAM_LTR_SLEEP_OVERRIDE,\n\t/* LTR-RX override, in us */\n\tWMI_10X_PDEV_PARAM_LTR_RX_OVERRIDE,\n\t/* Tx activity timeout for LTR, in us */\n\tWMI_10X_PDEV_PARAM_LTR_TX_ACTIVITY_TIMEOUT,\n\t/* L1SS state machine enable */\n\tWMI_10X_PDEV_PARAM_L1SS_ENABLE,\n\t/* Deep sleep state machine enable */\n\tWMI_10X_PDEV_PARAM_DSLEEP_ENABLE,\n\t/* pdev level stats update period in ms */\n\tWMI_10X_PDEV_PARAM_PDEV_STATS_UPDATE_PERIOD,\n\t/* vdev level stats update period in ms */\n\tWMI_10X_PDEV_PARAM_VDEV_STATS_UPDATE_PERIOD,\n\t/* peer level stats update period in ms */\n\tWMI_10X_PDEV_PARAM_PEER_STATS_UPDATE_PERIOD,\n\t/* beacon filter status update period */\n\tWMI_10X_PDEV_PARAM_BCNFLT_STATS_UPDATE_PERIOD,\n\t/* QOS Mgmt frame protection MFP/PMF 0: disable, 1: enable */\n\tWMI_10X_PDEV_PARAM_PMF_QOS,\n\t/* Access category on which ARP and DHCP frames are sent */\n\tWMI_10X_PDEV_PARAM_ARPDHCP_AC_OVERRIDE,\n\t/* DCS configuration */\n\tWMI_10X_PDEV_PARAM_DCS,\n\t/* Enable/Disable ANI on target */\n\tWMI_10X_PDEV_PARAM_ANI_ENABLE,\n\t/* configure the ANI polling period */\n\tWMI_10X_PDEV_PARAM_ANI_POLL_PERIOD,\n\t/* configure the ANI listening period */\n\tWMI_10X_PDEV_PARAM_ANI_LISTEN_PERIOD,\n\t/* configure OFDM immunity level */\n\tWMI_10X_PDEV_PARAM_ANI_OFDM_LEVEL,\n\t/* configure CCK immunity level */\n\tWMI_10X_PDEV_PARAM_ANI_CCK_LEVEL,\n\t/* Enable/Disable CDD for 1x1 STAs in rate control module */\n\tWMI_10X_PDEV_PARAM_DYNTXCHAIN,\n\t/* Enable/Disable Fast channel reset*/\n\tWMI_10X_PDEV_PARAM_FAST_CHANNEL_RESET,\n\t/* Set Bursting DUR */\n\tWMI_10X_PDEV_PARAM_BURST_DUR,\n\t/* Set Bursting Enable*/\n\tWMI_10X_PDEV_PARAM_BURST_ENABLE,\n\n\t/* following are available as of firmware 10.2 */\n\tWMI_10X_PDEV_PARAM_SMART_ANTENNA_DEFAULT_ANTENNA,\n\tWMI_10X_PDEV_PARAM_IGMPMLD_OVERRIDE,\n\tWMI_10X_PDEV_PARAM_IGMPMLD_TID,\n\tWMI_10X_PDEV_PARAM_ANTENNA_GAIN,\n\tWMI_10X_PDEV_PARAM_RX_DECAP_MODE,\n\tWMI_10X_PDEV_PARAM_RX_FILTER,\n\tWMI_10X_PDEV_PARAM_SET_MCAST_TO_UCAST_TID,\n\tWMI_10X_PDEV_PARAM_PROXY_STA_MODE,\n\tWMI_10X_PDEV_PARAM_SET_MCAST2UCAST_MODE,\n\tWMI_10X_PDEV_PARAM_SET_MCAST2UCAST_BUFFER,\n\tWMI_10X_PDEV_PARAM_REMOVE_MCAST2UCAST_BUFFER,\n\tWMI_10X_PDEV_PARAM_PEER_STA_PS_STATECHG_ENABLE,\n\tWMI_10X_PDEV_PARAM_RTS_FIXED_RATE,\n\tWMI_10X_PDEV_PARAM_CAL_PERIOD,\n\tWMI_10X_PDEV_PARAM_ATF_STRICT_SCH,\n\tWMI_10X_PDEV_PARAM_ATF_SCHED_DURATION,\n\tWMI_10X_PDEV_PARAM_SET_PROMISC_MODE_CMDID,\n\tWMI_10X_PDEV_PARAM_PDEV_RESET\n};\n\nenum wmi_10_4_pdev_param {\n\tWMI_10_4_PDEV_PARAM_TX_CHAIN_MASK = 0x1,\n\tWMI_10_4_PDEV_PARAM_RX_CHAIN_MASK,\n\tWMI_10_4_PDEV_PARAM_TXPOWER_LIMIT2G,\n\tWMI_10_4_PDEV_PARAM_TXPOWER_LIMIT5G,\n\tWMI_10_4_PDEV_PARAM_TXPOWER_SCALE,\n\tWMI_10_4_PDEV_PARAM_BEACON_GEN_MODE,\n\tWMI_10_4_PDEV_PARAM_BEACON_TX_MODE,\n\tWMI_10_4_PDEV_PARAM_RESMGR_OFFCHAN_MODE,\n\tWMI_10_4_PDEV_PARAM_PROTECTION_MODE,\n\tWMI_10_4_PDEV_PARAM_DYNAMIC_BW,\n\tWMI_10_4_PDEV_PARAM_NON_AGG_SW_RETRY_TH,\n\tWMI_10_4_PDEV_PARAM_AGG_SW_RETRY_TH,\n\tWMI_10_4_PDEV_PARAM_STA_KICKOUT_TH,\n\tWMI_10_4_PDEV_PARAM_AC_AGGRSIZE_SCALING,\n\tWMI_10_4_PDEV_PARAM_LTR_ENABLE,\n\tWMI_10_4_PDEV_PARAM_LTR_AC_LATENCY_BE,\n\tWMI_10_4_PDEV_PARAM_LTR_AC_LATENCY_BK,\n\tWMI_10_4_PDEV_PARAM_LTR_AC_LATENCY_VI,\n\tWMI_10_4_PDEV_PARAM_LTR_AC_LATENCY_VO,\n\tWMI_10_4_PDEV_PARAM_LTR_AC_LATENCY_TIMEOUT,\n\tWMI_10_4_PDEV_PARAM_LTR_SLEEP_OVERRIDE,\n\tWMI_10_4_PDEV_PARAM_LTR_RX_OVERRIDE,\n\tWMI_10_4_PDEV_PARAM_LTR_TX_ACTIVITY_TIMEOUT,\n\tWMI_10_4_PDEV_PARAM_L1SS_ENABLE,\n\tWMI_10_4_PDEV_PARAM_DSLEEP_ENABLE,\n\tWMI_10_4_PDEV_PARAM_PCIELP_TXBUF_FLUSH,\n\tWMI_10_4_PDEV_PARAM_PCIELP_TXBUF_WATERMARK,\n\tWMI_10_4_PDEV_PARAM_PCIELP_TXBUF_TMO_EN,\n\tWMI_10_4_PDEV_PARAM_PCIELP_TXBUF_TMO_VALUE,\n\tWMI_10_4_PDEV_PARAM_PDEV_STATS_UPDATE_PERIOD,\n\tWMI_10_4_PDEV_PARAM_VDEV_STATS_UPDATE_PERIOD,\n\tWMI_10_4_PDEV_PARAM_PEER_STATS_UPDATE_PERIOD,\n\tWMI_10_4_PDEV_PARAM_BCNFLT_STATS_UPDATE_PERIOD,\n\tWMI_10_4_PDEV_PARAM_PMF_QOS,\n\tWMI_10_4_PDEV_PARAM_ARP_AC_OVERRIDE,\n\tWMI_10_4_PDEV_PARAM_DCS,\n\tWMI_10_4_PDEV_PARAM_ANI_ENABLE,\n\tWMI_10_4_PDEV_PARAM_ANI_POLL_PERIOD,\n\tWMI_10_4_PDEV_PARAM_ANI_LISTEN_PERIOD,\n\tWMI_10_4_PDEV_PARAM_ANI_OFDM_LEVEL,\n\tWMI_10_4_PDEV_PARAM_ANI_CCK_LEVEL,\n\tWMI_10_4_PDEV_PARAM_DYNTXCHAIN,\n\tWMI_10_4_PDEV_PARAM_PROXY_STA,\n\tWMI_10_4_PDEV_PARAM_IDLE_PS_CONFIG,\n\tWMI_10_4_PDEV_PARAM_POWER_GATING_SLEEP,\n\tWMI_10_4_PDEV_PARAM_AGGR_BURST,\n\tWMI_10_4_PDEV_PARAM_RX_DECAP_MODE,\n\tWMI_10_4_PDEV_PARAM_FAST_CHANNEL_RESET,\n\tWMI_10_4_PDEV_PARAM_BURST_DUR,\n\tWMI_10_4_PDEV_PARAM_BURST_ENABLE,\n\tWMI_10_4_PDEV_PARAM_SMART_ANTENNA_DEFAULT_ANTENNA,\n\tWMI_10_4_PDEV_PARAM_IGMPMLD_OVERRIDE,\n\tWMI_10_4_PDEV_PARAM_IGMPMLD_TID,\n\tWMI_10_4_PDEV_PARAM_ANTENNA_GAIN,\n\tWMI_10_4_PDEV_PARAM_RX_FILTER,\n\tWMI_10_4_PDEV_SET_MCAST_TO_UCAST_TID,\n\tWMI_10_4_PDEV_PARAM_PROXY_STA_MODE,\n\tWMI_10_4_PDEV_PARAM_SET_MCAST2UCAST_MODE,\n\tWMI_10_4_PDEV_PARAM_SET_MCAST2UCAST_BUFFER,\n\tWMI_10_4_PDEV_PARAM_REMOVE_MCAST2UCAST_BUFFER,\n\tWMI_10_4_PDEV_PEER_STA_PS_STATECHG_ENABLE,\n\tWMI_10_4_PDEV_PARAM_IGMPMLD_AC_OVERRIDE,\n\tWMI_10_4_PDEV_PARAM_BLOCK_INTERBSS,\n\tWMI_10_4_PDEV_PARAM_SET_DISABLE_RESET_CMDID,\n\tWMI_10_4_PDEV_PARAM_SET_MSDU_TTL_CMDID,\n\tWMI_10_4_PDEV_PARAM_SET_PPDU_DURATION_CMDID,\n\tWMI_10_4_PDEV_PARAM_TXBF_SOUND_PERIOD_CMDID,\n\tWMI_10_4_PDEV_PARAM_SET_PROMISC_MODE_CMDID,\n\tWMI_10_4_PDEV_PARAM_SET_BURST_MODE_CMDID,\n\tWMI_10_4_PDEV_PARAM_EN_STATS,\n\tWMI_10_4_PDEV_PARAM_MU_GROUP_POLICY,\n\tWMI_10_4_PDEV_PARAM_NOISE_DETECTION,\n\tWMI_10_4_PDEV_PARAM_NOISE_THRESHOLD,\n\tWMI_10_4_PDEV_PARAM_DPD_ENABLE,\n\tWMI_10_4_PDEV_PARAM_SET_MCAST_BCAST_ECHO,\n\tWMI_10_4_PDEV_PARAM_ATF_STRICT_SCH,\n\tWMI_10_4_PDEV_PARAM_ATF_SCHED_DURATION,\n\tWMI_10_4_PDEV_PARAM_ANT_PLZN,\n\tWMI_10_4_PDEV_PARAM_MGMT_RETRY_LIMIT,\n\tWMI_10_4_PDEV_PARAM_SENSITIVITY_LEVEL,\n\tWMI_10_4_PDEV_PARAM_SIGNED_TXPOWER_2G,\n\tWMI_10_4_PDEV_PARAM_SIGNED_TXPOWER_5G,\n\tWMI_10_4_PDEV_PARAM_ENABLE_PER_TID_AMSDU,\n\tWMI_10_4_PDEV_PARAM_ENABLE_PER_TID_AMPDU,\n\tWMI_10_4_PDEV_PARAM_CCA_THRESHOLD,\n\tWMI_10_4_PDEV_PARAM_RTS_FIXED_RATE,\n\tWMI_10_4_PDEV_PARAM_CAL_PERIOD,\n\tWMI_10_4_PDEV_PARAM_PDEV_RESET,\n\tWMI_10_4_PDEV_PARAM_WAPI_MBSSID_OFFSET,\n\tWMI_10_4_PDEV_PARAM_ARP_SRCADDR,\n\tWMI_10_4_PDEV_PARAM_ARP_DSTADDR,\n\tWMI_10_4_PDEV_PARAM_TXPOWER_DECR_DB,\n\tWMI_10_4_PDEV_PARAM_RX_BATCHMODE,\n\tWMI_10_4_PDEV_PARAM_PACKET_AGGR_DELAY,\n\tWMI_10_4_PDEV_PARAM_ATF_OBSS_NOISE_SCH,\n\tWMI_10_4_PDEV_PARAM_ATF_OBSS_NOISE_SCALING_FACTOR,\n\tWMI_10_4_PDEV_PARAM_CUST_TXPOWER_SCALE,\n\tWMI_10_4_PDEV_PARAM_ATF_DYNAMIC_ENABLE,\n\tWMI_10_4_PDEV_PARAM_ATF_SSID_GROUP_POLICY,\n\tWMI_10_4_PDEV_PARAM_ENABLE_BTCOEX,\n};\n\nstruct wmi_pdev_set_param_cmd {\n\t__le32 param_id;\n\t__le32 param_value;\n} __packed;\n\nstruct wmi_pdev_set_base_macaddr_cmd {\n\tstruct wmi_mac_addr mac_addr;\n} __packed;\n\n/* valid period is 1 ~ 60000ms, unit in millisecond */\n#define WMI_PDEV_PARAM_CAL_PERIOD_MAX 60000\n\nstruct wmi_pdev_get_tpc_config_cmd {\n\t/* parameter   */\n\t__le32 param;\n} __packed;\n\n#define WMI_TPC_CONFIG_PARAM\t\t1\n#define WMI_TPC_FINAL_RATE_MAX\t\t240\n#define WMI_TPC_TX_N_CHAIN\t\t4\n#define WMI_TPC_RATE_MAX               (WMI_TPC_TX_N_CHAIN * 65)\n#define WMI_TPC_PREAM_TABLE_MAX\t\t10\n#define WMI_TPC_FLAG\t\t\t3\n#define WMI_TPC_BUF_SIZE\t\t10\n#define WMI_TPC_BEAMFORMING\t\t2\n\nenum wmi_tpc_table_type {\n\tWMI_TPC_TABLE_TYPE_CDD = 0,\n\tWMI_TPC_TABLE_TYPE_STBC = 1,\n\tWMI_TPC_TABLE_TYPE_TXBF = 2,\n};\n\nenum wmi_tpc_config_event_flag {\n\tWMI_TPC_CONFIG_EVENT_FLAG_TABLE_CDD\t= 0x1,\n\tWMI_TPC_CONFIG_EVENT_FLAG_TABLE_STBC\t= 0x2,\n\tWMI_TPC_CONFIG_EVENT_FLAG_TABLE_TXBF\t= 0x4,\n};\n\nstruct wmi_pdev_tpc_config_event {\n\t__le32 reg_domain;\n\t__le32 chan_freq;\n\t__le32 phy_mode;\n\t__le32 twice_antenna_reduction;\n\t__le32 twice_max_rd_power;\n\ta_sle32 twice_antenna_gain;\n\t__le32 power_limit;\n\t__le32 rate_max;\n\t__le32 num_tx_chain;\n\t__le32 ctl;\n\t__le32 flags;\n\ts8 max_reg_allow_pow[WMI_TPC_TX_N_CHAIN];\n\ts8 max_reg_allow_pow_agcdd[WMI_TPC_TX_N_CHAIN][WMI_TPC_TX_N_CHAIN];\n\ts8 max_reg_allow_pow_agstbc[WMI_TPC_TX_N_CHAIN][WMI_TPC_TX_N_CHAIN];\n\ts8 max_reg_allow_pow_agtxbf[WMI_TPC_TX_N_CHAIN][WMI_TPC_TX_N_CHAIN];\n\tu8 rates_array[WMI_TPC_RATE_MAX];\n} __packed;\n\n/* Transmit power scale factor. */\nenum wmi_tp_scale {\n\tWMI_TP_SCALE_MAX    = 0,\t/* no scaling (default) */\n\tWMI_TP_SCALE_50     = 1,\t/* 50% of max (-3 dBm) */\n\tWMI_TP_SCALE_25     = 2,\t/* 25% of max (-6 dBm) */\n\tWMI_TP_SCALE_12     = 3,\t/* 12% of max (-9 dBm) */\n\tWMI_TP_SCALE_MIN    = 4,\t/* min, but still on   */\n\tWMI_TP_SCALE_SIZE   = 5,\t/* max num of enum     */\n};\n\nstruct wmi_pdev_tpc_final_table_event {\n\t__le32 reg_domain;\n\t__le32 chan_freq;\n\t__le32 phy_mode;\n\t__le32 twice_antenna_reduction;\n\t__le32 twice_max_rd_power;\n\ta_sle32 twice_antenna_gain;\n\t__le32 power_limit;\n\t__le32 rate_max;\n\t__le32 num_tx_chain;\n\t__le32 ctl;\n\t__le32 flags;\n\ts8 max_reg_allow_pow[WMI_TPC_TX_N_CHAIN];\n\ts8 max_reg_allow_pow_agcdd[WMI_TPC_TX_N_CHAIN][WMI_TPC_TX_N_CHAIN];\n\ts8 max_reg_allow_pow_agstbc[WMI_TPC_TX_N_CHAIN][WMI_TPC_TX_N_CHAIN];\n\ts8 max_reg_allow_pow_agtxbf[WMI_TPC_TX_N_CHAIN][WMI_TPC_TX_N_CHAIN];\n\tu8 rates_array[WMI_TPC_FINAL_RATE_MAX];\n\tu8 ctl_power_table[WMI_TPC_BEAMFORMING][WMI_TPC_TX_N_CHAIN]\n\t   [WMI_TPC_TX_N_CHAIN];\n} __packed;\n\nstruct wmi_pdev_get_tpc_table_cmd {\n\t__le32 param;\n} __packed;\n\nenum wmi_tpc_pream_2ghz {\n\tWMI_TPC_PREAM_2GHZ_CCK = 0,\n\tWMI_TPC_PREAM_2GHZ_OFDM,\n\tWMI_TPC_PREAM_2GHZ_HT20,\n\tWMI_TPC_PREAM_2GHZ_HT40,\n\tWMI_TPC_PREAM_2GHZ_VHT20,\n\tWMI_TPC_PREAM_2GHZ_VHT40,\n\tWMI_TPC_PREAM_2GHZ_VHT80,\n};\n\nenum wmi_tpc_pream_5ghz {\n\tWMI_TPC_PREAM_5GHZ_OFDM = 1,\n\tWMI_TPC_PREAM_5GHZ_HT20,\n\tWMI_TPC_PREAM_5GHZ_HT40,\n\tWMI_TPC_PREAM_5GHZ_VHT20,\n\tWMI_TPC_PREAM_5GHZ_VHT40,\n\tWMI_TPC_PREAM_5GHZ_VHT80,\n\tWMI_TPC_PREAM_5GHZ_HTCUP,\n};\n\n#define\tWMI_PEER_PS_STATE_DISABLED\t2\n\nstruct wmi_peer_sta_ps_state_chg_event {\n\tstruct wmi_mac_addr peer_macaddr;\n\t__le32 peer_ps_state;\n} __packed;\n\nstruct wmi_pdev_chanlist_update_event {\n\t/* number of channels */\n\t__le32 num_chan;\n\t/* array of channels */\n\tstruct wmi_channel channel_list[1];\n} __packed;\n\n#define WMI_MAX_DEBUG_MESG (sizeof(u32) * 32)\n\nstruct wmi_debug_mesg_event {\n\t/* message buffer, NULL terminated */\n\tchar bufp[WMI_MAX_DEBUG_MESG];\n} __packed;\n\nenum {\n\t/* P2P device */\n\tVDEV_SUBTYPE_P2PDEV = 0,\n\t/* P2P client */\n\tVDEV_SUBTYPE_P2PCLI,\n\t/* P2P GO */\n\tVDEV_SUBTYPE_P2PGO,\n\t/* BT3.0 HS */\n\tVDEV_SUBTYPE_BT,\n};\n\nstruct wmi_pdev_set_channel_cmd {\n\t/* idnore power , only use flags , mode and freq */\n\tstruct wmi_channel chan;\n} __packed;\n\nstruct wmi_pdev_pktlog_enable_cmd {\n\t__le32 ev_bitmap;\n} __packed;\n\n/* Customize the DSCP (bit) to TID (0-7) mapping for QOS */\n#define WMI_DSCP_MAP_MAX    (64)\nstruct wmi_pdev_set_dscp_tid_map_cmd {\n\t/* map indicating DSCP to TID conversion */\n\t__le32 dscp_to_tid_map[WMI_DSCP_MAP_MAX];\n} __packed;\n\nenum mcast_bcast_rate_id {\n\tWMI_SET_MCAST_RATE,\n\tWMI_SET_BCAST_RATE\n};\n\nstruct mcast_bcast_rate {\n\tenum mcast_bcast_rate_id rate_id;\n\t__le32 rate;\n} __packed;\n\nstruct wmi_wmm_params {\n\t__le32 cwmin;\n\t__le32 cwmax;\n\t__le32 aifs;\n\t__le32 txop;\n\t__le32 acm;\n\t__le32 no_ack;\n} __packed;\n\nstruct wmi_pdev_set_wmm_params {\n\tstruct wmi_wmm_params ac_be;\n\tstruct wmi_wmm_params ac_bk;\n\tstruct wmi_wmm_params ac_vi;\n\tstruct wmi_wmm_params ac_vo;\n} __packed;\n\nstruct wmi_wmm_params_arg {\n\tu32 cwmin;\n\tu32 cwmax;\n\tu32 aifs;\n\tu32 txop;\n\tu32 acm;\n\tu32 no_ack;\n};\n\nstruct wmi_wmm_params_all_arg {\n\tstruct wmi_wmm_params_arg ac_be;\n\tstruct wmi_wmm_params_arg ac_bk;\n\tstruct wmi_wmm_params_arg ac_vi;\n\tstruct wmi_wmm_params_arg ac_vo;\n};\n\nstruct wmi_pdev_stats_tx {\n\t/* Num HTT cookies queued to dispatch list */\n\t__le32 comp_queued;\n\n\t/* Num HTT cookies dispatched */\n\t__le32 comp_delivered;\n\n\t/* Num MSDU queued to WAL */\n\t__le32 msdu_enqued;\n\n\t/* Num MPDU queue to WAL */\n\t__le32 mpdu_enqued;\n\n\t/* Num MSDUs dropped by WMM limit */\n\t__le32 wmm_drop;\n\n\t/* Num Local frames queued */\n\t__le32 local_enqued;\n\n\t/* Num Local frames done */\n\t__le32 local_freed;\n\n\t/* Num queued to HW */\n\t__le32 hw_queued;\n\n\t/* Num PPDU reaped from HW */\n\t__le32 hw_reaped;\n\n\t/* Num underruns */\n\t__le32 underrun;\n\n\t/* Num PPDUs cleaned up in TX abort */\n\t__le32 tx_abort;\n\n\t/* Num MPDUs requed by SW */\n\t__le32 mpdus_requed;\n\n\t/* excessive retries */\n\t__le32 tx_ko;\n\n\t/* data hw rate code */\n\t__le32 data_rc;\n\n\t/* Scheduler self triggers */\n\t__le32 self_triggers;\n\n\t/* frames dropped due to excessive sw retries */\n\t__le32 sw_retry_failure;\n\n\t/* illegal rate phy errors  */\n\t__le32 illgl_rate_phy_err;\n\n\t/* wal pdev continuous xretry */\n\t__le32 pdev_cont_xretry;\n\n\t/* wal pdev continous xretry */\n\t__le32 pdev_tx_timeout;\n\n\t/* wal pdev resets  */\n\t__le32 pdev_resets;\n\n\t/* frames dropped due to non-availability of stateless TIDs */\n\t__le32 stateless_tid_alloc_failure;\n\n\t__le32 phy_underrun;\n\n\t/* MPDU is more than txop limit */\n\t__le32 txop_ovf;\n} __packed;\n\nstruct wmi_10_4_pdev_stats_tx {\n\t/* Num HTT cookies queued to dispatch list */\n\t__le32 comp_queued;\n\n\t/* Num HTT cookies dispatched */\n\t__le32 comp_delivered;\n\n\t/* Num MSDU queued to WAL */\n\t__le32 msdu_enqued;\n\n\t/* Num MPDU queue to WAL */\n\t__le32 mpdu_enqued;\n\n\t/* Num MSDUs dropped by WMM limit */\n\t__le32 wmm_drop;\n\n\t/* Num Local frames queued */\n\t__le32 local_enqued;\n\n\t/* Num Local frames done */\n\t__le32 local_freed;\n\n\t/* Num queued to HW */\n\t__le32 hw_queued;\n\n\t/* Num PPDU reaped from HW */\n\t__le32 hw_reaped;\n\n\t/* Num underruns */\n\t__le32 underrun;\n\n\t/* HW Paused. */\n\t__le32  hw_paused;\n\n\t/* Num PPDUs cleaned up in TX abort */\n\t__le32 tx_abort;\n\n\t/* Num MPDUs requed by SW */\n\t__le32 mpdus_requed;\n\n\t/* excessive retries */\n\t__le32 tx_ko;\n\n\t/* data hw rate code */\n\t__le32 data_rc;\n\n\t/* Scheduler self triggers */\n\t__le32 self_triggers;\n\n\t/* frames dropped due to excessive sw retries */\n\t__le32 sw_retry_failure;\n\n\t/* illegal rate phy errors  */\n\t__le32 illgl_rate_phy_err;\n\n\t/* wal pdev continuous xretry */\n\t__le32 pdev_cont_xretry;\n\n\t/* wal pdev tx timeouts */\n\t__le32 pdev_tx_timeout;\n\n\t/* wal pdev resets  */\n\t__le32 pdev_resets;\n\n\t/* frames dropped due to non-availability of stateless TIDs */\n\t__le32 stateless_tid_alloc_failure;\n\n\t__le32 phy_underrun;\n\n\t/* MPDU is more than txop limit */\n\t__le32 txop_ovf;\n\n\t/* Number of Sequences posted */\n\t__le32 seq_posted;\n\n\t/* Number of Sequences failed queueing */\n\t__le32 seq_failed_queueing;\n\n\t/* Number of Sequences completed */\n\t__le32 seq_completed;\n\n\t/* Number of Sequences restarted */\n\t__le32 seq_restarted;\n\n\t/* Number of MU Sequences posted */\n\t__le32 mu_seq_posted;\n\n\t/* Num MPDUs flushed by SW, HWPAUSED,SW TXABORT(Reset,channel change) */\n\t__le32 mpdus_sw_flush;\n\n\t/* Num MPDUs filtered by HW, all filter condition (TTL expired) */\n\t__le32 mpdus_hw_filter;\n\n\t/* Num MPDUs truncated by PDG\n\t * (TXOP, TBTT, PPDU_duration based on rate, dyn_bw)\n\t */\n\t__le32 mpdus_truncated;\n\n\t/* Num MPDUs that was tried but didn't receive ACK or BA */\n\t__le32 mpdus_ack_failed;\n\n\t/* Num MPDUs that was dropped due to expiry. */\n\t__le32 mpdus_expired;\n} __packed;\n\nstruct wmi_pdev_stats_rx {\n\t/* Cnts any change in ring routing mid-ppdu */\n\t__le32 mid_ppdu_route_change;\n\n\t/* Total number of statuses processed */\n\t__le32 status_rcvd;\n\n\t/* Extra frags on rings 0-3 */\n\t__le32 r0_frags;\n\t__le32 r1_frags;\n\t__le32 r2_frags;\n\t__le32 r3_frags;\n\n\t/* MSDUs / MPDUs delivered to HTT */\n\t__le32 htt_msdus;\n\t__le32 htt_mpdus;\n\n\t/* MSDUs / MPDUs delivered to local stack */\n\t__le32 loc_msdus;\n\t__le32 loc_mpdus;\n\n\t/* AMSDUs that have more MSDUs than the status ring size */\n\t__le32 oversize_amsdu;\n\n\t/* Number of PHY errors */\n\t__le32 phy_errs;\n\n\t/* Number of PHY errors drops */\n\t__le32 phy_err_drop;\n\n\t/* Number of mpdu errors - FCS, MIC, ENC etc. */\n\t__le32 mpdu_errs;\n} __packed;\n\nstruct wmi_pdev_stats_peer {\n\t/* REMOVE THIS ONCE REAL PEER STAT COUNTERS ARE ADDED */\n\t__le32 dummy;\n} __packed;\n\nenum wmi_stats_id {\n\tWMI_STAT_PEER = BIT(0),\n\tWMI_STAT_AP = BIT(1),\n\tWMI_STAT_PDEV = BIT(2),\n\tWMI_STAT_VDEV = BIT(3),\n\tWMI_STAT_BCNFLT = BIT(4),\n\tWMI_STAT_VDEV_RATE = BIT(5),\n};\n\nenum wmi_10_4_stats_id {\n\tWMI_10_4_STAT_PEER\t\t= BIT(0),\n\tWMI_10_4_STAT_AP\t\t= BIT(1),\n\tWMI_10_4_STAT_INST\t\t= BIT(2),\n\tWMI_10_4_STAT_PEER_EXTD\t\t= BIT(3),\n\tWMI_10_4_STAT_VDEV_EXTD\t\t= BIT(4),\n};\n\nenum wmi_tlv_stats_id {\n\tWMI_TLV_STAT_PEER\t= BIT(0),\n\tWMI_TLV_STAT_AP\t\t= BIT(1),\n\tWMI_TLV_STAT_PDEV\t= BIT(2),\n\tWMI_TLV_STAT_VDEV\t= BIT(3),\n\tWMI_TLV_STAT_PEER_EXTD  = BIT(10),\n};\n\nstruct wlan_inst_rssi_args {\n\t__le16 cfg_retry_count;\n\t__le16 retry_count;\n};\n\nstruct wmi_request_stats_cmd {\n\t__le32 stats_id;\n\n\t__le32 vdev_id;\n\n\t/* peer MAC address */\n\tstruct wmi_mac_addr peer_macaddr;\n\n\t/* Instantaneous RSSI arguments */\n\tstruct wlan_inst_rssi_args inst_rssi_args;\n} __packed;\n\nenum wmi_peer_stats_info_request_type {\n\t/* request stats of one specified peer */\n\tWMI_REQUEST_ONE_PEER_STATS_INFO = 0x01,\n\t/* request stats of all peers belong to specified VDEV */\n\tWMI_REQUEST_VDEV_ALL_PEER_STATS_INFO = 0x02,\n};\n\n/* Suspend option */\nenum {\n\t/* suspend */\n\tWMI_PDEV_SUSPEND,\n\n\t/* suspend and disable all interrupts */\n\tWMI_PDEV_SUSPEND_AND_DISABLE_INTR,\n};\n\nstruct wmi_pdev_suspend_cmd {\n\t/* suspend option sent to target */\n\t__le32 suspend_opt;\n} __packed;\n\nstruct wmi_stats_event {\n\t__le32 stats_id; /* WMI_STAT_ */\n\t/*\n\t * number of pdev stats event structures\n\t * (wmi_pdev_stats) 0 or 1\n\t */\n\t__le32 num_pdev_stats;\n\t/*\n\t * number of vdev stats event structures\n\t * (wmi_vdev_stats) 0 or max vdevs\n\t */\n\t__le32 num_vdev_stats;\n\t/*\n\t * number of peer stats event structures\n\t * (wmi_peer_stats) 0 or max peers\n\t */\n\t__le32 num_peer_stats;\n\t__le32 num_bcnflt_stats;\n\t/*\n\t * followed by\n\t *   num_pdev_stats * size of(struct wmi_pdev_stats)\n\t *   num_vdev_stats * size of(struct wmi_vdev_stats)\n\t *   num_peer_stats * size of(struct wmi_peer_stats)\n\t *\n\t *  By having a zero sized array, the pointer to data area\n\t *  becomes available without increasing the struct size\n\t */\n\tu8 data[];\n} __packed;\n\nstruct wmi_10_2_stats_event {\n\t__le32 stats_id; /* %WMI_REQUEST_ */\n\t__le32 num_pdev_stats;\n\t__le32 num_pdev_ext_stats;\n\t__le32 num_vdev_stats;\n\t__le32 num_peer_stats;\n\t__le32 num_bcnflt_stats;\n\tu8 data[];\n} __packed;\n\n/*\n * PDEV statistics\n * TODO: add all PDEV stats here\n */\nstruct wmi_pdev_stats_base {\n\t__le32 chan_nf;\n\t__le32 tx_frame_count; /* Cycles spent transmitting frames */\n\t__le32 rx_frame_count; /* Cycles spent receiving frames */\n\t__le32 rx_clear_count; /* Total channel busy time, evidently */\n\t__le32 cycle_count; /* Total on-channel time */\n\t__le32 phy_err_count;\n\t__le32 chan_tx_pwr;\n} __packed;\n\nstruct wmi_pdev_stats {\n\tstruct wmi_pdev_stats_base base;\n\tstruct wmi_pdev_stats_tx tx;\n\tstruct wmi_pdev_stats_rx rx;\n\tstruct wmi_pdev_stats_peer peer;\n} __packed;\n\nstruct wmi_pdev_stats_extra {\n\t__le32 ack_rx_bad;\n\t__le32 rts_bad;\n\t__le32 rts_good;\n\t__le32 fcs_bad;\n\t__le32 no_beacons;\n\t__le32 mib_int_count;\n} __packed;\n\nstruct wmi_10x_pdev_stats {\n\tstruct wmi_pdev_stats_base base;\n\tstruct wmi_pdev_stats_tx tx;\n\tstruct wmi_pdev_stats_rx rx;\n\tstruct wmi_pdev_stats_peer peer;\n\tstruct wmi_pdev_stats_extra extra;\n} __packed;\n\nstruct wmi_pdev_stats_mem {\n\t__le32 dram_free;\n\t__le32 iram_free;\n} __packed;\n\nstruct wmi_10_2_pdev_stats {\n\tstruct wmi_pdev_stats_base base;\n\tstruct wmi_pdev_stats_tx tx;\n\t__le32 mc_drop;\n\tstruct wmi_pdev_stats_rx rx;\n\t__le32 pdev_rx_timeout;\n\tstruct wmi_pdev_stats_mem mem;\n\tstruct wmi_pdev_stats_peer peer;\n\tstruct wmi_pdev_stats_extra extra;\n} __packed;\n\nstruct wmi_10_4_pdev_stats {\n\tstruct wmi_pdev_stats_base base;\n\tstruct wmi_10_4_pdev_stats_tx tx;\n\tstruct wmi_pdev_stats_rx rx;\n\t__le32 rx_ovfl_errs;\n\tstruct wmi_pdev_stats_mem mem;\n\t__le32 sram_free_size;\n\tstruct wmi_pdev_stats_extra extra;\n} __packed;\n\n/*\n * VDEV statistics\n */\n\n#define WMI_VDEV_STATS_FTM_COUNT_VALID\tBIT(31)\n#define WMI_VDEV_STATS_FTM_COUNT_LSB\t0\n#define WMI_VDEV_STATS_FTM_COUNT_MASK\t0x7fffffff\n\nstruct wmi_vdev_stats {\n\t__le32 vdev_id;\n} __packed;\n\nstruct wmi_vdev_stats_extd {\n\t__le32 vdev_id;\n\t__le32 ppdu_aggr_cnt;\n\t__le32 ppdu_noack;\n\t__le32 mpdu_queued;\n\t__le32 ppdu_nonaggr_cnt;\n\t__le32 mpdu_sw_requeued;\n\t__le32 mpdu_suc_retry;\n\t__le32 mpdu_suc_multitry;\n\t__le32 mpdu_fail_retry;\n\t__le32 tx_ftm_suc;\n\t__le32 tx_ftm_suc_retry;\n\t__le32 tx_ftm_fail;\n\t__le32 rx_ftmr_cnt;\n\t__le32 rx_ftmr_dup_cnt;\n\t__le32 rx_iftmr_cnt;\n\t__le32 rx_iftmr_dup_cnt;\n\t__le32 reserved[6];\n} __packed;\n\n/*\n * peer statistics.\n * TODO: add more stats\n */\nstruct wmi_peer_stats {\n\tstruct wmi_mac_addr peer_macaddr;\n\t__le32 peer_rssi;\n\t__le32 peer_tx_rate;\n} __packed;\n\nstruct wmi_10x_peer_stats {\n\tstruct wmi_peer_stats old;\n\t__le32 peer_rx_rate;\n} __packed;\n\nstruct wmi_10_2_peer_stats {\n\tstruct wmi_peer_stats old;\n\t__le32 peer_rx_rate;\n\t__le32 current_per;\n\t__le32 retries;\n\t__le32 tx_rate_count;\n\t__le32 max_4ms_frame_len;\n\t__le32 total_sub_frames;\n\t__le32 tx_bytes;\n\t__le32 num_pkt_loss_overflow[4];\n\t__le32 num_pkt_loss_excess_retry[4];\n} __packed;\n\nstruct wmi_10_2_4_peer_stats {\n\tstruct wmi_10_2_peer_stats common;\n\t__le32 peer_rssi_changed;\n} __packed;\n\nstruct wmi_10_2_4_ext_peer_stats {\n\tstruct wmi_10_2_peer_stats common;\n\t__le32 peer_rssi_changed;\n\t__le32 rx_duration;\n} __packed;\n\nstruct wmi_10_4_peer_stats {\n\tstruct wmi_mac_addr peer_macaddr;\n\t__le32 peer_rssi;\n\t__le32 peer_rssi_seq_num;\n\t__le32 peer_tx_rate;\n\t__le32 peer_rx_rate;\n\t__le32 current_per;\n\t__le32 retries;\n\t__le32 tx_rate_count;\n\t__le32 max_4ms_frame_len;\n\t__le32 total_sub_frames;\n\t__le32 tx_bytes;\n\t__le32 num_pkt_loss_overflow[4];\n\t__le32 num_pkt_loss_excess_retry[4];\n\t__le32 peer_rssi_changed;\n} __packed;\n\nstruct wmi_10_4_peer_extd_stats {\n\tstruct wmi_mac_addr peer_macaddr;\n\t__le32 inactive_time;\n\t__le32 peer_chain_rssi;\n\t__le32 rx_duration;\n\t__le32 reserved[10];\n} __packed;\n\nstruct wmi_10_4_bss_bcn_stats {\n\t__le32 vdev_id;\n\t__le32 bss_bcns_dropped;\n\t__le32 bss_bcn_delivered;\n} __packed;\n\nstruct wmi_10_4_bss_bcn_filter_stats {\n\t__le32 bcns_dropped;\n\t__le32 bcns_delivered;\n\t__le32 active_filters;\n\tstruct wmi_10_4_bss_bcn_stats bss_stats;\n} __packed;\n\nstruct wmi_10_2_pdev_ext_stats {\n\t__le32 rx_rssi_comb;\n\t__le32 rx_rssi[4];\n\t__le32 rx_mcs[10];\n\t__le32 tx_mcs[10];\n\t__le32 ack_rssi;\n} __packed;\n\nstruct wmi_vdev_create_cmd {\n\t__le32 vdev_id;\n\t__le32 vdev_type;\n\t__le32 vdev_subtype;\n\tstruct wmi_mac_addr vdev_macaddr;\n} __packed;\n\nenum wmi_vdev_type {\n\tWMI_VDEV_TYPE_AP      = 1,\n\tWMI_VDEV_TYPE_STA     = 2,\n\tWMI_VDEV_TYPE_IBSS    = 3,\n\tWMI_VDEV_TYPE_MONITOR = 4,\n};\n\nenum wmi_vdev_subtype {\n\tWMI_VDEV_SUBTYPE_NONE,\n\tWMI_VDEV_SUBTYPE_P2P_DEVICE,\n\tWMI_VDEV_SUBTYPE_P2P_CLIENT,\n\tWMI_VDEV_SUBTYPE_P2P_GO,\n\tWMI_VDEV_SUBTYPE_PROXY_STA,\n\tWMI_VDEV_SUBTYPE_MESH_11S,\n\tWMI_VDEV_SUBTYPE_MESH_NON_11S,\n};\n\nenum wmi_vdev_subtype_legacy {\n\tWMI_VDEV_SUBTYPE_LEGACY_NONE      = 0,\n\tWMI_VDEV_SUBTYPE_LEGACY_P2P_DEV   = 1,\n\tWMI_VDEV_SUBTYPE_LEGACY_P2P_CLI   = 2,\n\tWMI_VDEV_SUBTYPE_LEGACY_P2P_GO    = 3,\n\tWMI_VDEV_SUBTYPE_LEGACY_PROXY_STA = 4,\n};\n\nenum wmi_vdev_subtype_10_2_4 {\n\tWMI_VDEV_SUBTYPE_10_2_4_NONE      = 0,\n\tWMI_VDEV_SUBTYPE_10_2_4_P2P_DEV   = 1,\n\tWMI_VDEV_SUBTYPE_10_2_4_P2P_CLI   = 2,\n\tWMI_VDEV_SUBTYPE_10_2_4_P2P_GO    = 3,\n\tWMI_VDEV_SUBTYPE_10_2_4_PROXY_STA = 4,\n\tWMI_VDEV_SUBTYPE_10_2_4_MESH_11S  = 5,\n};\n\nenum wmi_vdev_subtype_10_4 {\n\tWMI_VDEV_SUBTYPE_10_4_NONE         = 0,\n\tWMI_VDEV_SUBTYPE_10_4_P2P_DEV      = 1,\n\tWMI_VDEV_SUBTYPE_10_4_P2P_CLI      = 2,\n\tWMI_VDEV_SUBTYPE_10_4_P2P_GO       = 3,\n\tWMI_VDEV_SUBTYPE_10_4_PROXY_STA    = 4,\n\tWMI_VDEV_SUBTYPE_10_4_MESH_NON_11S = 5,\n\tWMI_VDEV_SUBTYPE_10_4_MESH_11S     = 6,\n};\n\n/* values for vdev_subtype */\n\n/* values for vdev_start_request flags */\n/*\n * Indicates that AP VDEV uses hidden ssid. only valid for\n *  AP/GO\n */\n#define WMI_VDEV_START_HIDDEN_SSID  (1 << 0)\n/*\n * Indicates if robust management frame/management frame\n *  protection is enabled. For GO/AP vdevs, it indicates that\n *  it may support station/client associations with RMF enabled.\n *  For STA/client vdevs, it indicates that sta will\n *  associate with AP with RMF enabled.\n */\n#define WMI_VDEV_START_PMF_ENABLED  (1 << 1)\n\nstruct wmi_p2p_noa_descriptor {\n\t__le32 type_count; /* 255: continuous schedule, 0: reserved */\n\t__le32 duration;  /* Absent period duration in micro seconds */\n\t__le32 interval;   /* Absent period interval in micro seconds */\n\t__le32 start_time; /* 32 bit tsf time when in starts */\n} __packed;\n\nstruct wmi_vdev_start_request_cmd {\n\t/* WMI channel */\n\tstruct wmi_channel chan;\n\t/* unique id identifying the VDEV, generated by the caller */\n\t__le32 vdev_id;\n\t/* requestor id identifying the caller module */\n\t__le32 requestor_id;\n\t/* beacon interval from received beacon */\n\t__le32 beacon_interval;\n\t/* DTIM Period from the received beacon */\n\t__le32 dtim_period;\n\t/* Flags */\n\t__le32 flags;\n\t/* ssid field. Only valid for AP/GO/IBSS/BTAmp VDEV type. */\n\tstruct wmi_ssid ssid;\n\t/* beacon/probe response xmit rate. Applicable for SoftAP. */\n\t__le32 bcn_tx_rate;\n\t/* beacon/probe response xmit power. Applicable for SoftAP. */\n\t__le32 bcn_tx_power;\n\t/* number of p2p NOA descriptor(s) from scan entry */\n\t__le32 num_noa_descriptors;\n\t/*\n\t * Disable H/W ack. This used by WMI_VDEV_RESTART_REQUEST_CMDID.\n\t * During CAC, Our HW shouldn't ack ditected frames\n\t */\n\t__le32 disable_hw_ack;\n\t/* actual p2p NOA descriptor from scan entry */\n\tstruct wmi_p2p_noa_descriptor noa_descriptors[2];\n} __packed;\n\nstruct wmi_vdev_restart_request_cmd {\n\tstruct wmi_vdev_start_request_cmd vdev_start_request_cmd;\n} __packed;\n\nstruct wmi_vdev_start_request_arg {\n\tu32 vdev_id;\n\tstruct wmi_channel_arg channel;\n\tu32 bcn_intval;\n\tu32 dtim_period;\n\tu8 *ssid;\n\tu32 ssid_len;\n\tu32 bcn_tx_rate;\n\tu32 bcn_tx_power;\n\tbool disable_hw_ack;\n\tbool hidden_ssid;\n\tbool pmf_enabled;\n};\n\nstruct wmi_vdev_delete_cmd {\n\t/* unique id identifying the VDEV, generated by the caller */\n\t__le32 vdev_id;\n} __packed;\n\nstruct wmi_vdev_up_cmd {\n\t__le32 vdev_id;\n\t__le32 vdev_assoc_id;\n\tstruct wmi_mac_addr vdev_bssid;\n} __packed;\n\nstruct wmi_vdev_stop_cmd {\n\t__le32 vdev_id;\n} __packed;\n\nstruct wmi_vdev_down_cmd {\n\t__le32 vdev_id;\n} __packed;\n\nstruct wmi_vdev_standby_response_cmd {\n\t/* unique id identifying the VDEV, generated by the caller */\n\t__le32 vdev_id;\n} __packed;\n\nstruct wmi_vdev_resume_response_cmd {\n\t/* unique id identifying the VDEV, generated by the caller */\n\t__le32 vdev_id;\n} __packed;\n\nstruct wmi_vdev_set_param_cmd {\n\t__le32 vdev_id;\n\t__le32 param_id;\n\t__le32 param_value;\n} __packed;\n\n#define WMI_MAX_KEY_INDEX   3\n#define WMI_MAX_KEY_LEN     32\n\n#define WMI_KEY_PAIRWISE 0x00\n#define WMI_KEY_GROUP    0x01\n#define WMI_KEY_TX_USAGE 0x02 /* default tx key - static wep */\n\nstruct wmi_key_seq_counter {\n\t__le32 key_seq_counter_l;\n\t__le32 key_seq_counter_h;\n} __packed;\n\nenum wmi_cipher_suites {\n\tWMI_CIPHER_NONE,\n\tWMI_CIPHER_WEP,\n\tWMI_CIPHER_TKIP,\n\tWMI_CIPHER_AES_OCB,\n\tWMI_CIPHER_AES_CCM,\n\tWMI_CIPHER_WAPI,\n\tWMI_CIPHER_CKIP,\n\tWMI_CIPHER_AES_CMAC,\n\tWMI_CIPHER_AES_GCM,\n};\n\nenum wmi_tlv_cipher_suites {\n\tWMI_TLV_CIPHER_NONE,\n\tWMI_TLV_CIPHER_WEP,\n\tWMI_TLV_CIPHER_TKIP,\n\tWMI_TLV_CIPHER_AES_OCB,\n\tWMI_TLV_CIPHER_AES_CCM,\n\tWMI_TLV_CIPHER_WAPI,\n\tWMI_TLV_CIPHER_CKIP,\n\tWMI_TLV_CIPHER_AES_CMAC,\n\tWMI_TLV_CIPHER_ANY,\n\tWMI_TLV_CIPHER_AES_GCM,\n};\n\nstruct wmi_vdev_install_key_cmd {\n\t__le32 vdev_id;\n\tstruct wmi_mac_addr peer_macaddr;\n\t__le32 key_idx;\n\t__le32 key_flags;\n\t__le32 key_cipher; /* %WMI_CIPHER_ */\n\tstruct wmi_key_seq_counter key_rsc_counter;\n\tstruct wmi_key_seq_counter key_global_rsc_counter;\n\tstruct wmi_key_seq_counter key_tsc_counter;\n\tu8 wpi_key_rsc_counter[16];\n\tu8 wpi_key_tsc_counter[16];\n\t__le32 key_len;\n\t__le32 key_txmic_len;\n\t__le32 key_rxmic_len;\n\n\t/* contains key followed by tx mic followed by rx mic */\n\tu8 key_data[];\n} __packed;\n\nstruct wmi_vdev_install_key_arg {\n\tu32 vdev_id;\n\tconst u8 *macaddr;\n\tu32 key_idx;\n\tu32 key_flags;\n\tu32 key_cipher;\n\tu32 key_len;\n\tu32 key_txmic_len;\n\tu32 key_rxmic_len;\n\tconst void *key_data;\n};\n\n/*\n * vdev fixed rate format:\n * - preamble - b7:b6 - see WMI_RATE_PREMABLE_\n * - nss      - b5:b4 - ss number (0 mean 1ss)\n * - rate_mcs - b3:b0 - as below\n *    CCK:  0 - 11Mbps, 1 - 5,5Mbps, 2 - 2Mbps, 3 - 1Mbps,\n *          4 - 11Mbps (s), 5 - 5,5Mbps (s), 6 - 2Mbps (s)\n *    OFDM: 0 - 48Mbps, 1 - 24Mbps, 2 - 12Mbps, 3 - 6Mbps,\n *          4 - 54Mbps, 5 - 36Mbps, 6 - 18Mbps, 7 - 9Mbps\n *    HT/VHT: MCS index\n */\n\n/* Preamble types to be used with VDEV fixed rate configuration */\nenum wmi_rate_preamble {\n\tWMI_RATE_PREAMBLE_OFDM,\n\tWMI_RATE_PREAMBLE_CCK,\n\tWMI_RATE_PREAMBLE_HT,\n\tWMI_RATE_PREAMBLE_VHT,\n};\n\n#define ATH10K_HW_NSS(rate)\t\t(1 + (((rate) >> 4) & 0x3))\n#define ATH10K_HW_PREAMBLE(rate)\t(((rate) >> 6) & 0x3)\n#define ATH10K_HW_MCS_RATE(rate)\t((rate) & 0xf)\n#define ATH10K_HW_LEGACY_RATE(rate)\t((rate) & 0x3f)\n#define ATH10K_HW_BW(flags)\t\t(((flags) >> 3) & 0x3)\n#define ATH10K_HW_GI(flags)\t\t(((flags) >> 5) & 0x1)\n#define ATH10K_HW_RATECODE(rate, nss, preamble) \\\n\t(((preamble) << 6) | ((nss) << 4) | (rate))\n#define ATH10K_HW_AMPDU(flags)\t\t((flags) & 0x1)\n#define ATH10K_HW_BA_FAIL(flags)\t(((flags) >> 1) & 0x3)\n#define ATH10K_FW_SKIPPED_RATE_CTRL(flags)\t(((flags) >> 6) & 0x1)\n\n#define ATH10K_VHT_MCS_NUM\t10\n#define ATH10K_BW_NUM\t\t6\n#define ATH10K_NSS_NUM\t\t4\n#define ATH10K_LEGACY_NUM\t12\n#define ATH10K_GI_NUM\t\t2\n#define ATH10K_HT_MCS_NUM\t32\n#define ATH10K_RATE_TABLE_NUM\t320\n#define ATH10K_RATE_INFO_FLAGS_SGI_BIT\t2\n\n/* Value to disable fixed rate setting */\n#define WMI_FIXED_RATE_NONE    (0xff)\n\nstruct wmi_peer_param_map {\n\tu32 smps_state;\n\tu32 ampdu;\n\tu32 authorize;\n\tu32 chan_width;\n\tu32 nss;\n\tu32 use_4addr;\n\tu32 membership;\n\tu32 use_fixed_power;\n\tu32 user_pos;\n\tu32 crit_proto_hint_enabled;\n\tu32 tx_fail_cnt_thr;\n\tu32 set_hw_retry_cts2s;\n\tu32 ibss_atim_win_len;\n\tu32 debug;\n\tu32 phymode;\n\tu32 dummy_var;\n};\n\nstruct wmi_vdev_param_map {\n\tu32 rts_threshold;\n\tu32 fragmentation_threshold;\n\tu32 beacon_interval;\n\tu32 listen_interval;\n\tu32 multicast_rate;\n\tu32 mgmt_tx_rate;\n\tu32 slot_time;\n\tu32 preamble;\n\tu32 swba_time;\n\tu32 wmi_vdev_stats_update_period;\n\tu32 wmi_vdev_pwrsave_ageout_time;\n\tu32 wmi_vdev_host_swba_interval;\n\tu32 dtim_period;\n\tu32 wmi_vdev_oc_scheduler_air_time_limit;\n\tu32 wds;\n\tu32 atim_window;\n\tu32 bmiss_count_max;\n\tu32 bmiss_first_bcnt;\n\tu32 bmiss_final_bcnt;\n\tu32 feature_wmm;\n\tu32 chwidth;\n\tu32 chextoffset;\n\tu32 disable_htprotection;\n\tu32 sta_quickkickout;\n\tu32 mgmt_rate;\n\tu32 protection_mode;\n\tu32 fixed_rate;\n\tu32 sgi;\n\tu32 ldpc;\n\tu32 tx_stbc;\n\tu32 rx_stbc;\n\tu32 intra_bss_fwd;\n\tu32 def_keyid;\n\tu32 nss;\n\tu32 bcast_data_rate;\n\tu32 mcast_data_rate;\n\tu32 mcast_indicate;\n\tu32 dhcp_indicate;\n\tu32 unknown_dest_indicate;\n\tu32 ap_keepalive_min_idle_inactive_time_secs;\n\tu32 ap_keepalive_max_idle_inactive_time_secs;\n\tu32 ap_keepalive_max_unresponsive_time_secs;\n\tu32 ap_enable_nawds;\n\tu32 mcast2ucast_set;\n\tu32 enable_rtscts;\n\tu32 txbf;\n\tu32 packet_powersave;\n\tu32 drop_unencry;\n\tu32 tx_encap_type;\n\tu32 ap_detect_out_of_sync_sleeping_sta_time_secs;\n\tu32 rc_num_retries;\n\tu32 cabq_maxdur;\n\tu32 mfptest_set;\n\tu32 rts_fixed_rate;\n\tu32 vht_sgimask;\n\tu32 vht80_ratemask;\n\tu32 early_rx_adjust_enable;\n\tu32 early_rx_tgt_bmiss_num;\n\tu32 early_rx_bmiss_sample_cycle;\n\tu32 early_rx_slop_step;\n\tu32 early_rx_init_slop;\n\tu32 early_rx_adjust_pause;\n\tu32 proxy_sta;\n\tu32 meru_vc;\n\tu32 rx_decap_type;\n\tu32 bw_nss_ratemask;\n\tu32 inc_tsf;\n\tu32 dec_tsf;\n\tu32 disable_4addr_src_lrn;\n\tu32 rtt_responder_role;\n};\n\n#define WMI_VDEV_PARAM_UNSUPPORTED 0\n\n/* the definition of different VDEV parameters */\nenum wmi_vdev_param {\n\t/* RTS Threshold */\n\tWMI_VDEV_PARAM_RTS_THRESHOLD = 0x1,\n\t/* Fragmentation threshold */\n\tWMI_VDEV_PARAM_FRAGMENTATION_THRESHOLD,\n\t/* beacon interval in TUs */\n\tWMI_VDEV_PARAM_BEACON_INTERVAL,\n\t/* Listen interval in TUs */\n\tWMI_VDEV_PARAM_LISTEN_INTERVAL,\n\t/* multicast rate in Mbps */\n\tWMI_VDEV_PARAM_MULTICAST_RATE,\n\t/* management frame rate in Mbps */\n\tWMI_VDEV_PARAM_MGMT_TX_RATE,\n\t/* slot time (long vs short) */\n\tWMI_VDEV_PARAM_SLOT_TIME,\n\t/* preamble (long vs short) */\n\tWMI_VDEV_PARAM_PREAMBLE,\n\t/* SWBA time (time before tbtt in msec) */\n\tWMI_VDEV_PARAM_SWBA_TIME,\n\t/* time period for updating VDEV stats */\n\tWMI_VDEV_STATS_UPDATE_PERIOD,\n\t/* age out time in msec for frames queued for station in power save */\n\tWMI_VDEV_PWRSAVE_AGEOUT_TIME,\n\t/*\n\t * Host SWBA interval (time in msec before tbtt for SWBA event\n\t * generation).\n\t */\n\tWMI_VDEV_HOST_SWBA_INTERVAL,\n\t/* DTIM period (specified in units of num beacon intervals) */\n\tWMI_VDEV_PARAM_DTIM_PERIOD,\n\t/*\n\t * scheduler air time limit for this VDEV. used by off chan\n\t * scheduler.\n\t */\n\tWMI_VDEV_OC_SCHEDULER_AIR_TIME_LIMIT,\n\t/* enable/dsiable WDS for this VDEV  */\n\tWMI_VDEV_PARAM_WDS,\n\t/* ATIM Window */\n\tWMI_VDEV_PARAM_ATIM_WINDOW,\n\t/* BMISS max */\n\tWMI_VDEV_PARAM_BMISS_COUNT_MAX,\n\t/* BMISS first time */\n\tWMI_VDEV_PARAM_BMISS_FIRST_BCNT,\n\t/* BMISS final time */\n\tWMI_VDEV_PARAM_BMISS_FINAL_BCNT,\n\t/* WMM enables/disabled */\n\tWMI_VDEV_PARAM_FEATURE_WMM,\n\t/* Channel width */\n\tWMI_VDEV_PARAM_CHWIDTH,\n\t/* Channel Offset */\n\tWMI_VDEV_PARAM_CHEXTOFFSET,\n\t/* Disable HT Protection */\n\tWMI_VDEV_PARAM_DISABLE_HTPROTECTION,\n\t/* Quick STA Kickout */\n\tWMI_VDEV_PARAM_STA_QUICKKICKOUT,\n\t/* Rate to be used with Management frames */\n\tWMI_VDEV_PARAM_MGMT_RATE,\n\t/* Protection Mode */\n\tWMI_VDEV_PARAM_PROTECTION_MODE,\n\t/* Fixed rate setting */\n\tWMI_VDEV_PARAM_FIXED_RATE,\n\t/* Short GI Enable/Disable */\n\tWMI_VDEV_PARAM_SGI,\n\t/* Enable LDPC */\n\tWMI_VDEV_PARAM_LDPC,\n\t/* Enable Tx STBC */\n\tWMI_VDEV_PARAM_TX_STBC,\n\t/* Enable Rx STBC */\n\tWMI_VDEV_PARAM_RX_STBC,\n\t/* Intra BSS forwarding  */\n\tWMI_VDEV_PARAM_INTRA_BSS_FWD,\n\t/* Setting Default xmit key for Vdev */\n\tWMI_VDEV_PARAM_DEF_KEYID,\n\t/* NSS width */\n\tWMI_VDEV_PARAM_NSS,\n\t/* Set the custom rate for the broadcast data frames */\n\tWMI_VDEV_PARAM_BCAST_DATA_RATE,\n\t/* Set the custom rate (rate-code) for multicast data frames */\n\tWMI_VDEV_PARAM_MCAST_DATA_RATE,\n\t/* Tx multicast packet indicate Enable/Disable */\n\tWMI_VDEV_PARAM_MCAST_INDICATE,\n\t/* Tx DHCP packet indicate Enable/Disable */\n\tWMI_VDEV_PARAM_DHCP_INDICATE,\n\t/* Enable host inspection of Tx unicast packet to unknown destination */\n\tWMI_VDEV_PARAM_UNKNOWN_DEST_INDICATE,\n\n\t/* The minimum amount of time AP begins to consider STA inactive */\n\tWMI_VDEV_PARAM_AP_KEEPALIVE_MIN_IDLE_INACTIVE_TIME_SECS,\n\n\t/*\n\t * An associated STA is considered inactive when there is no recent\n\t * TX/RX activity and no downlink frames are buffered for it. Once a\n\t * STA exceeds the maximum idle inactive time, the AP will send an\n\t * 802.11 data-null as a keep alive to verify the STA is still\n\t * associated. If the STA does ACK the data-null, or if the data-null\n\t * is buffered and the STA does not retrieve it, the STA will be\n\t * considered unresponsive\n\t * (see WMI_VDEV_AP_KEEPALIVE_MAX_UNRESPONSIVE_TIME_SECS).\n\t */\n\tWMI_VDEV_PARAM_AP_KEEPALIVE_MAX_IDLE_INACTIVE_TIME_SECS,\n\n\t/*\n\t * An associated STA is considered unresponsive if there is no recent\n\t * TX/RX activity and downlink frames are buffered for it. Once a STA\n\t * exceeds the maximum unresponsive time, the AP will send a\n\t * WMI_STA_KICKOUT event to the host so the STA can be deleted.\n\t */\n\tWMI_VDEV_PARAM_AP_KEEPALIVE_MAX_UNRESPONSIVE_TIME_SECS,\n\n\t/* Enable NAWDS : MCAST INSPECT Enable, NAWDS Flag set */\n\tWMI_VDEV_PARAM_AP_ENABLE_NAWDS,\n\t/* Enable/Disable RTS-CTS */\n\tWMI_VDEV_PARAM_ENABLE_RTSCTS,\n\t/* Enable TXBFee/er */\n\tWMI_VDEV_PARAM_TXBF,\n\n\t/* Set packet power save */\n\tWMI_VDEV_PARAM_PACKET_POWERSAVE,\n\n\t/*\n\t * Drops un-encrypted packets if eceived in an encrypted connection\n\t * otherwise forwards to host.\n\t */\n\tWMI_VDEV_PARAM_DROP_UNENCRY,\n\n\t/*\n\t * Set the encapsulation type for frames.\n\t */\n\tWMI_VDEV_PARAM_TX_ENCAP_TYPE,\n};\n\n/* the definition of different VDEV parameters */\nenum wmi_10x_vdev_param {\n\t/* RTS Threshold */\n\tWMI_10X_VDEV_PARAM_RTS_THRESHOLD = 0x1,\n\t/* Fragmentation threshold */\n\tWMI_10X_VDEV_PARAM_FRAGMENTATION_THRESHOLD,\n\t/* beacon interval in TUs */\n\tWMI_10X_VDEV_PARAM_BEACON_INTERVAL,\n\t/* Listen interval in TUs */\n\tWMI_10X_VDEV_PARAM_LISTEN_INTERVAL,\n\t/* multicast rate in Mbps */\n\tWMI_10X_VDEV_PARAM_MULTICAST_RATE,\n\t/* management frame rate in Mbps */\n\tWMI_10X_VDEV_PARAM_MGMT_TX_RATE,\n\t/* slot time (long vs short) */\n\tWMI_10X_VDEV_PARAM_SLOT_TIME,\n\t/* preamble (long vs short) */\n\tWMI_10X_VDEV_PARAM_PREAMBLE,\n\t/* SWBA time (time before tbtt in msec) */\n\tWMI_10X_VDEV_PARAM_SWBA_TIME,\n\t/* time period for updating VDEV stats */\n\tWMI_10X_VDEV_STATS_UPDATE_PERIOD,\n\t/* age out time in msec for frames queued for station in power save */\n\tWMI_10X_VDEV_PWRSAVE_AGEOUT_TIME,\n\t/*\n\t * Host SWBA interval (time in msec before tbtt for SWBA event\n\t * generation).\n\t */\n\tWMI_10X_VDEV_HOST_SWBA_INTERVAL,\n\t/* DTIM period (specified in units of num beacon intervals) */\n\tWMI_10X_VDEV_PARAM_DTIM_PERIOD,\n\t/*\n\t * scheduler air time limit for this VDEV. used by off chan\n\t * scheduler.\n\t */\n\tWMI_10X_VDEV_OC_SCHEDULER_AIR_TIME_LIMIT,\n\t/* enable/dsiable WDS for this VDEV  */\n\tWMI_10X_VDEV_PARAM_WDS,\n\t/* ATIM Window */\n\tWMI_10X_VDEV_PARAM_ATIM_WINDOW,\n\t/* BMISS max */\n\tWMI_10X_VDEV_PARAM_BMISS_COUNT_MAX,\n\t/* WMM enables/disabled */\n\tWMI_10X_VDEV_PARAM_FEATURE_WMM,\n\t/* Channel width */\n\tWMI_10X_VDEV_PARAM_CHWIDTH,\n\t/* Channel Offset */\n\tWMI_10X_VDEV_PARAM_CHEXTOFFSET,\n\t/* Disable HT Protection */\n\tWMI_10X_VDEV_PARAM_DISABLE_HTPROTECTION,\n\t/* Quick STA Kickout */\n\tWMI_10X_VDEV_PARAM_STA_QUICKKICKOUT,\n\t/* Rate to be used with Management frames */\n\tWMI_10X_VDEV_PARAM_MGMT_RATE,\n\t/* Protection Mode */\n\tWMI_10X_VDEV_PARAM_PROTECTION_MODE,\n\t/* Fixed rate setting */\n\tWMI_10X_VDEV_PARAM_FIXED_RATE,\n\t/* Short GI Enable/Disable */\n\tWMI_10X_VDEV_PARAM_SGI,\n\t/* Enable LDPC */\n\tWMI_10X_VDEV_PARAM_LDPC,\n\t/* Enable Tx STBC */\n\tWMI_10X_VDEV_PARAM_TX_STBC,\n\t/* Enable Rx STBC */\n\tWMI_10X_VDEV_PARAM_RX_STBC,\n\t/* Intra BSS forwarding  */\n\tWMI_10X_VDEV_PARAM_INTRA_BSS_FWD,\n\t/* Setting Default xmit key for Vdev */\n\tWMI_10X_VDEV_PARAM_DEF_KEYID,\n\t/* NSS width */\n\tWMI_10X_VDEV_PARAM_NSS,\n\t/* Set the custom rate for the broadcast data frames */\n\tWMI_10X_VDEV_PARAM_BCAST_DATA_RATE,\n\t/* Set the custom rate (rate-code) for multicast data frames */\n\tWMI_10X_VDEV_PARAM_MCAST_DATA_RATE,\n\t/* Tx multicast packet indicate Enable/Disable */\n\tWMI_10X_VDEV_PARAM_MCAST_INDICATE,\n\t/* Tx DHCP packet indicate Enable/Disable */\n\tWMI_10X_VDEV_PARAM_DHCP_INDICATE,\n\t/* Enable host inspection of Tx unicast packet to unknown destination */\n\tWMI_10X_VDEV_PARAM_UNKNOWN_DEST_INDICATE,\n\n\t/* The minimum amount of time AP begins to consider STA inactive */\n\tWMI_10X_VDEV_PARAM_AP_KEEPALIVE_MIN_IDLE_INACTIVE_TIME_SECS,\n\n\t/*\n\t * An associated STA is considered inactive when there is no recent\n\t * TX/RX activity and no downlink frames are buffered for it. Once a\n\t * STA exceeds the maximum idle inactive time, the AP will send an\n\t * 802.11 data-null as a keep alive to verify the STA is still\n\t * associated. If the STA does ACK the data-null, or if the data-null\n\t * is buffered and the STA does not retrieve it, the STA will be\n\t * considered unresponsive\n\t * (see WMI_10X_VDEV_AP_KEEPALIVE_MAX_UNRESPONSIVE_TIME_SECS).\n\t */\n\tWMI_10X_VDEV_PARAM_AP_KEEPALIVE_MAX_IDLE_INACTIVE_TIME_SECS,\n\n\t/*\n\t * An associated STA is considered unresponsive if there is no recent\n\t * TX/RX activity and downlink frames are buffered for it. Once a STA\n\t * exceeds the maximum unresponsive time, the AP will send a\n\t * WMI_10X_STA_KICKOUT event to the host so the STA can be deleted.\n\t */\n\tWMI_10X_VDEV_PARAM_AP_KEEPALIVE_MAX_UNRESPONSIVE_TIME_SECS,\n\n\t/* Enable NAWDS : MCAST INSPECT Enable, NAWDS Flag set */\n\tWMI_10X_VDEV_PARAM_AP_ENABLE_NAWDS,\n\n\tWMI_10X_VDEV_PARAM_MCAST2UCAST_SET,\n\t/* Enable/Disable RTS-CTS */\n\tWMI_10X_VDEV_PARAM_ENABLE_RTSCTS,\n\n\tWMI_10X_VDEV_PARAM_AP_DETECT_OUT_OF_SYNC_SLEEPING_STA_TIME_SECS,\n\n\t/* following are available as of firmware 10.2 */\n\tWMI_10X_VDEV_PARAM_TX_ENCAP_TYPE,\n\tWMI_10X_VDEV_PARAM_CABQ_MAXDUR,\n\tWMI_10X_VDEV_PARAM_MFPTEST_SET,\n\tWMI_10X_VDEV_PARAM_RTS_FIXED_RATE,\n\tWMI_10X_VDEV_PARAM_VHT_SGIMASK,\n\tWMI_10X_VDEV_PARAM_VHT80_RATEMASK,\n\tWMI_10X_VDEV_PARAM_TSF_INCREMENT,\n};\n\nenum wmi_10_4_vdev_param {\n\tWMI_10_4_VDEV_PARAM_RTS_THRESHOLD = 0x1,\n\tWMI_10_4_VDEV_PARAM_FRAGMENTATION_THRESHOLD,\n\tWMI_10_4_VDEV_PARAM_BEACON_INTERVAL,\n\tWMI_10_4_VDEV_PARAM_LISTEN_INTERVAL,\n\tWMI_10_4_VDEV_PARAM_MULTICAST_RATE,\n\tWMI_10_4_VDEV_PARAM_MGMT_TX_RATE,\n\tWMI_10_4_VDEV_PARAM_SLOT_TIME,\n\tWMI_10_4_VDEV_PARAM_PREAMBLE,\n\tWMI_10_4_VDEV_PARAM_SWBA_TIME,\n\tWMI_10_4_VDEV_STATS_UPDATE_PERIOD,\n\tWMI_10_4_VDEV_PWRSAVE_AGEOUT_TIME,\n\tWMI_10_4_VDEV_HOST_SWBA_INTERVAL,\n\tWMI_10_4_VDEV_PARAM_DTIM_PERIOD,\n\tWMI_10_4_VDEV_OC_SCHEDULER_AIR_TIME_LIMIT,\n\tWMI_10_4_VDEV_PARAM_WDS,\n\tWMI_10_4_VDEV_PARAM_ATIM_WINDOW,\n\tWMI_10_4_VDEV_PARAM_BMISS_COUNT_MAX,\n\tWMI_10_4_VDEV_PARAM_BMISS_FIRST_BCNT,\n\tWMI_10_4_VDEV_PARAM_BMISS_FINAL_BCNT,\n\tWMI_10_4_VDEV_PARAM_FEATURE_WMM,\n\tWMI_10_4_VDEV_PARAM_CHWIDTH,\n\tWMI_10_4_VDEV_PARAM_CHEXTOFFSET,\n\tWMI_10_4_VDEV_PARAM_DISABLE_HTPROTECTION,\n\tWMI_10_4_VDEV_PARAM_STA_QUICKKICKOUT,\n\tWMI_10_4_VDEV_PARAM_MGMT_RATE,\n\tWMI_10_4_VDEV_PARAM_PROTECTION_MODE,\n\tWMI_10_4_VDEV_PARAM_FIXED_RATE,\n\tWMI_10_4_VDEV_PARAM_SGI,\n\tWMI_10_4_VDEV_PARAM_LDPC,\n\tWMI_10_4_VDEV_PARAM_TX_STBC,\n\tWMI_10_4_VDEV_PARAM_RX_STBC,\n\tWMI_10_4_VDEV_PARAM_INTRA_BSS_FWD,\n\tWMI_10_4_VDEV_PARAM_DEF_KEYID,\n\tWMI_10_4_VDEV_PARAM_NSS,\n\tWMI_10_4_VDEV_PARAM_BCAST_DATA_RATE,\n\tWMI_10_4_VDEV_PARAM_MCAST_DATA_RATE,\n\tWMI_10_4_VDEV_PARAM_MCAST_INDICATE,\n\tWMI_10_4_VDEV_PARAM_DHCP_INDICATE,\n\tWMI_10_4_VDEV_PARAM_UNKNOWN_DEST_INDICATE,\n\tWMI_10_4_VDEV_PARAM_AP_KEEPALIVE_MIN_IDLE_INACTIVE_TIME_SECS,\n\tWMI_10_4_VDEV_PARAM_AP_KEEPALIVE_MAX_IDLE_INACTIVE_TIME_SECS,\n\tWMI_10_4_VDEV_PARAM_AP_KEEPALIVE_MAX_UNRESPONSIVE_TIME_SECS,\n\tWMI_10_4_VDEV_PARAM_AP_ENABLE_NAWDS,\n\tWMI_10_4_VDEV_PARAM_MCAST2UCAST_SET,\n\tWMI_10_4_VDEV_PARAM_ENABLE_RTSCTS,\n\tWMI_10_4_VDEV_PARAM_RC_NUM_RETRIES,\n\tWMI_10_4_VDEV_PARAM_TXBF,\n\tWMI_10_4_VDEV_PARAM_PACKET_POWERSAVE,\n\tWMI_10_4_VDEV_PARAM_DROP_UNENCRY,\n\tWMI_10_4_VDEV_PARAM_TX_ENCAP_TYPE,\n\tWMI_10_4_VDEV_PARAM_AP_DETECT_OUT_OF_SYNC_SLEEPING_STA_TIME_SECS,\n\tWMI_10_4_VDEV_PARAM_CABQ_MAXDUR,\n\tWMI_10_4_VDEV_PARAM_MFPTEST_SET,\n\tWMI_10_4_VDEV_PARAM_RTS_FIXED_RATE,\n\tWMI_10_4_VDEV_PARAM_VHT_SGIMASK,\n\tWMI_10_4_VDEV_PARAM_VHT80_RATEMASK,\n\tWMI_10_4_VDEV_PARAM_EARLY_RX_ADJUST_ENABLE,\n\tWMI_10_4_VDEV_PARAM_EARLY_RX_TGT_BMISS_NUM,\n\tWMI_10_4_VDEV_PARAM_EARLY_RX_BMISS_SAMPLE_CYCLE,\n\tWMI_10_4_VDEV_PARAM_EARLY_RX_SLOP_STEP,\n\tWMI_10_4_VDEV_PARAM_EARLY_RX_INIT_SLOP,\n\tWMI_10_4_VDEV_PARAM_EARLY_RX_ADJUST_PAUSE,\n\tWMI_10_4_VDEV_PARAM_PROXY_STA,\n\tWMI_10_4_VDEV_PARAM_MERU_VC,\n\tWMI_10_4_VDEV_PARAM_RX_DECAP_TYPE,\n\tWMI_10_4_VDEV_PARAM_BW_NSS_RATEMASK,\n\tWMI_10_4_VDEV_PARAM_SENSOR_AP,\n\tWMI_10_4_VDEV_PARAM_BEACON_RATE,\n\tWMI_10_4_VDEV_PARAM_DTIM_ENABLE_CTS,\n\tWMI_10_4_VDEV_PARAM_STA_KICKOUT,\n\tWMI_10_4_VDEV_PARAM_CAPABILITIES,\n\tWMI_10_4_VDEV_PARAM_TSF_INCREMENT,\n\tWMI_10_4_VDEV_PARAM_RX_FILTER,\n\tWMI_10_4_VDEV_PARAM_MGMT_TX_POWER,\n\tWMI_10_4_VDEV_PARAM_ATF_SSID_SCHED_POLICY,\n\tWMI_10_4_VDEV_PARAM_DISABLE_DYN_BW_RTS,\n\tWMI_10_4_VDEV_PARAM_TSF_DECREMENT,\n\tWMI_10_4_VDEV_PARAM_SELFGEN_FIXED_RATE,\n\tWMI_10_4_VDEV_PARAM_AMPDU_SUBFRAME_SIZE_PER_AC,\n\tWMI_10_4_VDEV_PARAM_NSS_VHT160,\n\tWMI_10_4_VDEV_PARAM_NSS_VHT80_80,\n\tWMI_10_4_VDEV_PARAM_AMSDU_SUBFRAME_SIZE_PER_AC,\n\tWMI_10_4_VDEV_PARAM_DISABLE_CABQ,\n\tWMI_10_4_VDEV_PARAM_SIFS_TRIGGER_RATE,\n\tWMI_10_4_VDEV_PARAM_TX_POWER,\n\tWMI_10_4_VDEV_PARAM_ENABLE_DISABLE_RTT_RESPONDER_ROLE,\n\tWMI_10_4_VDEV_PARAM_DISABLE_4_ADDR_SRC_LRN,\n};\n\n#define WMI_VDEV_DISABLE_4_ADDR_SRC_LRN 1\n\n#define WMI_VDEV_PARAM_TXBF_SU_TX_BFEE BIT(0)\n#define WMI_VDEV_PARAM_TXBF_MU_TX_BFEE BIT(1)\n#define WMI_VDEV_PARAM_TXBF_SU_TX_BFER BIT(2)\n#define WMI_VDEV_PARAM_TXBF_MU_TX_BFER BIT(3)\n\n#define WMI_TXBF_STS_CAP_OFFSET_LSB\t4\n#define WMI_TXBF_STS_CAP_OFFSET_MASK\t0x70\n#define WMI_TXBF_CONF_IMPLICIT_BF       BIT(7)\n#define WMI_BF_SOUND_DIM_OFFSET_LSB\t8\n#define WMI_BF_SOUND_DIM_OFFSET_MASK\t0xf00\n\n/* slot time long */\n#define WMI_VDEV_SLOT_TIME_LONG\t\t0x1\n/* slot time short */\n#define WMI_VDEV_SLOT_TIME_SHORT\t0x2\n/* preablbe long */\n#define WMI_VDEV_PREAMBLE_LONG\t\t0x1\n/* preablbe short */\n#define WMI_VDEV_PREAMBLE_SHORT\t\t0x2\n\nenum wmi_start_event_param {\n\tWMI_VDEV_RESP_START_EVENT = 0,\n\tWMI_VDEV_RESP_RESTART_EVENT,\n};\n\nstruct wmi_vdev_start_response_event {\n\t__le32 vdev_id;\n\t__le32 req_id;\n\t__le32 resp_type; /* %WMI_VDEV_RESP_ */\n\t__le32 status;\n} __packed;\n\nstruct wmi_vdev_standby_req_event {\n\t/* unique id identifying the VDEV, generated by the caller */\n\t__le32 vdev_id;\n} __packed;\n\nstruct wmi_vdev_resume_req_event {\n\t/* unique id identifying the VDEV, generated by the caller */\n\t__le32 vdev_id;\n} __packed;\n\nstruct wmi_vdev_stopped_event {\n\t/* unique id identifying the VDEV, generated by the caller */\n\t__le32 vdev_id;\n} __packed;\n\n/*\n * common structure used for simple events\n * (stopped, resume_req, standby response)\n */\nstruct wmi_vdev_simple_event {\n\t/* unique id identifying the VDEV, generated by the caller */\n\t__le32 vdev_id;\n} __packed;\n\n/* VDEV start response status codes */\n/* VDEV successfully started */\n#define WMI_INIFIED_VDEV_START_RESPONSE_STATUS_SUCCESS\t0x0\n\n/* requested VDEV not found */\n#define WMI_INIFIED_VDEV_START_RESPONSE_INVALID_VDEVID\t0x1\n\n/* unsupported VDEV combination */\n#define WMI_INIFIED_VDEV_START_RESPONSE_NOT_SUPPORTED\t0x2\n\n/* TODO: please add more comments if you have in-depth information */\nstruct wmi_vdev_spectral_conf_cmd {\n\t__le32 vdev_id;\n\n\t/* number of fft samples to send (0 for infinite) */\n\t__le32 scan_count;\n\t__le32 scan_period;\n\t__le32 scan_priority;\n\n\t/* number of bins in the FFT: 2^(fft_size - bin_scale) */\n\t__le32 scan_fft_size;\n\t__le32 scan_gc_ena;\n\t__le32 scan_restart_ena;\n\t__le32 scan_noise_floor_ref;\n\t__le32 scan_init_delay;\n\t__le32 scan_nb_tone_thr;\n\t__le32 scan_str_bin_thr;\n\t__le32 scan_wb_rpt_mode;\n\t__le32 scan_rssi_rpt_mode;\n\t__le32 scan_rssi_thr;\n\t__le32 scan_pwr_format;\n\n\t/* rpt_mode: Format of FFT report to software for spectral scan\n\t * triggered FFTs:\n\t *\t0: No FFT report (only spectral scan summary report)\n\t *\t1: 2-dword summary of metrics for each completed FFT + spectral\n\t *\t   scan\tsummary report\n\t *\t2: 2-dword summary of metrics for each completed FFT +\n\t *\t   1x- oversampled bins(in-band) per FFT + spectral scan summary\n\t *\t   report\n\t *\t3: 2-dword summary of metrics for each completed FFT +\n\t *\t   2x- oversampled bins\t(all) per FFT + spectral scan summary\n\t */\n\t__le32 scan_rpt_mode;\n\t__le32 scan_bin_scale;\n\t__le32 scan_dbm_adj;\n\t__le32 scan_chn_mask;\n} __packed;\n\nstruct wmi_vdev_spectral_conf_arg {\n\tu32 vdev_id;\n\tu32 scan_count;\n\tu32 scan_period;\n\tu32 scan_priority;\n\tu32 scan_fft_size;\n\tu32 scan_gc_ena;\n\tu32 scan_restart_ena;\n\tu32 scan_noise_floor_ref;\n\tu32 scan_init_delay;\n\tu32 scan_nb_tone_thr;\n\tu32 scan_str_bin_thr;\n\tu32 scan_wb_rpt_mode;\n\tu32 scan_rssi_rpt_mode;\n\tu32 scan_rssi_thr;\n\tu32 scan_pwr_format;\n\tu32 scan_rpt_mode;\n\tu32 scan_bin_scale;\n\tu32 scan_dbm_adj;\n\tu32 scan_chn_mask;\n};\n\n#define WMI_SPECTRAL_ENABLE_DEFAULT              0\n#define WMI_SPECTRAL_COUNT_DEFAULT               0\n#define WMI_SPECTRAL_PERIOD_DEFAULT             35\n#define WMI_SPECTRAL_PRIORITY_DEFAULT            1\n#define WMI_SPECTRAL_FFT_SIZE_DEFAULT            7\n#define WMI_SPECTRAL_GC_ENA_DEFAULT              1\n#define WMI_SPECTRAL_RESTART_ENA_DEFAULT         0\n#define WMI_SPECTRAL_NOISE_FLOOR_REF_DEFAULT   -96\n#define WMI_SPECTRAL_INIT_DELAY_DEFAULT         80\n#define WMI_SPECTRAL_NB_TONE_THR_DEFAULT        12\n#define WMI_SPECTRAL_STR_BIN_THR_DEFAULT         8\n#define WMI_SPECTRAL_WB_RPT_MODE_DEFAULT         0\n#define WMI_SPECTRAL_RSSI_RPT_MODE_DEFAULT       0\n#define WMI_SPECTRAL_RSSI_THR_DEFAULT         0xf0\n#define WMI_SPECTRAL_PWR_FORMAT_DEFAULT          0\n#define WMI_SPECTRAL_RPT_MODE_DEFAULT            2\n#define WMI_SPECTRAL_BIN_SCALE_DEFAULT           1\n#define WMI_SPECTRAL_DBM_ADJ_DEFAULT             1\n#define WMI_SPECTRAL_CHN_MASK_DEFAULT            1\n\nstruct wmi_vdev_spectral_enable_cmd {\n\t__le32 vdev_id;\n\t__le32 trigger_cmd;\n\t__le32 enable_cmd;\n} __packed;\n\n#define WMI_SPECTRAL_TRIGGER_CMD_TRIGGER  1\n#define WMI_SPECTRAL_TRIGGER_CMD_CLEAR    2\n#define WMI_SPECTRAL_ENABLE_CMD_ENABLE    1\n#define WMI_SPECTRAL_ENABLE_CMD_DISABLE   2\n\n/* Beacon processing related command and event structures */\nstruct wmi_bcn_tx_hdr {\n\t__le32 vdev_id;\n\t__le32 tx_rate;\n\t__le32 tx_power;\n\t__le32 bcn_len;\n} __packed;\n\nstruct wmi_bcn_tx_cmd {\n\tstruct wmi_bcn_tx_hdr hdr;\n\tu8 *bcn[];\n} __packed;\n\nstruct wmi_bcn_tx_arg {\n\tu32 vdev_id;\n\tu32 tx_rate;\n\tu32 tx_power;\n\tu32 bcn_len;\n\tconst void *bcn;\n};\n\nenum wmi_bcn_tx_ref_flags {\n\tWMI_BCN_TX_REF_FLAG_DTIM_ZERO = 0x1,\n\tWMI_BCN_TX_REF_FLAG_DELIVER_CAB = 0x2,\n};\n\n/* TODO: It is unclear why \"no antenna\" works while any other seemingly valid\n * chainmask yields no beacons on the air at all.\n */\n#define WMI_BCN_TX_REF_DEF_ANTENNA 0\n\nstruct wmi_bcn_tx_ref_cmd {\n\t__le32 vdev_id;\n\t__le32 data_len;\n\t/* physical address of the frame - dma pointer */\n\t__le32 data_ptr;\n\t/* id for host to track */\n\t__le32 msdu_id;\n\t/* frame ctrl to setup PPDU desc */\n\t__le32 frame_control;\n\t/* to control CABQ traffic: WMI_BCN_TX_REF_FLAG_ */\n\t__le32 flags;\n\t/* introduced in 10.2 */\n\t__le32 antenna_mask;\n} __packed;\n\n/* Beacon filter */\n#define WMI_BCN_FILTER_ALL   0 /* Filter all beacons */\n#define WMI_BCN_FILTER_NONE  1 /* Pass all beacons */\n#define WMI_BCN_FILTER_RSSI  2 /* Pass Beacons RSSI >= RSSI threshold */\n#define WMI_BCN_FILTER_BSSID 3 /* Pass Beacons with matching BSSID */\n#define WMI_BCN_FILTER_SSID  4 /* Pass Beacons with matching SSID */\n\nstruct wmi_bcn_filter_rx_cmd {\n\t/* Filter ID */\n\t__le32 bcn_filter_id;\n\t/* Filter type - wmi_bcn_filter */\n\t__le32 bcn_filter;\n\t/* Buffer len */\n\t__le32 bcn_filter_len;\n\t/* Filter info (threshold, BSSID, RSSI) */\n\tu8 *bcn_filter_buf;\n} __packed;\n\n/* Capabilities and IEs to be passed to firmware */\nstruct wmi_bcn_prb_info {\n\t/* Capabilities */\n\t__le32 caps;\n\t/* ERP info */\n\t__le32 erp;\n\t/* Advanced capabilities */\n\t/* HT capabilities */\n\t/* HT Info */\n\t/* ibss_dfs */\n\t/* wpa Info */\n\t/* rsn Info */\n\t/* rrm info */\n\t/* ath_ext */\n\t/* app IE */\n} __packed;\n\nstruct wmi_bcn_tmpl_cmd {\n\t/* unique id identifying the VDEV, generated by the caller */\n\t__le32 vdev_id;\n\t/* TIM IE offset from the beginning of the template. */\n\t__le32 tim_ie_offset;\n\t/* beacon probe capabilities and IEs */\n\tstruct wmi_bcn_prb_info bcn_prb_info;\n\t/* beacon buffer length */\n\t__le32 buf_len;\n\t/* variable length data */\n\tu8 data[1];\n} __packed;\n\nstruct wmi_prb_tmpl_cmd {\n\t/* unique id identifying the VDEV, generated by the caller */\n\t__le32 vdev_id;\n\t/* beacon probe capabilities and IEs */\n\tstruct wmi_bcn_prb_info bcn_prb_info;\n\t/* beacon buffer length */\n\t__le32 buf_len;\n\t/* Variable length data */\n\tu8 data[1];\n} __packed;\n\nenum wmi_sta_ps_mode {\n\t/* enable power save for the given STA VDEV */\n\tWMI_STA_PS_MODE_DISABLED = 0,\n\t/* disable power save  for a given STA VDEV */\n\tWMI_STA_PS_MODE_ENABLED = 1,\n};\n\nstruct wmi_sta_powersave_mode_cmd {\n\t/* unique id identifying the VDEV, generated by the caller */\n\t__le32 vdev_id;\n\n\t/*\n\t * Power save mode\n\t * (see enum wmi_sta_ps_mode)\n\t */\n\t__le32 sta_ps_mode;\n} __packed;\n\nenum wmi_csa_offload_en {\n\tWMI_CSA_OFFLOAD_DISABLE = 0,\n\tWMI_CSA_OFFLOAD_ENABLE = 1,\n};\n\nstruct wmi_csa_offload_enable_cmd {\n\t__le32 vdev_id;\n\t__le32 csa_offload_enable;\n} __packed;\n\nstruct wmi_csa_offload_chanswitch_cmd {\n\t__le32 vdev_id;\n\tstruct wmi_channel chan;\n} __packed;\n\n/*\n * This parameter controls the policy for retrieving frames from AP while the\n * STA is in sleep state.\n *\n * Only takes affect if the sta_ps_mode is enabled\n */\nenum wmi_sta_ps_param_rx_wake_policy {\n\t/*\n\t * Wake up when ever there is an  RX activity on the VDEV. In this mode\n\t * the Power save SM(state machine) will come out of sleep by either\n\t * sending null frame (or) a data frame (with PS==0) in response to TIM\n\t * bit set in the received beacon frame from AP.\n\t */\n\tWMI_STA_PS_RX_WAKE_POLICY_WAKE = 0,\n\n\t/*\n\t * Here the power save state machine will not wakeup in response to TIM\n\t * bit, instead it will send a PSPOLL (or) UASPD trigger based on UAPSD\n\t * configuration setup by WMISET_PS_SET_UAPSD  WMI command.  When all\n\t * access categories are delivery-enabled, the station will send a\n\t * UAPSD trigger frame, otherwise it will send a PS-Poll.\n\t */\n\tWMI_STA_PS_RX_WAKE_POLICY_POLL_UAPSD = 1,\n};\n\n/*\n * Number of tx frames/beacon  that cause the power save SM to wake up.\n *\n * Value 1 causes the SM to wake up for every TX. Value 0 has a special\n * meaning, It will cause the SM to never wake up. This is useful if you want\n * to keep the system to sleep all the time for some kind of test mode . host\n * can change this parameter any time.  It will affect at the next tx frame.\n */\nenum wmi_sta_ps_param_tx_wake_threshold {\n\tWMI_STA_PS_TX_WAKE_THRESHOLD_NEVER = 0,\n\tWMI_STA_PS_TX_WAKE_THRESHOLD_ALWAYS = 1,\n\n\t/*\n\t * Values greater than one indicate that many TX attempts per beacon\n\t * interval before the STA will wake up\n\t */\n};\n\n/*\n * The maximum number of PS-Poll frames the FW will send in response to\n * traffic advertised in TIM before waking up (by sending a null frame with PS\n * = 0). Value 0 has a special meaning: there is no maximum count and the FW\n * will send as many PS-Poll as are necessary to retrieve buffered BU. This\n * parameter is used when the RX wake policy is\n * WMI_STA_PS_RX_WAKE_POLICY_POLL_UAPSD and ignored when the RX wake\n * policy is WMI_STA_PS_RX_WAKE_POLICY_WAKE.\n */\nenum wmi_sta_ps_param_pspoll_count {\n\tWMI_STA_PS_PSPOLL_COUNT_NO_MAX = 0,\n\t/*\n\t * Values greater than 0 indicate the maximum numer of PS-Poll frames\n\t * FW will send before waking up.\n\t */\n\n\t/* When u-APSD is enabled the firmware will be very reluctant to exit\n\t * STA PS. This could result in very poor Rx performance with STA doing\n\t * PS-Poll for each and every buffered frame. This value is a bit\n\t * arbitrary.\n\t */\n\tWMI_STA_PS_PSPOLL_COUNT_UAPSD = 3,\n};\n\n/*\n * This will include the delivery and trigger enabled state for every AC.\n * This is the negotiated state with AP. The host MLME needs to set this based\n * on AP capability and the state Set in the association request by the\n * station MLME.Lower 8 bits of the value specify the UAPSD configuration.\n */\n#define WMI_UAPSD_AC_TYPE_DELI 0\n#define WMI_UAPSD_AC_TYPE_TRIG 1\n\n#define WMI_UAPSD_AC_BIT_MASK(ac, type) \\\n\t(type == WMI_UAPSD_AC_TYPE_DELI ? 1 << (ac << 1) : 1 << ((ac << 1) + 1))\n\nenum wmi_sta_ps_param_uapsd {\n\tWMI_STA_PS_UAPSD_AC0_DELIVERY_EN = (1 << 0),\n\tWMI_STA_PS_UAPSD_AC0_TRIGGER_EN  = (1 << 1),\n\tWMI_STA_PS_UAPSD_AC1_DELIVERY_EN = (1 << 2),\n\tWMI_STA_PS_UAPSD_AC1_TRIGGER_EN  = (1 << 3),\n\tWMI_STA_PS_UAPSD_AC2_DELIVERY_EN = (1 << 4),\n\tWMI_STA_PS_UAPSD_AC2_TRIGGER_EN  = (1 << 5),\n\tWMI_STA_PS_UAPSD_AC3_DELIVERY_EN = (1 << 6),\n\tWMI_STA_PS_UAPSD_AC3_TRIGGER_EN  = (1 << 7),\n};\n\n#define WMI_STA_UAPSD_MAX_INTERVAL_MSEC UINT_MAX\n\nstruct wmi_sta_uapsd_auto_trig_param {\n\t__le32 wmm_ac;\n\t__le32 user_priority;\n\t__le32 service_interval;\n\t__le32 suspend_interval;\n\t__le32 delay_interval;\n};\n\nstruct wmi_sta_uapsd_auto_trig_cmd_fixed_param {\n\t__le32 vdev_id;\n\tstruct wmi_mac_addr peer_macaddr;\n\t__le32 num_ac;\n};\n\nstruct wmi_sta_uapsd_auto_trig_arg {\n\tu32 wmm_ac;\n\tu32 user_priority;\n\tu32 service_interval;\n\tu32 suspend_interval;\n\tu32 delay_interval;\n};\n\nenum wmi_sta_powersave_param {\n\t/*\n\t * Controls how frames are retrievd from AP while STA is sleeping\n\t *\n\t * (see enum wmi_sta_ps_param_rx_wake_policy)\n\t */\n\tWMI_STA_PS_PARAM_RX_WAKE_POLICY = 0,\n\n\t/*\n\t * The STA will go active after this many TX\n\t *\n\t * (see enum wmi_sta_ps_param_tx_wake_threshold)\n\t */\n\tWMI_STA_PS_PARAM_TX_WAKE_THRESHOLD = 1,\n\n\t/*\n\t * Number of PS-Poll to send before STA wakes up\n\t *\n\t * (see enum wmi_sta_ps_param_pspoll_count)\n\t *\n\t */\n\tWMI_STA_PS_PARAM_PSPOLL_COUNT = 2,\n\n\t/*\n\t * TX/RX inactivity time in msec before going to sleep.\n\t *\n\t * The power save SM will monitor tx/rx activity on the VDEV, if no\n\t * activity for the specified msec of the parameter the Power save\n\t * SM will go to sleep.\n\t */\n\tWMI_STA_PS_PARAM_INACTIVITY_TIME = 3,\n\n\t/*\n\t * Set uapsd configuration.\n\t *\n\t * (see enum wmi_sta_ps_param_uapsd)\n\t */\n\tWMI_STA_PS_PARAM_UAPSD = 4,\n};\n\nstruct wmi_sta_powersave_param_cmd {\n\t__le32 vdev_id;\n\t__le32 param_id; /* %WMI_STA_PS_PARAM_ */\n\t__le32 param_value;\n} __packed;\n\n/* No MIMO power save */\n#define WMI_STA_MIMO_PS_MODE_DISABLE\n/* mimo powersave mode static*/\n#define WMI_STA_MIMO_PS_MODE_STATIC\n/* mimo powersave mode dynamic */\n#define WMI_STA_MIMO_PS_MODE_DYNAMIC\n\nstruct wmi_sta_mimo_ps_mode_cmd {\n\t/* unique id identifying the VDEV, generated by the caller */\n\t__le32 vdev_id;\n\t/* mimo powersave mode as defined above */\n\t__le32 mimo_pwrsave_mode;\n} __packed;\n\n/* U-APSD configuration of peer station from (re)assoc request and TSPECs */\nenum wmi_ap_ps_param_uapsd {\n\tWMI_AP_PS_UAPSD_AC0_DELIVERY_EN = (1 << 0),\n\tWMI_AP_PS_UAPSD_AC0_TRIGGER_EN  = (1 << 1),\n\tWMI_AP_PS_UAPSD_AC1_DELIVERY_EN = (1 << 2),\n\tWMI_AP_PS_UAPSD_AC1_TRIGGER_EN  = (1 << 3),\n\tWMI_AP_PS_UAPSD_AC2_DELIVERY_EN = (1 << 4),\n\tWMI_AP_PS_UAPSD_AC2_TRIGGER_EN  = (1 << 5),\n\tWMI_AP_PS_UAPSD_AC3_DELIVERY_EN = (1 << 6),\n\tWMI_AP_PS_UAPSD_AC3_TRIGGER_EN  = (1 << 7),\n};\n\n/* U-APSD maximum service period of peer station */\nenum wmi_ap_ps_peer_param_max_sp {\n\tWMI_AP_PS_PEER_PARAM_MAX_SP_UNLIMITED = 0,\n\tWMI_AP_PS_PEER_PARAM_MAX_SP_2 = 1,\n\tWMI_AP_PS_PEER_PARAM_MAX_SP_4 = 2,\n\tWMI_AP_PS_PEER_PARAM_MAX_SP_6 = 3,\n\tMAX_WMI_AP_PS_PEER_PARAM_MAX_SP,\n};\n\n/*\n * AP power save parameter\n * Set a power save specific parameter for a peer station\n */\nenum wmi_ap_ps_peer_param {\n\t/* Set uapsd configuration for a given peer.\n\t *\n\t * Include the delivery and trigger enabled state for every AC.\n\t * The host  MLME needs to set this based on AP capability and stations\n\t * request Set in the association request  received from the station.\n\t *\n\t * Lower 8 bits of the value specify the UAPSD configuration.\n\t *\n\t * (see enum wmi_ap_ps_param_uapsd)\n\t * The default value is 0.\n\t */\n\tWMI_AP_PS_PEER_PARAM_UAPSD = 0,\n\n\t/*\n\t * Set the service period for a UAPSD capable station\n\t *\n\t * The service period from wme ie in the (re)assoc request frame.\n\t *\n\t * (see enum wmi_ap_ps_peer_param_max_sp)\n\t */\n\tWMI_AP_PS_PEER_PARAM_MAX_SP = 1,\n\n\t/* Time in seconds for aging out buffered frames for STA in PS */\n\tWMI_AP_PS_PEER_PARAM_AGEOUT_TIME = 2,\n};\n\nstruct wmi_ap_ps_peer_cmd {\n\t/* unique id identifying the VDEV, generated by the caller */\n\t__le32 vdev_id;\n\n\t/* peer MAC address */\n\tstruct wmi_mac_addr peer_macaddr;\n\n\t/* AP powersave param (see enum wmi_ap_ps_peer_param) */\n\t__le32 param_id;\n\n\t/* AP powersave param value */\n\t__le32 param_value;\n} __packed;\n\n/* 128 clients = 4 words */\n#define WMI_TIM_BITMAP_ARRAY_SIZE 4\n\nstruct wmi_tim_info {\n\t__le32 tim_len;\n\t__le32 tim_mcast;\n\t__le32 tim_bitmap[WMI_TIM_BITMAP_ARRAY_SIZE];\n\t__le32 tim_changed;\n\t__le32 tim_num_ps_pending;\n} __packed;\n\nstruct wmi_tim_info_arg {\n\t__le32 tim_len;\n\t__le32 tim_mcast;\n\tconst __le32 *tim_bitmap;\n\t__le32 tim_changed;\n\t__le32 tim_num_ps_pending;\n} __packed;\n\n/* Maximum number of NOA Descriptors supported */\n#define WMI_P2P_MAX_NOA_DESCRIPTORS 4\n#define WMI_P2P_OPPPS_ENABLE_BIT\tBIT(0)\n#define WMI_P2P_OPPPS_CTWINDOW_OFFSET\t1\n#define WMI_P2P_NOA_CHANGED_BIT\tBIT(0)\n\nstruct wmi_p2p_noa_info {\n\t/* Bit 0 - Flag to indicate an update in NOA schedule\n\t * Bits 7-1 - Reserved\n\t */\n\tu8 changed;\n\t/* NOA index */\n\tu8 index;\n\t/* Bit 0 - Opp PS state of the AP\n\t * Bits 1-7 - Ctwindow in TUs\n\t */\n\tu8 ctwindow_oppps;\n\t/* Number of NOA descriptors */\n\tu8 num_descriptors;\n\n\tstruct wmi_p2p_noa_descriptor descriptors[WMI_P2P_MAX_NOA_DESCRIPTORS];\n} __packed;\n\nstruct wmi_bcn_info {\n\tstruct wmi_tim_info tim_info;\n\tstruct wmi_p2p_noa_info p2p_noa_info;\n} __packed;\n\nstruct wmi_host_swba_event {\n\t__le32 vdev_map;\n\tstruct wmi_bcn_info bcn_info[];\n} __packed;\n\nstruct wmi_10_2_4_bcn_info {\n\tstruct wmi_tim_info tim_info;\n\t/* The 10.2.4 FW doesn't have p2p NOA info */\n} __packed;\n\nstruct wmi_10_2_4_host_swba_event {\n\t__le32 vdev_map;\n\tstruct wmi_10_2_4_bcn_info bcn_info[];\n} __packed;\n\n/* 16 words = 512 client + 1 word = for guard */\n#define WMI_10_4_TIM_BITMAP_ARRAY_SIZE 17\n\nstruct wmi_10_4_tim_info {\n\t__le32 tim_len;\n\t__le32 tim_mcast;\n\t__le32 tim_bitmap[WMI_10_4_TIM_BITMAP_ARRAY_SIZE];\n\t__le32 tim_changed;\n\t__le32 tim_num_ps_pending;\n} __packed;\n\n#define WMI_10_4_P2P_MAX_NOA_DESCRIPTORS 1\n\nstruct wmi_10_4_p2p_noa_info {\n\t/* Bit 0 - Flag to indicate an update in NOA schedule\n\t * Bits 7-1 - Reserved\n\t */\n\tu8 changed;\n\t/* NOA index */\n\tu8 index;\n\t/* Bit 0 - Opp PS state of the AP\n\t * Bits 1-7 - Ctwindow in TUs\n\t */\n\tu8 ctwindow_oppps;\n\t/* Number of NOA descriptors */\n\tu8 num_descriptors;\n\n\tstruct wmi_p2p_noa_descriptor\n\t\tnoa_descriptors[WMI_10_4_P2P_MAX_NOA_DESCRIPTORS];\n} __packed;\n\nstruct wmi_10_4_bcn_info {\n\tstruct wmi_10_4_tim_info tim_info;\n\tstruct wmi_10_4_p2p_noa_info p2p_noa_info;\n} __packed;\n\nstruct wmi_10_4_host_swba_event {\n\t__le32 vdev_map;\n\tstruct wmi_10_4_bcn_info bcn_info[];\n} __packed;\n\n#define WMI_MAX_AP_VDEV 16\n\nstruct wmi_tbtt_offset_event {\n\t__le32 vdev_map;\n\t__le32 tbttoffset_list[WMI_MAX_AP_VDEV];\n} __packed;\n\nstruct wmi_peer_create_cmd {\n\t__le32 vdev_id;\n\tstruct wmi_mac_addr peer_macaddr;\n\t__le32 peer_type;\n} __packed;\n\nenum wmi_peer_type {\n\tWMI_PEER_TYPE_DEFAULT = 0,\n\tWMI_PEER_TYPE_BSS = 1,\n\tWMI_PEER_TYPE_TDLS = 2,\n};\n\nstruct wmi_peer_delete_cmd {\n\t__le32 vdev_id;\n\tstruct wmi_mac_addr peer_macaddr;\n} __packed;\n\nstruct wmi_peer_flush_tids_cmd {\n\t__le32 vdev_id;\n\tstruct wmi_mac_addr peer_macaddr;\n\t__le32 peer_tid_bitmap;\n} __packed;\n\nstruct wmi_fixed_rate {\n\t/*\n\t * rate mode . 0: disable fixed rate (auto rate)\n\t *   1: legacy (non 11n) rate  specified as ieee rate 2*Mbps\n\t *   2: ht20 11n rate  specified as mcs index\n\t *   3: ht40 11n rate  specified as mcs index\n\t */\n\t__le32  rate_mode;\n\t/*\n\t * 4 rate values for 4 rate series. series 0 is stored in byte 0 (LSB)\n\t * and series 3 is stored at byte 3 (MSB)\n\t */\n\t__le32  rate_series;\n\t/*\n\t * 4 retry counts for 4 rate series. retry count for rate 0 is stored\n\t * in byte 0 (LSB) and retry count for rate 3 is stored at byte 3\n\t * (MSB)\n\t */\n\t__le32  rate_retries;\n} __packed;\n\nstruct wmi_peer_fixed_rate_cmd {\n\t/* unique id identifying the VDEV, generated by the caller */\n\t__le32 vdev_id;\n\t/* peer MAC address */\n\tstruct wmi_mac_addr peer_macaddr;\n\t/* fixed rate */\n\tstruct wmi_fixed_rate peer_fixed_rate;\n} __packed;\n\n#define WMI_MGMT_TID    17\n\nstruct wmi_addba_clear_resp_cmd {\n\t/* unique id identifying the VDEV, generated by the caller */\n\t__le32 vdev_id;\n\t/* peer MAC address */\n\tstruct wmi_mac_addr peer_macaddr;\n} __packed;\n\nstruct wmi_addba_send_cmd {\n\t/* unique id identifying the VDEV, generated by the caller */\n\t__le32 vdev_id;\n\t/* peer MAC address */\n\tstruct wmi_mac_addr peer_macaddr;\n\t/* Tid number */\n\t__le32 tid;\n\t/* Buffer/Window size*/\n\t__le32 buffersize;\n} __packed;\n\nstruct wmi_delba_send_cmd {\n\t/* unique id identifying the VDEV, generated by the caller */\n\t__le32 vdev_id;\n\t/* peer MAC address */\n\tstruct wmi_mac_addr peer_macaddr;\n\t/* Tid number */\n\t__le32 tid;\n\t/* Is Initiator */\n\t__le32 initiator;\n\t/* Reason code */\n\t__le32 reasoncode;\n} __packed;\n\nstruct wmi_addba_setresponse_cmd {\n\t/* unique id identifying the vdev, generated by the caller */\n\t__le32 vdev_id;\n\t/* peer mac address */\n\tstruct wmi_mac_addr peer_macaddr;\n\t/* Tid number */\n\t__le32 tid;\n\t/* status code */\n\t__le32 statuscode;\n} __packed;\n\nstruct wmi_send_singleamsdu_cmd {\n\t/* unique id identifying the vdev, generated by the caller */\n\t__le32 vdev_id;\n\t/* peer mac address */\n\tstruct wmi_mac_addr peer_macaddr;\n\t/* Tid number */\n\t__le32 tid;\n} __packed;\n\nenum wmi_peer_smps_state {\n\tWMI_PEER_SMPS_PS_NONE = 0x0,\n\tWMI_PEER_SMPS_STATIC  = 0x1,\n\tWMI_PEER_SMPS_DYNAMIC = 0x2\n};\n\nenum wmi_peer_chwidth {\n\tWMI_PEER_CHWIDTH_20MHZ = 0,\n\tWMI_PEER_CHWIDTH_40MHZ = 1,\n\tWMI_PEER_CHWIDTH_80MHZ = 2,\n\tWMI_PEER_CHWIDTH_160MHZ = 3,\n};\n\nenum wmi_peer_param {\n\tWMI_PEER_SMPS_STATE = 0x1, /* see %wmi_peer_smps_state */\n\tWMI_PEER_AMPDU      = 0x2,\n\tWMI_PEER_AUTHORIZE  = 0x3,\n\tWMI_PEER_CHAN_WIDTH = 0x4,\n\tWMI_PEER_NSS        = 0x5,\n\tWMI_PEER_USE_4ADDR  = 0x6,\n\tWMI_PEER_USE_FIXED_PWR = 0x8,\n\tWMI_PEER_PARAM_FIXED_RATE = 0x9,\n\tWMI_PEER_DEBUG      = 0xa,\n\tWMI_PEER_PHYMODE    = 0xd,\n\tWMI_PEER_DUMMY_VAR  = 0xff, /* dummy parameter for STA PS workaround */\n};\n\nstruct wmi_peer_set_param_cmd {\n\t__le32 vdev_id;\n\tstruct wmi_mac_addr peer_macaddr;\n\t__le32 param_id;\n\t__le32 param_value;\n} __packed;\n\n#define MAX_SUPPORTED_RATES 128\n\nstruct wmi_rate_set {\n\t/* total number of rates */\n\t__le32 num_rates;\n\t/*\n\t * rates (each 8bit value) packed into a 32 bit word.\n\t * the rates are filled from least significant byte to most\n\t * significant byte.\n\t */\n\t__le32 rates[(MAX_SUPPORTED_RATES / 4) + 1];\n} __packed;\n\nstruct wmi_rate_set_arg {\n\tunsigned int num_rates;\n\tu8 rates[MAX_SUPPORTED_RATES];\n};\n\n/*\n * NOTE: It would bea good idea to represent the Tx MCS\n * info in one word and Rx in another word. This is split\n * into multiple words for convenience\n */\nstruct wmi_vht_rate_set {\n\t__le32 rx_max_rate; /* Max Rx data rate */\n\t__le32 rx_mcs_set;  /* Negotiated RX VHT rates */\n\t__le32 tx_max_rate; /* Max Tx data rate */\n\t__le32 tx_mcs_set;  /* Negotiated TX VHT rates */\n} __packed;\n\nstruct wmi_vht_rate_set_arg {\n\tu32 rx_max_rate;\n\tu32 rx_mcs_set;\n\tu32 tx_max_rate;\n\tu32 tx_mcs_set;\n};\n\nstruct wmi_peer_set_rates_cmd {\n\t/* peer MAC address */\n\tstruct wmi_mac_addr peer_macaddr;\n\t/* legacy rate set */\n\tstruct wmi_rate_set peer_legacy_rates;\n\t/* ht rate set */\n\tstruct wmi_rate_set peer_ht_rates;\n} __packed;\n\nstruct wmi_peer_set_q_empty_callback_cmd {\n\t/* unique id identifying the VDEV, generated by the caller */\n\t__le32 vdev_id;\n\t/* peer MAC address */\n\tstruct wmi_mac_addr peer_macaddr;\n\t__le32 callback_enable;\n} __packed;\n\nstruct wmi_peer_flags_map {\n\tu32 auth;\n\tu32 qos;\n\tu32 need_ptk_4_way;\n\tu32 need_gtk_2_way;\n\tu32 apsd;\n\tu32 ht;\n\tu32 bw40;\n\tu32 stbc;\n\tu32 ldbc;\n\tu32 dyn_mimops;\n\tu32 static_mimops;\n\tu32 spatial_mux;\n\tu32 vht;\n\tu32 bw80;\n\tu32 vht_2g;\n\tu32 pmf;\n\tu32 bw160;\n};\n\nenum wmi_peer_flags {\n\tWMI_PEER_AUTH = 0x00000001,\n\tWMI_PEER_QOS = 0x00000002,\n\tWMI_PEER_NEED_PTK_4_WAY = 0x00000004,\n\tWMI_PEER_NEED_GTK_2_WAY = 0x00000010,\n\tWMI_PEER_APSD = 0x00000800,\n\tWMI_PEER_HT = 0x00001000,\n\tWMI_PEER_40MHZ = 0x00002000,\n\tWMI_PEER_STBC = 0x00008000,\n\tWMI_PEER_LDPC = 0x00010000,\n\tWMI_PEER_DYN_MIMOPS = 0x00020000,\n\tWMI_PEER_STATIC_MIMOPS = 0x00040000,\n\tWMI_PEER_SPATIAL_MUX = 0x00200000,\n\tWMI_PEER_VHT = 0x02000000,\n\tWMI_PEER_80MHZ = 0x04000000,\n\tWMI_PEER_VHT_2G = 0x08000000,\n\tWMI_PEER_PMF = 0x10000000,\n\tWMI_PEER_160MHZ = 0x20000000\n};\n\nenum wmi_10x_peer_flags {\n\tWMI_10X_PEER_AUTH = 0x00000001,\n\tWMI_10X_PEER_QOS = 0x00000002,\n\tWMI_10X_PEER_NEED_PTK_4_WAY = 0x00000004,\n\tWMI_10X_PEER_NEED_GTK_2_WAY = 0x00000010,\n\tWMI_10X_PEER_APSD = 0x00000800,\n\tWMI_10X_PEER_HT = 0x00001000,\n\tWMI_10X_PEER_40MHZ = 0x00002000,\n\tWMI_10X_PEER_STBC = 0x00008000,\n\tWMI_10X_PEER_LDPC = 0x00010000,\n\tWMI_10X_PEER_DYN_MIMOPS = 0x00020000,\n\tWMI_10X_PEER_STATIC_MIMOPS = 0x00040000,\n\tWMI_10X_PEER_SPATIAL_MUX = 0x00200000,\n\tWMI_10X_PEER_VHT = 0x02000000,\n\tWMI_10X_PEER_80MHZ = 0x04000000,\n\tWMI_10X_PEER_160MHZ = 0x20000000\n};\n\nenum wmi_10_2_peer_flags {\n\tWMI_10_2_PEER_AUTH = 0x00000001,\n\tWMI_10_2_PEER_QOS = 0x00000002,\n\tWMI_10_2_PEER_NEED_PTK_4_WAY = 0x00000004,\n\tWMI_10_2_PEER_NEED_GTK_2_WAY = 0x00000010,\n\tWMI_10_2_PEER_APSD = 0x00000800,\n\tWMI_10_2_PEER_HT = 0x00001000,\n\tWMI_10_2_PEER_40MHZ = 0x00002000,\n\tWMI_10_2_PEER_STBC = 0x00008000,\n\tWMI_10_2_PEER_LDPC = 0x00010000,\n\tWMI_10_2_PEER_DYN_MIMOPS = 0x00020000,\n\tWMI_10_2_PEER_STATIC_MIMOPS = 0x00040000,\n\tWMI_10_2_PEER_SPATIAL_MUX = 0x00200000,\n\tWMI_10_2_PEER_VHT = 0x02000000,\n\tWMI_10_2_PEER_80MHZ = 0x04000000,\n\tWMI_10_2_PEER_VHT_2G = 0x08000000,\n\tWMI_10_2_PEER_PMF = 0x10000000,\n\tWMI_10_2_PEER_160MHZ = 0x20000000\n};\n\n/*\n * Peer rate capabilities.\n *\n * This is of interest to the ratecontrol\n * module which resides in the firmware. The bit definitions are\n * consistent with that defined in if_athrate.c.\n */\n#define WMI_RC_DS_FLAG          0x01\n#define WMI_RC_CW40_FLAG        0x02\n#define WMI_RC_SGI_FLAG         0x04\n#define WMI_RC_HT_FLAG          0x08\n#define WMI_RC_RTSCTS_FLAG      0x10\n#define WMI_RC_TX_STBC_FLAG     0x20\n#define WMI_RC_RX_STBC_FLAG     0xC0\n#define WMI_RC_RX_STBC_FLAG_S   6\n#define WMI_RC_WEP_TKIP_FLAG    0x100\n#define WMI_RC_TS_FLAG          0x200\n#define WMI_RC_UAPSD_FLAG       0x400\n\n/* Maximum listen interval supported by hw in units of beacon interval */\n#define ATH10K_MAX_HW_LISTEN_INTERVAL 5\n\nstruct wmi_common_peer_assoc_complete_cmd {\n\tstruct wmi_mac_addr peer_macaddr;\n\t__le32 vdev_id;\n\t__le32 peer_new_assoc; /* 1=assoc, 0=reassoc */\n\t__le32 peer_associd; /* 16 LSBs */\n\t__le32 peer_flags;\n\t__le32 peer_caps; /* 16 LSBs */\n\t__le32 peer_listen_intval;\n\t__le32 peer_ht_caps;\n\t__le32 peer_max_mpdu;\n\t__le32 peer_mpdu_density; /* 0..16 */\n\t__le32 peer_rate_caps;\n\tstruct wmi_rate_set peer_legacy_rates;\n\tstruct wmi_rate_set peer_ht_rates;\n\t__le32 peer_nss; /* num of spatial streams */\n\t__le32 peer_vht_caps;\n\t__le32 peer_phymode;\n\tstruct wmi_vht_rate_set peer_vht_rates;\n};\n\nstruct wmi_main_peer_assoc_complete_cmd {\n\tstruct wmi_common_peer_assoc_complete_cmd cmd;\n\n\t/* HT Operation Element of the peer. Five bytes packed in 2\n\t *  INT32 array and filled from lsb to msb.\n\t */\n\t__le32 peer_ht_info[2];\n} __packed;\n\nstruct wmi_10_1_peer_assoc_complete_cmd {\n\tstruct wmi_common_peer_assoc_complete_cmd cmd;\n} __packed;\n\n#define WMI_PEER_ASSOC_INFO0_MAX_MCS_IDX_LSB 0\n#define WMI_PEER_ASSOC_INFO0_MAX_MCS_IDX_MASK 0x0f\n#define WMI_PEER_ASSOC_INFO0_MAX_NSS_LSB 4\n#define WMI_PEER_ASSOC_INFO0_MAX_NSS_MASK 0xf0\n\nstruct wmi_10_2_peer_assoc_complete_cmd {\n\tstruct wmi_common_peer_assoc_complete_cmd cmd;\n\t__le32 info0; /* WMI_PEER_ASSOC_INFO0_ */\n} __packed;\n\n/* NSS Mapping to FW */\n#define WMI_PEER_NSS_MAP_ENABLE\tBIT(31)\n#define WMI_PEER_NSS_160MHZ_MASK\tGENMASK(2, 0)\n#define WMI_PEER_NSS_80_80MHZ_MASK\tGENMASK(5, 3)\n\nstruct wmi_10_4_peer_assoc_complete_cmd {\n\tstruct wmi_10_2_peer_assoc_complete_cmd cmd;\n\t__le32 peer_bw_rxnss_override;\n} __packed;\n\nstruct wmi_peer_assoc_complete_arg {\n\tu8 addr[ETH_ALEN];\n\tu32 vdev_id;\n\tbool peer_reassoc;\n\tu16 peer_aid;\n\tu32 peer_flags; /* see %WMI_PEER_ */\n\tu16 peer_caps;\n\tu32 peer_listen_intval;\n\tu32 peer_ht_caps;\n\tu32 peer_max_mpdu;\n\tu32 peer_mpdu_density; /* 0..16 */\n\tu32 peer_rate_caps; /* see %WMI_RC_ */\n\tstruct wmi_rate_set_arg peer_legacy_rates;\n\tstruct wmi_rate_set_arg peer_ht_rates;\n\tu32 peer_num_spatial_streams;\n\tu32 peer_vht_caps;\n\tenum wmi_phy_mode peer_phymode;\n\tstruct wmi_vht_rate_set_arg peer_vht_rates;\n\tu32 peer_bw_rxnss_override;\n};\n\nstruct wmi_peer_add_wds_entry_cmd {\n\t/* peer MAC address */\n\tstruct wmi_mac_addr peer_macaddr;\n\t/* wds MAC addr */\n\tstruct wmi_mac_addr wds_macaddr;\n} __packed;\n\nstruct wmi_peer_remove_wds_entry_cmd {\n\t/* wds MAC addr */\n\tstruct wmi_mac_addr wds_macaddr;\n} __packed;\n\nstruct wmi_peer_q_empty_callback_event {\n\t/* peer MAC address */\n\tstruct wmi_mac_addr peer_macaddr;\n} __packed;\n\n/*\n * Channel info WMI event\n */\nstruct wmi_chan_info_event {\n\t__le32 err_code;\n\t__le32 freq;\n\t__le32 cmd_flags;\n\t__le32 noise_floor;\n\t__le32 rx_clear_count;\n\t__le32 cycle_count;\n} __packed;\n\nstruct wmi_10_4_chan_info_event {\n\t__le32 err_code;\n\t__le32 freq;\n\t__le32 cmd_flags;\n\t__le32 noise_floor;\n\t__le32 rx_clear_count;\n\t__le32 cycle_count;\n\t__le32 chan_tx_pwr_range;\n\t__le32 chan_tx_pwr_tp;\n\t__le32 rx_frame_count;\n} __packed;\n\nstruct wmi_peer_sta_kickout_event {\n\tstruct wmi_mac_addr peer_macaddr;\n} __packed;\n\n#define WMI_CHAN_INFO_FLAG_COMPLETE BIT(0)\n#define WMI_CHAN_INFO_FLAG_PRE_COMPLETE BIT(1)\n\n/* Beacon filter wmi command info */\n#define BCN_FLT_MAX_SUPPORTED_IES\t256\n#define BCN_FLT_MAX_ELEMS_IE_LIST\t(BCN_FLT_MAX_SUPPORTED_IES / 32)\n\nstruct bss_bcn_stats {\n\t__le32 vdev_id;\n\t__le32 bss_bcnsdropped;\n\t__le32 bss_bcnsdelivered;\n} __packed;\n\nstruct bcn_filter_stats {\n\t__le32 bcns_dropped;\n\t__le32 bcns_delivered;\n\t__le32 activefilters;\n\tstruct bss_bcn_stats bss_stats;\n} __packed;\n\nstruct wmi_add_bcn_filter_cmd {\n\tu32 vdev_id;\n\tu32 ie_map[BCN_FLT_MAX_ELEMS_IE_LIST];\n} __packed;\n\nenum wmi_sta_keepalive_method {\n\tWMI_STA_KEEPALIVE_METHOD_NULL_FRAME = 1,\n\tWMI_STA_KEEPALIVE_METHOD_UNSOLICITATED_ARP_RESPONSE = 2,\n};\n\n#define WMI_STA_KEEPALIVE_INTERVAL_DISABLE 0\n\n/* Firmware crashes if keepalive interval exceeds this limit */\n#define WMI_STA_KEEPALIVE_INTERVAL_MAX_SECONDS 0xffff\n\n/* note: ip4 addresses are in network byte order, i.e. big endian */\nstruct wmi_sta_keepalive_arp_resp {\n\t__be32 src_ip4_addr;\n\t__be32 dest_ip4_addr;\n\tstruct wmi_mac_addr dest_mac_addr;\n} __packed;\n\nstruct wmi_sta_keepalive_cmd {\n\t__le32 vdev_id;\n\t__le32 enabled;\n\t__le32 method; /* WMI_STA_KEEPALIVE_METHOD_ */\n\t__le32 interval; /* in seconds */\n\tstruct wmi_sta_keepalive_arp_resp arp_resp;\n} __packed;\n\nstruct wmi_sta_keepalive_arg {\n\tu32 vdev_id;\n\tu32 enabled;\n\tu32 method;\n\tu32 interval;\n\t__be32 src_ip4_addr;\n\t__be32 dest_ip4_addr;\n\tconst u8 dest_mac_addr[ETH_ALEN];\n};\n\nenum wmi_force_fw_hang_type {\n\tWMI_FORCE_FW_HANG_ASSERT = 1,\n\tWMI_FORCE_FW_HANG_NO_DETECT,\n\tWMI_FORCE_FW_HANG_CTRL_EP_FULL,\n\tWMI_FORCE_FW_HANG_EMPTY_POINT,\n\tWMI_FORCE_FW_HANG_STACK_OVERFLOW,\n\tWMI_FORCE_FW_HANG_INFINITE_LOOP,\n};\n\n#define WMI_FORCE_FW_HANG_RANDOM_TIME 0xFFFFFFFF\n\nstruct wmi_force_fw_hang_cmd {\n\t__le32 type;\n\t__le32 delay_ms;\n} __packed;\n\nenum wmi_pdev_reset_mode_type {\n\tWMI_RST_MODE_TX_FLUSH = 1,\n\tWMI_RST_MODE_WARM_RESET,\n\tWMI_RST_MODE_COLD_RESET,\n\tWMI_RST_MODE_WARM_RESET_RESTORE_CAL,\n\tWMI_RST_MODE_COLD_RESET_RESTORE_CAL,\n\tWMI_RST_MODE_MAX,\n};\n\nenum ath10k_dbglog_level {\n\tATH10K_DBGLOG_LEVEL_VERBOSE = 0,\n\tATH10K_DBGLOG_LEVEL_INFO = 1,\n\tATH10K_DBGLOG_LEVEL_WARN = 2,\n\tATH10K_DBGLOG_LEVEL_ERR = 3,\n};\n\n/* VAP ids to enable dbglog */\n#define ATH10K_DBGLOG_CFG_VAP_LOG_LSB\t\t0\n#define ATH10K_DBGLOG_CFG_VAP_LOG_MASK\t\t0x0000ffff\n\n/* to enable dbglog in the firmware */\n#define ATH10K_DBGLOG_CFG_REPORTING_ENABLE_LSB\t16\n#define ATH10K_DBGLOG_CFG_REPORTING_ENABLE_MASK\t0x00010000\n\n/* timestamp resolution */\n#define ATH10K_DBGLOG_CFG_RESOLUTION_LSB\t17\n#define ATH10K_DBGLOG_CFG_RESOLUTION_MASK\t0x000E0000\n\n/* number of queued messages before sending them to the host */\n#define ATH10K_DBGLOG_CFG_REPORT_SIZE_LSB\t20\n#define ATH10K_DBGLOG_CFG_REPORT_SIZE_MASK\t0x0ff00000\n\n/*\n * Log levels to enable. This defines the minimum level to enable, this is\n * not a bitmask. See enum ath10k_dbglog_level for the values.\n */\n#define ATH10K_DBGLOG_CFG_LOG_LVL_LSB\t\t28\n#define ATH10K_DBGLOG_CFG_LOG_LVL_MASK\t\t0x70000000\n\n/*\n * Note: this is a cleaned up version of a struct firmware uses. For\n * example, config_valid was hidden inside an array.\n */\nstruct wmi_dbglog_cfg_cmd {\n\t/* bitmask to hold mod id config*/\n\t__le32 module_enable;\n\n\t/* see ATH10K_DBGLOG_CFG_ */\n\t__le32 config_enable;\n\n\t/* mask of module id bits to be changed */\n\t__le32 module_valid;\n\n\t/* mask of config bits to be changed, see ATH10K_DBGLOG_CFG_ */\n\t__le32 config_valid;\n} __packed;\n\nstruct wmi_10_4_dbglog_cfg_cmd {\n\t/* bitmask to hold mod id config*/\n\t__le64 module_enable;\n\n\t/* see ATH10K_DBGLOG_CFG_ */\n\t__le32 config_enable;\n\n\t/* mask of module id bits to be changed */\n\t__le64 module_valid;\n\n\t/* mask of config bits to be changed, see ATH10K_DBGLOG_CFG_ */\n\t__le32 config_valid;\n} __packed;\n\nenum wmi_roam_reason {\n\tWMI_ROAM_REASON_BETTER_AP = 1,\n\tWMI_ROAM_REASON_BEACON_MISS = 2,\n\tWMI_ROAM_REASON_LOW_RSSI = 3,\n\tWMI_ROAM_REASON_SUITABLE_AP_FOUND = 4,\n\tWMI_ROAM_REASON_HO_FAILED = 5,\n\n\t/* keep last */\n\tWMI_ROAM_REASON_MAX,\n};\n\nstruct wmi_roam_ev {\n\t__le32 vdev_id;\n\t__le32 reason;\n} __packed;\n\n#define ATH10K_FRAGMT_THRESHOLD_MIN\t540\n#define ATH10K_FRAGMT_THRESHOLD_MAX\t2346\n\n#define WMI_MAX_EVENT 0x1000\n/* Maximum number of pending TXed WMI packets */\n#define WMI_SKB_HEADROOM sizeof(struct wmi_cmd_hdr)\n\n/* By default disable power save for IBSS */\n#define ATH10K_DEFAULT_ATIM 0\n\n#define WMI_MAX_MEM_REQS 16\n\nstruct wmi_scan_ev_arg {\n\t__le32 event_type; /* %WMI_SCAN_EVENT_ */\n\t__le32 reason; /* %WMI_SCAN_REASON_ */\n\t__le32 channel_freq; /* only valid for WMI_SCAN_EVENT_FOREIGN_CHANNEL */\n\t__le32 scan_req_id;\n\t__le32 scan_id;\n\t__le32 vdev_id;\n};\n\nstruct mgmt_tx_compl_params {\n\tu32 desc_id;\n\tu32 status;\n\tu32 ppdu_id;\n\tint ack_rssi;\n};\n\nstruct wmi_tlv_mgmt_tx_compl_ev_arg {\n\t__le32 desc_id;\n\t__le32 status;\n\t__le32 pdev_id;\n\t__le32 ppdu_id;\n\t__le32 ack_rssi;\n};\n\nstruct wmi_tlv_mgmt_tx_bundle_compl_ev_arg {\n\t__le32 num_reports;\n\tconst __le32 *desc_ids;\n\tconst __le32 *status;\n\tconst __le32 *ppdu_ids;\n\tconst __le32 *ack_rssi;\n};\n\nstruct wmi_peer_delete_resp_ev_arg {\n\t__le32 vdev_id;\n\tstruct wmi_mac_addr peer_addr;\n};\n\n#define WMI_MGMT_RX_NUM_RSSI 4\nstruct wmi_mgmt_rx_ev_arg {\n\t__le32 channel;\n\t__le32 snr;\n\t__le32 rate;\n\t__le32 phy_mode;\n\t__le32 buf_len;\n\t__le32 status; /* %WMI_RX_STATUS_ */\n\tstruct wmi_mgmt_rx_ext_info ext_info;\n\t__le32 rssi[WMI_MGMT_RX_NUM_RSSI];\n};\n\nstruct wmi_ch_info_ev_arg {\n\t__le32 err_code;\n\t__le32 freq;\n\t__le32 cmd_flags;\n\t__le32 noise_floor;\n\t__le32 rx_clear_count;\n\t__le32 cycle_count;\n\t__le32 chan_tx_pwr_range;\n\t__le32 chan_tx_pwr_tp;\n\t__le32 rx_frame_count;\n\t__le32 my_bss_rx_cycle_count;\n\t__le32 rx_11b_mode_data_duration;\n\t__le32 tx_frame_cnt;\n\t__le32 mac_clk_mhz;\n};\n\n/* From 10.4 firmware, not sure all have the same values. */\nenum wmi_vdev_start_status {\n\tWMI_VDEV_START_OK = 0,\n\tWMI_VDEV_START_CHAN_INVALID,\n};\n\nstruct wmi_vdev_start_ev_arg {\n\t__le32 vdev_id;\n\t__le32 req_id;\n\t__le32 resp_type; /* %WMI_VDEV_RESP_ */\n\t__le32 status; /* See wmi_vdev_start_status enum above */\n};\n\nstruct wmi_peer_kick_ev_arg {\n\tconst u8 *mac_addr;\n};\n\nstruct wmi_swba_ev_arg {\n\t__le32 vdev_map;\n\tstruct wmi_tim_info_arg tim_info[WMI_MAX_AP_VDEV];\n\tconst struct wmi_p2p_noa_info *noa_info[WMI_MAX_AP_VDEV];\n};\n\nstruct wmi_phyerr_ev_arg {\n\tu32 tsf_timestamp;\n\tu16 freq1;\n\tu16 freq2;\n\tu8 rssi_combined;\n\tu8 chan_width_mhz;\n\tu8 phy_err_code;\n\tu16 nf_chains[4];\n\tu32 buf_len;\n\tconst u8 *buf;\n\tu8 hdr_len;\n};\n\nstruct wmi_phyerr_hdr_arg {\n\tu32 num_phyerrs;\n\tu32 tsf_l32;\n\tu32 tsf_u32;\n\tu32 buf_len;\n\tconst void *phyerrs;\n};\n\nstruct wmi_dfs_status_ev_arg {\n\tu32 status;\n};\n\nstruct wmi_svc_rdy_ev_arg {\n\t__le32 min_tx_power;\n\t__le32 max_tx_power;\n\t__le32 ht_cap;\n\t__le32 vht_cap;\n\t__le32 vht_supp_mcs;\n\t__le32 sw_ver0;\n\t__le32 sw_ver1;\n\t__le32 fw_build;\n\t__le32 phy_capab;\n\t__le32 num_rf_chains;\n\t__le32 eeprom_rd;\n\t__le32 num_mem_reqs;\n\t__le32 low_2ghz_chan;\n\t__le32 high_2ghz_chan;\n\t__le32 low_5ghz_chan;\n\t__le32 high_5ghz_chan;\n\t__le32 sys_cap_info;\n\tconst __le32 *service_map;\n\tsize_t service_map_len;\n\tconst struct wlan_host_mem_req *mem_reqs[WMI_MAX_MEM_REQS];\n};\n\nstruct wmi_svc_avail_ev_arg {\n\t__le32 service_map_ext_len;\n\tconst __le32 *service_map_ext;\n};\n\nstruct wmi_rdy_ev_arg {\n\t__le32 sw_version;\n\t__le32 abi_version;\n\t__le32 status;\n\tconst u8 *mac_addr;\n};\n\nstruct wmi_roam_ev_arg {\n\t__le32 vdev_id;\n\t__le32 reason;\n\t__le32 rssi;\n};\n\nstruct wmi_echo_ev_arg {\n\t__le32 value;\n};\n\nstruct wmi_pdev_temperature_event {\n\t/* temperature value in Celcius degree */\n\t__le32 temperature;\n} __packed;\n\nstruct wmi_pdev_bss_chan_info_event {\n\t__le32 freq;\n\t__le32 noise_floor;\n\t__le64 cycle_busy;\n\t__le64 cycle_total;\n\t__le64 cycle_tx;\n\t__le64 cycle_rx;\n\t__le64 cycle_rx_bss;\n\t__le32 reserved;\n} __packed;\n\n/* WOW structures */\nenum wmi_wow_wakeup_event {\n\tWOW_BMISS_EVENT = 0,\n\tWOW_BETTER_AP_EVENT,\n\tWOW_DEAUTH_RECVD_EVENT,\n\tWOW_MAGIC_PKT_RECVD_EVENT,\n\tWOW_GTK_ERR_EVENT,\n\tWOW_FOURWAY_HSHAKE_EVENT,\n\tWOW_EAPOL_RECVD_EVENT,\n\tWOW_NLO_DETECTED_EVENT,\n\tWOW_DISASSOC_RECVD_EVENT,\n\tWOW_PATTERN_MATCH_EVENT,\n\tWOW_CSA_IE_EVENT,\n\tWOW_PROBE_REQ_WPS_IE_EVENT,\n\tWOW_AUTH_REQ_EVENT,\n\tWOW_ASSOC_REQ_EVENT,\n\tWOW_HTT_EVENT,\n\tWOW_RA_MATCH_EVENT,\n\tWOW_HOST_AUTO_SHUTDOWN_EVENT,\n\tWOW_IOAC_MAGIC_EVENT,\n\tWOW_IOAC_SHORT_EVENT,\n\tWOW_IOAC_EXTEND_EVENT,\n\tWOW_IOAC_TIMER_EVENT,\n\tWOW_DFS_PHYERR_RADAR_EVENT,\n\tWOW_BEACON_EVENT,\n\tWOW_CLIENT_KICKOUT_EVENT,\n\tWOW_EVENT_MAX,\n};\n\n#define C2S(x) case x: return #x\n\nstatic inline const char *wow_wakeup_event(enum wmi_wow_wakeup_event ev)\n{\n\tswitch (ev) {\n\tC2S(WOW_BMISS_EVENT);\n\tC2S(WOW_BETTER_AP_EVENT);\n\tC2S(WOW_DEAUTH_RECVD_EVENT);\n\tC2S(WOW_MAGIC_PKT_RECVD_EVENT);\n\tC2S(WOW_GTK_ERR_EVENT);\n\tC2S(WOW_FOURWAY_HSHAKE_EVENT);\n\tC2S(WOW_EAPOL_RECVD_EVENT);\n\tC2S(WOW_NLO_DETECTED_EVENT);\n\tC2S(WOW_DISASSOC_RECVD_EVENT);\n\tC2S(WOW_PATTERN_MATCH_EVENT);\n\tC2S(WOW_CSA_IE_EVENT);\n\tC2S(WOW_PROBE_REQ_WPS_IE_EVENT);\n\tC2S(WOW_AUTH_REQ_EVENT);\n\tC2S(WOW_ASSOC_REQ_EVENT);\n\tC2S(WOW_HTT_EVENT);\n\tC2S(WOW_RA_MATCH_EVENT);\n\tC2S(WOW_HOST_AUTO_SHUTDOWN_EVENT);\n\tC2S(WOW_IOAC_MAGIC_EVENT);\n\tC2S(WOW_IOAC_SHORT_EVENT);\n\tC2S(WOW_IOAC_EXTEND_EVENT);\n\tC2S(WOW_IOAC_TIMER_EVENT);\n\tC2S(WOW_DFS_PHYERR_RADAR_EVENT);\n\tC2S(WOW_BEACON_EVENT);\n\tC2S(WOW_CLIENT_KICKOUT_EVENT);\n\tC2S(WOW_EVENT_MAX);\n\tdefault:\n\t\treturn NULL;\n\t}\n}\n\nenum wmi_wow_wake_reason {\n\tWOW_REASON_UNSPECIFIED = -1,\n\tWOW_REASON_NLOD = 0,\n\tWOW_REASON_AP_ASSOC_LOST,\n\tWOW_REASON_LOW_RSSI,\n\tWOW_REASON_DEAUTH_RECVD,\n\tWOW_REASON_DISASSOC_RECVD,\n\tWOW_REASON_GTK_HS_ERR,\n\tWOW_REASON_EAP_REQ,\n\tWOW_REASON_FOURWAY_HS_RECV,\n\tWOW_REASON_TIMER_INTR_RECV,\n\tWOW_REASON_PATTERN_MATCH_FOUND,\n\tWOW_REASON_RECV_MAGIC_PATTERN,\n\tWOW_REASON_P2P_DISC,\n\tWOW_REASON_WLAN_HB,\n\tWOW_REASON_CSA_EVENT,\n\tWOW_REASON_PROBE_REQ_WPS_IE_RECV,\n\tWOW_REASON_AUTH_REQ_RECV,\n\tWOW_REASON_ASSOC_REQ_RECV,\n\tWOW_REASON_HTT_EVENT,\n\tWOW_REASON_RA_MATCH,\n\tWOW_REASON_HOST_AUTO_SHUTDOWN,\n\tWOW_REASON_IOAC_MAGIC_EVENT,\n\tWOW_REASON_IOAC_SHORT_EVENT,\n\tWOW_REASON_IOAC_EXTEND_EVENT,\n\tWOW_REASON_IOAC_TIMER_EVENT,\n\tWOW_REASON_ROAM_HO,\n\tWOW_REASON_DFS_PHYERR_RADADR_EVENT,\n\tWOW_REASON_BEACON_RECV,\n\tWOW_REASON_CLIENT_KICKOUT_EVENT,\n\tWOW_REASON_DEBUG_TEST = 0xFF,\n};\n\nstatic inline const char *wow_reason(enum wmi_wow_wake_reason reason)\n{\n\tswitch (reason) {\n\tC2S(WOW_REASON_UNSPECIFIED);\n\tC2S(WOW_REASON_NLOD);\n\tC2S(WOW_REASON_AP_ASSOC_LOST);\n\tC2S(WOW_REASON_LOW_RSSI);\n\tC2S(WOW_REASON_DEAUTH_RECVD);\n\tC2S(WOW_REASON_DISASSOC_RECVD);\n\tC2S(WOW_REASON_GTK_HS_ERR);\n\tC2S(WOW_REASON_EAP_REQ);\n\tC2S(WOW_REASON_FOURWAY_HS_RECV);\n\tC2S(WOW_REASON_TIMER_INTR_RECV);\n\tC2S(WOW_REASON_PATTERN_MATCH_FOUND);\n\tC2S(WOW_REASON_RECV_MAGIC_PATTERN);\n\tC2S(WOW_REASON_P2P_DISC);\n\tC2S(WOW_REASON_WLAN_HB);\n\tC2S(WOW_REASON_CSA_EVENT);\n\tC2S(WOW_REASON_PROBE_REQ_WPS_IE_RECV);\n\tC2S(WOW_REASON_AUTH_REQ_RECV);\n\tC2S(WOW_REASON_ASSOC_REQ_RECV);\n\tC2S(WOW_REASON_HTT_EVENT);\n\tC2S(WOW_REASON_RA_MATCH);\n\tC2S(WOW_REASON_HOST_AUTO_SHUTDOWN);\n\tC2S(WOW_REASON_IOAC_MAGIC_EVENT);\n\tC2S(WOW_REASON_IOAC_SHORT_EVENT);\n\tC2S(WOW_REASON_IOAC_EXTEND_EVENT);\n\tC2S(WOW_REASON_IOAC_TIMER_EVENT);\n\tC2S(WOW_REASON_ROAM_HO);\n\tC2S(WOW_REASON_DFS_PHYERR_RADADR_EVENT);\n\tC2S(WOW_REASON_BEACON_RECV);\n\tC2S(WOW_REASON_CLIENT_KICKOUT_EVENT);\n\tC2S(WOW_REASON_DEBUG_TEST);\n\tdefault:\n\t\treturn NULL;\n\t}\n}\n\n#undef C2S\n\nstruct wmi_wow_ev_arg {\n\tu32 vdev_id;\n\tu32 flag;\n\tenum wmi_wow_wake_reason wake_reason;\n\tu32 data_len;\n};\n\n#define WOW_MIN_PATTERN_SIZE\t1\n#define WOW_MAX_PATTERN_SIZE\t148\n#define WOW_MAX_PKT_OFFSET\t128\n#define WOW_HDR_LEN\t(sizeof(struct ieee80211_hdr_3addr) + \\\n\tsizeof(struct rfc1042_hdr))\n#define WOW_MAX_REDUCE\t(WOW_HDR_LEN - sizeof(struct ethhdr) - \\\n\toffsetof(struct ieee80211_hdr_3addr, addr1))\n\nenum wmi_tdls_state {\n\tWMI_TDLS_DISABLE,\n\tWMI_TDLS_ENABLE_PASSIVE,\n\tWMI_TDLS_ENABLE_ACTIVE,\n\tWMI_TDLS_ENABLE_ACTIVE_EXTERNAL_CONTROL,\n};\n\nenum wmi_tdls_peer_state {\n\tWMI_TDLS_PEER_STATE_PEERING,\n\tWMI_TDLS_PEER_STATE_CONNECTED,\n\tWMI_TDLS_PEER_STATE_TEARDOWN,\n};\n\nstruct wmi_tdls_peer_update_cmd_arg {\n\tu32 vdev_id;\n\tenum wmi_tdls_peer_state peer_state;\n\tu8 addr[ETH_ALEN];\n};\n\n#define WMI_TDLS_MAX_SUPP_OPER_CLASSES 32\n\n#define WMI_TDLS_PEER_SP_MASK\t0x60\n#define WMI_TDLS_PEER_SP_LSB\t5\n\nenum wmi_tdls_options {\n\tWMI_TDLS_OFFCHAN_EN = BIT(0),\n\tWMI_TDLS_BUFFER_STA_EN = BIT(1),\n\tWMI_TDLS_SLEEP_STA_EN = BIT(2),\n};\n\nenum {\n\tWMI_TDLS_PEER_QOS_AC_VO = BIT(0),\n\tWMI_TDLS_PEER_QOS_AC_VI = BIT(1),\n\tWMI_TDLS_PEER_QOS_AC_BK = BIT(2),\n\tWMI_TDLS_PEER_QOS_AC_BE = BIT(3),\n};\n\nstruct wmi_tdls_peer_capab_arg {\n\tu8 peer_uapsd_queues;\n\tu8 peer_max_sp;\n\tu32 buff_sta_support;\n\tu32 off_chan_support;\n\tu32 peer_curr_operclass;\n\tu32 self_curr_operclass;\n\tu32 peer_chan_len;\n\tu32 peer_operclass_len;\n\tu8 peer_operclass[WMI_TDLS_MAX_SUPP_OPER_CLASSES];\n\tu32 is_peer_responder;\n\tu32 pref_offchan_num;\n\tu32 pref_offchan_bw;\n};\n\nstruct wmi_10_4_tdls_set_state_cmd {\n\t__le32 vdev_id;\n\t__le32 state;\n\t__le32 notification_interval_ms;\n\t__le32 tx_discovery_threshold;\n\t__le32 tx_teardown_threshold;\n\t__le32 rssi_teardown_threshold;\n\t__le32 rssi_delta;\n\t__le32 tdls_options;\n\t__le32 tdls_peer_traffic_ind_window;\n\t__le32 tdls_peer_traffic_response_timeout_ms;\n\t__le32 tdls_puapsd_mask;\n\t__le32 tdls_puapsd_inactivity_time_ms;\n\t__le32 tdls_puapsd_rx_frame_threshold;\n\t__le32 teardown_notification_ms;\n\t__le32 tdls_peer_kickout_threshold;\n} __packed;\n\nstruct wmi_tdls_peer_capabilities {\n\t__le32 peer_qos;\n\t__le32 buff_sta_support;\n\t__le32 off_chan_support;\n\t__le32 peer_curr_operclass;\n\t__le32 self_curr_operclass;\n\t__le32 peer_chan_len;\n\t__le32 peer_operclass_len;\n\tu8 peer_operclass[WMI_TDLS_MAX_SUPP_OPER_CLASSES];\n\t__le32 is_peer_responder;\n\t__le32 pref_offchan_num;\n\t__le32 pref_offchan_bw;\n\tstruct wmi_channel peer_chan_list[1];\n} __packed;\n\nstruct wmi_10_4_tdls_peer_update_cmd {\n\t__le32 vdev_id;\n\tstruct wmi_mac_addr peer_macaddr;\n\t__le32 peer_state;\n\t__le32 reserved[4];\n\tstruct wmi_tdls_peer_capabilities peer_capab;\n} __packed;\n\nenum wmi_tdls_peer_reason {\n\tWMI_TDLS_TEARDOWN_REASON_TX,\n\tWMI_TDLS_TEARDOWN_REASON_RSSI,\n\tWMI_TDLS_TEARDOWN_REASON_SCAN,\n\tWMI_TDLS_DISCONNECTED_REASON_PEER_DELETE,\n\tWMI_TDLS_TEARDOWN_REASON_PTR_TIMEOUT,\n\tWMI_TDLS_TEARDOWN_REASON_BAD_PTR,\n\tWMI_TDLS_TEARDOWN_REASON_NO_RESPONSE,\n\tWMI_TDLS_ENTER_BUF_STA,\n\tWMI_TDLS_EXIT_BUF_STA,\n\tWMI_TDLS_ENTER_BT_BUSY_MODE,\n\tWMI_TDLS_EXIT_BT_BUSY_MODE,\n\tWMI_TDLS_SCAN_STARTED_EVENT,\n\tWMI_TDLS_SCAN_COMPLETED_EVENT,\n};\n\nenum wmi_tdls_peer_notification {\n\tWMI_TDLS_SHOULD_DISCOVER,\n\tWMI_TDLS_SHOULD_TEARDOWN,\n\tWMI_TDLS_PEER_DISCONNECTED,\n\tWMI_TDLS_CONNECTION_TRACKER_NOTIFICATION,\n};\n\nstruct wmi_tdls_peer_event {\n\tstruct wmi_mac_addr peer_macaddr;\n\t/* see enum wmi_tdls_peer_notification*/\n\t__le32 peer_status;\n\t/* see enum wmi_tdls_peer_reason */\n\t__le32 peer_reason;\n\t__le32 vdev_id;\n} __packed;\n\nenum wmi_tid_aggr_control_conf {\n\tWMI_TID_CONFIG_AGGR_CONTROL_IGNORE,\n\tWMI_TID_CONFIG_AGGR_CONTROL_ENABLE,\n\tWMI_TID_CONFIG_AGGR_CONTROL_DISABLE,\n};\n\nenum wmi_noack_tid_conf {\n\tWMI_NOACK_TID_CONFIG_IGNORE_ACK_POLICY,\n\tWMI_PEER_TID_CONFIG_ACK,\n\tWMI_PEER_TID_CONFIG_NOACK,\n};\n\nenum wmi_tid_rate_ctrl_conf {\n\tWMI_TID_CONFIG_RATE_CONTROL_IGNORE,\n\tWMI_TID_CONFIG_RATE_CONTROL_AUTO,\n\tWMI_TID_CONFIG_RATE_CONTROL_FIXED_RATE,\n\tWMI_TID_CONFIG_RATE_CONTROL_DEFAULT_LOWEST_RATE,\n\tWMI_PEER_TID_CONFIG_RATE_UPPER_CAP,\n};\n\nenum wmi_tid_rtscts_control_conf {\n\tWMI_TID_CONFIG_RTSCTS_CONTROL_ENABLE,\n\tWMI_TID_CONFIG_RTSCTS_CONTROL_DISABLE,\n};\n\nenum wmi_ext_tid_config_map {\n\tWMI_EXT_TID_RTS_CTS_CONFIG = BIT(0),\n};\n\nstruct wmi_per_peer_per_tid_cfg_arg {\n\tu32 vdev_id;\n\tstruct wmi_mac_addr peer_macaddr;\n\tu32 tid;\n\tenum wmi_noack_tid_conf ack_policy;\n\tenum wmi_tid_aggr_control_conf aggr_control;\n\tu8 rate_ctrl;\n\tu32 retry_count;\n\tu32 rcode_flags;\n\tu32 ext_tid_cfg_bitmap;\n\tu32 rtscts_ctrl;\n};\n\nstruct wmi_peer_per_tid_cfg_cmd {\n\t__le32 vdev_id;\n\tstruct wmi_mac_addr peer_macaddr;\n\t__le32 tid;\n\n\t/* see enum wmi_noack_tid_conf */\n\t__le32 ack_policy;\n\n\t/* see enum wmi_tid_aggr_control_conf */\n\t__le32 aggr_control;\n\n\t/* see enum wmi_tid_rate_ctrl_conf */\n\t__le32 rate_control;\n\t__le32 rcode_flags;\n\t__le32 retry_count;\n\n\t/* See enum wmi_ext_tid_config_map */\n\t__le32 ext_tid_cfg_bitmap;\n\n\t/* see enum wmi_tid_rtscts_control_conf */\n\t__le32 rtscts_ctrl;\n} __packed;\n\nenum wmi_txbf_conf {\n\tWMI_TXBF_CONF_UNSUPPORTED,\n\tWMI_TXBF_CONF_BEFORE_ASSOC,\n\tWMI_TXBF_CONF_AFTER_ASSOC,\n};\n\n#define\tWMI_CCA_DETECT_LEVEL_AUTO\t0\n#define\tWMI_CCA_DETECT_MARGIN_AUTO\t0\n\nstruct wmi_pdev_set_adaptive_cca_params {\n\t__le32 enable;\n\t__le32 cca_detect_level;\n\t__le32 cca_detect_margin;\n} __packed;\n\n#define WMI_PNO_MAX_SCHED_SCAN_PLANS      2\n#define WMI_PNO_MAX_SCHED_SCAN_PLAN_INT   7200\n#define WMI_PNO_MAX_SCHED_SCAN_PLAN_ITRNS 100\n#define WMI_PNO_MAX_NETW_CHANNELS         26\n#define WMI_PNO_MAX_NETW_CHANNELS_EX      60\n#define WMI_PNO_MAX_SUPP_NETWORKS         WLAN_SCAN_PARAMS_MAX_SSID\n#define WMI_PNO_MAX_IE_LENGTH             WLAN_SCAN_PARAMS_MAX_IE_LEN\n\n/*size based of dot11 declaration without extra IEs as we will not carry those for PNO*/\n#define WMI_PNO_MAX_PB_REQ_SIZE    450\n\n#define WMI_PNO_24G_DEFAULT_CH     1\n#define WMI_PNO_5G_DEFAULT_CH      36\n\n#define WMI_ACTIVE_MAX_CHANNEL_TIME 40\n#define WMI_PASSIVE_MAX_CHANNEL_TIME   110\n\n/* SSID broadcast type */\nenum wmi_SSID_bcast_type {\n\tBCAST_UNKNOWN      = 0,\n\tBCAST_NORMAL       = 1,\n\tBCAST_HIDDEN       = 2,\n};\n\nstruct wmi_network_type {\n\tstruct wmi_ssid ssid;\n\tu32 authentication;\n\tu32 encryption;\n\tu32 bcast_nw_type;\n\tu8 channel_count;\n\tu16 channels[WMI_PNO_MAX_NETW_CHANNELS_EX];\n\ts32 rssi_threshold;\n} __packed;\n\nstruct wmi_pno_scan_req {\n\tu8 enable;\n\tu8 vdev_id;\n\tu8 uc_networks_count;\n\tstruct wmi_network_type a_networks[WMI_PNO_MAX_SUPP_NETWORKS];\n\tu32 fast_scan_period;\n\tu32 slow_scan_period;\n\tu8 fast_scan_max_cycles;\n\n\tbool do_passive_scan;\n\n\tu32 delay_start_time;\n\tu32 active_min_time;\n\tu32 active_max_time;\n\tu32 passive_min_time;\n\tu32 passive_max_time;\n\n\t/* mac address randomization attributes */\n\tu32 enable_pno_scan_randomization;\n\tu8 mac_addr[ETH_ALEN];\n\tu8 mac_addr_mask[ETH_ALEN];\n} __packed;\n\nenum wmi_host_platform_type {\n\tWMI_HOST_PLATFORM_HIGH_PERF,\n\tWMI_HOST_PLATFORM_LOW_PERF,\n};\n\nenum wmi_bss_survey_req_type {\n\tWMI_BSS_SURVEY_REQ_TYPE_READ = 1,\n\tWMI_BSS_SURVEY_REQ_TYPE_READ_CLEAR,\n};\n\nstruct wmi_pdev_chan_info_req_cmd {\n\t__le32 type;\n\t__le32 reserved;\n} __packed;\n\n/* bb timing register configurations */\nstruct wmi_bb_timing_cfg_arg {\n\t/* Tx_end to pa off timing */\n\tu32 bb_tx_timing;\n\n\t/* Tx_end to external pa off timing */\n\tu32 bb_xpa_timing;\n};\n\nstruct wmi_pdev_bb_timing_cfg_cmd {\n\t/* Tx_end to pa off timing */\n\t__le32 bb_tx_timing;\n\n\t/* Tx_end to external pa off timing */\n\t__le32 bb_xpa_timing;\n} __packed;\n\nstruct ath10k;\nstruct ath10k_vif;\nstruct ath10k_fw_stats_pdev;\nstruct ath10k_fw_stats_peer;\nstruct ath10k_fw_stats;\n\nint ath10k_wmi_attach(struct ath10k *ar);\nvoid ath10k_wmi_detach(struct ath10k *ar);\nvoid ath10k_wmi_free_host_mem(struct ath10k *ar);\nint ath10k_wmi_wait_for_service_ready(struct ath10k *ar);\nint ath10k_wmi_wait_for_unified_ready(struct ath10k *ar);\n\nstruct sk_buff *ath10k_wmi_alloc_skb(struct ath10k *ar, u32 len);\nint ath10k_wmi_connect(struct ath10k *ar);\n\nstruct sk_buff *ath10k_wmi_alloc_skb(struct ath10k *ar, u32 len);\nint ath10k_wmi_cmd_send(struct ath10k *ar, struct sk_buff *skb, u32 cmd_id);\nint ath10k_wmi_cmd_send_nowait(struct ath10k *ar, struct sk_buff *skb,\n\t\t\t       u32 cmd_id);\nvoid ath10k_wmi_start_scan_init(struct ath10k *ar, struct wmi_start_scan_arg *arg);\n\nvoid ath10k_wmi_pull_pdev_stats_base(const struct wmi_pdev_stats_base *src,\n\t\t\t\t     struct ath10k_fw_stats_pdev *dst);\nvoid ath10k_wmi_pull_pdev_stats_tx(const struct wmi_pdev_stats_tx *src,\n\t\t\t\t   struct ath10k_fw_stats_pdev *dst);\nvoid ath10k_wmi_pull_pdev_stats_rx(const struct wmi_pdev_stats_rx *src,\n\t\t\t\t   struct ath10k_fw_stats_pdev *dst);\nvoid ath10k_wmi_pull_pdev_stats_extra(const struct wmi_pdev_stats_extra *src,\n\t\t\t\t      struct ath10k_fw_stats_pdev *dst);\nvoid ath10k_wmi_pull_peer_stats(const struct wmi_peer_stats *src,\n\t\t\t\tstruct ath10k_fw_stats_peer *dst);\nvoid ath10k_wmi_put_host_mem_chunks(struct ath10k *ar,\n\t\t\t\t    struct wmi_host_mem_chunks *chunks);\nvoid ath10k_wmi_put_start_scan_common(struct wmi_start_scan_common *cmn,\n\t\t\t\t      const struct wmi_start_scan_arg *arg);\nvoid ath10k_wmi_set_wmm_param(struct wmi_wmm_params *params,\n\t\t\t      const struct wmi_wmm_params_arg *arg);\nvoid ath10k_wmi_put_wmi_channel(struct ath10k *ar, struct wmi_channel *ch,\n\t\t\t\tconst struct wmi_channel_arg *arg);\nint ath10k_wmi_start_scan_verify(const struct wmi_start_scan_arg *arg);\n\nint ath10k_wmi_event_scan(struct ath10k *ar, struct sk_buff *skb);\nint ath10k_wmi_event_mgmt_rx(struct ath10k *ar, struct sk_buff *skb);\nint ath10k_wmi_event_mgmt_tx_compl(struct ath10k *ar, struct sk_buff *skb);\nint ath10k_wmi_event_mgmt_tx_bundle_compl(struct ath10k *ar, struct sk_buff *skb);\nvoid ath10k_wmi_event_chan_info(struct ath10k *ar, struct sk_buff *skb);\nvoid ath10k_wmi_event_echo(struct ath10k *ar, struct sk_buff *skb);\nint ath10k_wmi_event_debug_mesg(struct ath10k *ar, struct sk_buff *skb);\nvoid ath10k_wmi_event_update_stats(struct ath10k *ar, struct sk_buff *skb);\nvoid ath10k_wmi_event_vdev_start_resp(struct ath10k *ar, struct sk_buff *skb);\nvoid ath10k_wmi_event_vdev_stopped(struct ath10k *ar, struct sk_buff *skb);\nvoid ath10k_wmi_event_peer_sta_kickout(struct ath10k *ar, struct sk_buff *skb);\nvoid ath10k_wmi_event_host_swba(struct ath10k *ar, struct sk_buff *skb);\nvoid ath10k_wmi_event_tbttoffset_update(struct ath10k *ar, struct sk_buff *skb);\nvoid ath10k_wmi_event_dfs(struct ath10k *ar,\n\t\t\t  struct wmi_phyerr_ev_arg *phyerr, u64 tsf);\nvoid ath10k_wmi_event_spectral_scan(struct ath10k *ar,\n\t\t\t\t    struct wmi_phyerr_ev_arg *phyerr,\n\t\t\t\t    u64 tsf);\nvoid ath10k_wmi_event_phyerr(struct ath10k *ar, struct sk_buff *skb);\nvoid ath10k_wmi_event_roam(struct ath10k *ar, struct sk_buff *skb);\nvoid ath10k_wmi_event_profile_match(struct ath10k *ar, struct sk_buff *skb);\nvoid ath10k_wmi_event_debug_print(struct ath10k *ar, struct sk_buff *skb);\nvoid ath10k_wmi_event_pdev_qvit(struct ath10k *ar, struct sk_buff *skb);\nvoid ath10k_wmi_event_wlan_profile_data(struct ath10k *ar, struct sk_buff *skb);\nvoid ath10k_wmi_event_rtt_measurement_report(struct ath10k *ar,\n\t\t\t\t\t     struct sk_buff *skb);\nvoid ath10k_wmi_event_tsf_measurement_report(struct ath10k *ar,\n\t\t\t\t\t     struct sk_buff *skb);\nvoid ath10k_wmi_event_rtt_error_report(struct ath10k *ar, struct sk_buff *skb);\nvoid ath10k_wmi_event_wow_wakeup_host(struct ath10k *ar, struct sk_buff *skb);\nvoid ath10k_wmi_event_dcs_interference(struct ath10k *ar, struct sk_buff *skb);\nvoid ath10k_wmi_event_pdev_tpc_config(struct ath10k *ar, struct sk_buff *skb);\nvoid ath10k_wmi_event_pdev_ftm_intg(struct ath10k *ar, struct sk_buff *skb);\nvoid ath10k_wmi_event_gtk_offload_status(struct ath10k *ar,\n\t\t\t\t\t struct sk_buff *skb);\nvoid ath10k_wmi_event_gtk_rekey_fail(struct ath10k *ar, struct sk_buff *skb);\nvoid ath10k_wmi_event_delba_complete(struct ath10k *ar, struct sk_buff *skb);\nvoid ath10k_wmi_event_addba_complete(struct ath10k *ar, struct sk_buff *skb);\nvoid ath10k_wmi_event_vdev_install_key_complete(struct ath10k *ar,\n\t\t\t\t\t\tstruct sk_buff *skb);\nvoid ath10k_wmi_event_inst_rssi_stats(struct ath10k *ar, struct sk_buff *skb);\nvoid ath10k_wmi_event_vdev_standby_req(struct ath10k *ar, struct sk_buff *skb);\nvoid ath10k_wmi_event_vdev_resume_req(struct ath10k *ar, struct sk_buff *skb);\nvoid ath10k_wmi_event_service_ready(struct ath10k *ar, struct sk_buff *skb);\nint ath10k_wmi_event_ready(struct ath10k *ar, struct sk_buff *skb);\nvoid ath10k_wmi_event_service_available(struct ath10k *ar, struct sk_buff *skb);\nint ath10k_wmi_op_pull_phyerr_ev(struct ath10k *ar, const void *phyerr_buf,\n\t\t\t\t int left_len, struct wmi_phyerr_ev_arg *arg);\nvoid ath10k_wmi_main_op_fw_stats_fill(struct ath10k *ar,\n\t\t\t\t      struct ath10k_fw_stats *fw_stats,\n\t\t\t\t      char *buf);\nvoid ath10k_wmi_10x_op_fw_stats_fill(struct ath10k *ar,\n\t\t\t\t     struct ath10k_fw_stats *fw_stats,\n\t\t\t\t     char *buf);\nsize_t ath10k_wmi_fw_stats_num_peers(struct list_head *head);\nsize_t ath10k_wmi_fw_stats_num_vdevs(struct list_head *head);\nvoid ath10k_wmi_10_4_op_fw_stats_fill(struct ath10k *ar,\n\t\t\t\t      struct ath10k_fw_stats *fw_stats,\n\t\t\t\t      char *buf);\nint ath10k_wmi_op_get_vdev_subtype(struct ath10k *ar,\n\t\t\t\t   enum wmi_vdev_subtype subtype);\nint ath10k_wmi_barrier(struct ath10k *ar);\nvoid ath10k_wmi_tpc_config_get_rate_code(u8 *rate_code, u16 *pream_table,\n\t\t\t\t\t u32 num_tx_chain);\nvoid ath10k_wmi_event_tpc_final_table(struct ath10k *ar, struct sk_buff *skb);\n\n#endif /* _WMI_H_ */\n"}}, "reports": [{"events": [{"location": {"col": 26, "file": 0, "line": 3066}, "message": "WARNING use flexible-array member instead (https://www.kernel.org/doc/html/latest/process/deprecated.html#zero-length-and-one-element-arrays)"}], "macros": [], "notes": [], "path": "/src/drivers/net/wireless/ath/ath10k/wmi.h", "reportHash": "81253ff3f64a521a0ec7b6e62e89e8c1", "checkerName": "coccinelle", "reviewStatus": null, "severity": "UNSPECIFIED"}, {"events": [{"location": {"col": 4, "file": 0, "line": 3216}, "message": "WARNING use flexible-array member instead (https://www.kernel.org/doc/html/latest/process/deprecated.html#zero-length-and-one-element-arrays)"}], "macros": [], "notes": [], "path": "/src/drivers/net/wireless/ath/ath10k/wmi.h", "reportHash": "7efca5ba0e940bef5517642f17fc18b6", "checkerName": "coccinelle", "reviewStatus": null, "severity": "UNSPECIFIED"}, {"events": [{"location": {"col": 20, "file": 0, "line": 4259}, "message": "WARNING use flexible-array member instead (https://www.kernel.org/doc/html/latest/process/deprecated.html#zero-length-and-one-element-arrays)"}], "macros": [], "notes": [], "path": "/src/drivers/net/wireless/ath/ath10k/wmi.h", "reportHash": "ef3187446289a1102de620e7507cc145", "checkerName": "coccinelle", "reviewStatus": null, "severity": "UNSPECIFIED"}, {"events": [{"location": {"col": 4, "file": 0, "line": 5798}, "message": "WARNING use flexible-array member instead (https://www.kernel.org/doc/html/latest/process/deprecated.html#zero-length-and-one-element-arrays)"}], "macros": [], "notes": [], "path": "/src/drivers/net/wireless/ath/ath10k/wmi.h", "reportHash": "d33d04e936155d7d5961fe4bd68ded9e", "checkerName": "coccinelle", "reviewStatus": null, "severity": "UNSPECIFIED"}, {"events": [{"location": {"col": 4, "file": 0, "line": 5809}, "message": "WARNING use flexible-array member instead (https://www.kernel.org/doc/html/latest/process/deprecated.html#zero-length-and-one-element-arrays)"}], "macros": [], "notes": [], "path": "/src/drivers/net/wireless/ath/ath10k/wmi.h", "reportHash": "d33d04e936155d7d5961fe4bd68ded9e", "checkerName": "coccinelle", "reviewStatus": null, "severity": "UNSPECIFIED"}, {"events": [{"location": {"col": 20, "file": 0, "line": 7191}, "message": "WARNING use flexible-array member instead (https://www.kernel.org/doc/html/latest/process/deprecated.html#zero-length-and-one-element-arrays)"}], "macros": [], "notes": [], "path": "/src/drivers/net/wireless/ath/ath10k/wmi.h", "reportHash": "effb3a560ec14b2597c303d38616687f", "checkerName": "coccinelle", "reviewStatus": null, "severity": "UNSPECIFIED"}]};
      window.onload = function() {
        if (!browserCompatible) {
          setNonCompatibleBrowserMessage();
        } else {
          BugViewer.init(data.files, data.reports);
          BugViewer.create();
          BugViewer.initByUrl();
        }
      };
    </script>
  </head>
  <body>
  <div class="container">
    <div id="content">
      <div id="side-bar">
        <div class="header">
          <a href="index.html" class="button">&#8249; Return to List</a>
        </div>
        <div id="report-nav">
          <div class="header">Reports</div>
        </div>
      </div>
      <div id="editor-wrapper">
        <div class="header">
          <div id="file">
            <span class="label">File:</span>
            <span id="file-path"></span>
          </div>
          <div id="checker">
            <span class="label">Checker name:</span>
            <span id="checker-name"></span>
          </div>
          <div id="review-status-wrapper">
            <span class="label">Review status:</span>
            <span id="review-status"></span>
          </div>
        </div>
        <div id="editor"></div>
      </div>
    </div>
  </div>
  </body>
</html>
