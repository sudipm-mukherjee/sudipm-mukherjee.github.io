<!DOCTYPE html>
<html>
  <head>
    <title>Plist HTML Viewer</title>

    <meta charset="UTF-8">

    <style type="text/css">
      .CodeMirror{font-family:monospace;height:300px;color:#000;direction:ltr}.CodeMirror-lines{padding:4px 0}.CodeMirror pre{padding:0 4px}.CodeMirror-gutter-filler,.CodeMirror-scrollbar-filler{background-color:#fff}.CodeMirror-gutters{border-right:1px solid #ddd;background-color:#f7f7f7;white-space:nowrap}.CodeMirror-linenumber{padding:0 3px 0 5px;min-width:20px;text-align:right;color:#999;white-space:nowrap}.CodeMirror-guttermarker{color:#000}.CodeMirror-guttermarker-subtle{color:#999}.CodeMirror-cursor{border-left:1px solid #000;border-right:none;width:0}.CodeMirror div.CodeMirror-secondarycursor{border-left:1px solid silver}.cm-fat-cursor .CodeMirror-cursor{width:auto;border:0!important;background:#7e7}.cm-fat-cursor div.CodeMirror-cursors{z-index:1}.cm-animate-fat-cursor{width:auto;border:0;-webkit-animation:blink 1.06s steps(1) infinite;-moz-animation:blink 1.06s steps(1) infinite;animation:blink 1.06s steps(1) infinite;background-color:#7e7}@-moz-keyframes blink{50%{background-color:transparent}}@-webkit-keyframes blink{50%{background-color:transparent}}@keyframes blink{50%{background-color:transparent}}.cm-tab{display:inline-block;text-decoration:inherit}.CodeMirror-rulers{position:absolute;left:0;right:0;top:-50px;bottom:-20px;overflow:hidden}.CodeMirror-ruler{border-left:1px solid #ccc;top:0;bottom:0;position:absolute}.cm-s-default .cm-header{color:#00f}.cm-s-default .cm-quote{color:#090}.cm-negative{color:#d44}.cm-positive{color:#292}.cm-header,.cm-strong{font-weight:700}.cm-em{font-style:italic}.cm-link{text-decoration:underline}.cm-strikethrough{text-decoration:line-through}.cm-s-default .cm-keyword{color:#708}.cm-s-default .cm-atom{color:#219}.cm-s-default .cm-number{color:#164}.cm-s-default .cm-def{color:#00f}.cm-s-default .cm-variable-2{color:#05a}.cm-s-default .cm-type,.cm-s-default .cm-variable-3{color:#085}.cm-s-default .cm-comment{color:#a50}.cm-s-default .cm-string{color:#a11}.cm-s-default .cm-string-2{color:#f50}.cm-s-default .cm-meta{color:#555}.cm-s-default .cm-qualifier{color:#555}.cm-s-default .cm-builtin{color:#30a}.cm-s-default .cm-bracket{color:#997}.cm-s-default .cm-tag{color:#170}.cm-s-default .cm-attribute{color:#00c}.cm-s-default .cm-hr{color:#999}.cm-s-default .cm-link{color:#00c}.cm-s-default .cm-error{color:red}.cm-invalidchar{color:red}.CodeMirror-composing{border-bottom:2px solid}div.CodeMirror span.CodeMirror-matchingbracket{color:#0f0}div.CodeMirror span.CodeMirror-nonmatchingbracket{color:#f22}.CodeMirror-matchingtag{background:rgba(255,150,0,.3)}.CodeMirror-activeline-background{background:#e8f2ff}.CodeMirror{position:relative;overflow:hidden;background:#fff}.CodeMirror-scroll{overflow:scroll!important;margin-bottom:-30px;margin-right:-30px;padding-bottom:30px;height:100%;outline:0;position:relative}.CodeMirror-sizer{position:relative;border-right:30px solid transparent}.CodeMirror-gutter-filler,.CodeMirror-hscrollbar,.CodeMirror-scrollbar-filler,.CodeMirror-vscrollbar{position:absolute;z-index:6;display:none}.CodeMirror-vscrollbar{right:0;top:0;overflow-x:hidden;overflow-y:scroll}.CodeMirror-hscrollbar{bottom:0;left:0;overflow-y:hidden;overflow-x:scroll}.CodeMirror-scrollbar-filler{right:0;bottom:0}.CodeMirror-gutter-filler{left:0;bottom:0}.CodeMirror-gutters{position:absolute;left:0;top:0;min-height:100%;z-index:3}.CodeMirror-gutter{white-space:normal;height:100%;display:inline-block;vertical-align:top;margin-bottom:-30px}.CodeMirror-gutter-wrapper{position:absolute;z-index:4;background:0 0!important;border:none!important}.CodeMirror-gutter-background{position:absolute;top:0;bottom:0;z-index:4}.CodeMirror-gutter-elt{position:absolute;cursor:default;z-index:4}.CodeMirror-gutter-wrapper ::selection{background-color:transparent}.CodeMirror-gutter-wrapper ::-moz-selection{background-color:transparent}.CodeMirror-lines{cursor:text;min-height:1px}.CodeMirror pre{-moz-border-radius:0;-webkit-border-radius:0;border-radius:0;border-width:0;background:0 0;font-family:inherit;font-size:inherit;margin:0;white-space:pre;word-wrap:normal;line-height:inherit;color:inherit;z-index:2;position:relative;overflow:visible;-webkit-tap-highlight-color:transparent;-webkit-font-variant-ligatures:contextual;font-variant-ligatures:contextual}.CodeMirror-wrap pre{word-wrap:break-word;white-space:pre-wrap;word-break:normal}.CodeMirror-linebackground{position:absolute;left:0;right:0;top:0;bottom:0;z-index:0}.CodeMirror-linewidget{position:relative;z-index:2;overflow:auto}.CodeMirror-rtl pre{direction:rtl}.CodeMirror-code{outline:0}.CodeMirror-gutter,.CodeMirror-gutters,.CodeMirror-linenumber,.CodeMirror-scroll,.CodeMirror-sizer{-moz-box-sizing:content-box;box-sizing:content-box}.CodeMirror-measure{position:absolute;width:100%;height:0;overflow:hidden;visibility:hidden}.CodeMirror-cursor{position:absolute;pointer-events:none}.CodeMirror-measure pre{position:static}div.CodeMirror-cursors{visibility:hidden;position:relative;z-index:3}div.CodeMirror-dragcursors{visibility:visible}.CodeMirror-focused div.CodeMirror-cursors{visibility:visible}.CodeMirror-selected{background:#d9d9d9}.CodeMirror-focused .CodeMirror-selected{background:#d7d4f0}.CodeMirror-crosshair{cursor:crosshair}.CodeMirror-line::selection,.CodeMirror-line>span::selection,.CodeMirror-line>span>span::selection{background:#d7d4f0}.CodeMirror-line::-moz-selection,.CodeMirror-line>span::-moz-selection,.CodeMirror-line>span>span::-moz-selection{background:#d7d4f0}.cm-searching{background-color:#ffa;background-color:rgba(255,255,0,.4)}.cm-force-border{padding-right:.1px}@media print{.CodeMirror div.CodeMirror-cursors{visibility:hidden}}.cm-tab-wrap-hack:after{content:''}span.CodeMirror-selectedtext{background:0 0}
/*# sourceMappingURL=codemirror.min.css.map */

      .severity-low {
  background-color: #669603;
}

.severity-low:after {
  content : 'L';
}

.severity-unspecified {
  background-color: #666666;
}

.severity-unspecified:after {
  content : 'U';
}

.severity-style {
  background-color: #9932cc;
}

.severity-style:after {
  content : 'S';
}

.severity-medium {
  background-color: #a9d323;
  color: black;
}

.severity-medium:after {
  content : 'M';
}

.severity-high {
  background-color: #ffa800;
}

.severity-high:after {
  content : 'H';
}

.severity-critical {
  background-color: #e92625;
}

.severity-critical:after {
  content : 'C';
}

i[class*="severity-"] {
  line-height: normal;
  text-transform: capitalize;
  font-size: 0.8em;
  font-weight: bold;
  color: white;
  display: inline-block;
  width: 16px;
  height: 16px;
  text-align: center;
  font-family: sans-serif;
}

      html, body {
  width: 100%;
  height: 100%;
  padding: 0px;
  margin: 0px;
}

div.container {
  padding: 10px;
}

#content {
  height: 100%;
  display: block;
  overflow: hidden;
}

#content > div {
  margin: 10px;
  overflow: hidden;
  border: 1px solid #ddd;
  border-radius: 3px;
  overflow: hidden;
  height: 97%;
}

.button {
  background-color: #f1f1f1;
  text-decoration: none;
  display: inline-block;
  padding: 8px 16px;
  color: black;
  cursor: pointer;
}

.button:hover {
  background-color: #ddd;
  color: black;
}

.review-status {
  color: white;
  text-align: center;
}

.review-status-confirmed {
  background-color: #e92625;
}

.review-status-false-positive {
  background-color: grey;
}

.review-status-intentional {
  background-color: #669603;
}

      div.container {
  width: 100%;
  height: 100%;
  padding: 0px;
}

#editor-wrapper {
  margin: 10px;
}

#side-bar {
  float: left;
  width: 260px;
  margin: 0px;
}

#report-nav ul {
  list-style-type: none;
  padding: 0;
  margin: 0;
  overflow-y: auto;
  height: 100%;
}

#report-nav ul > li {
  padding: .4em;
  background-color: #fff;
  border-bottom: 1px solid rgba(0,0,0,.125);
  text-align: left;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
}

#report-nav ul > li.active {
  background-color: #427ea9;
  color: white;
}

#report-nav ul > li:hover {
  background-color: #427ea9;
  color: white;
  cursor: pointer;
}

#report-nav ul a {
  text-decoration: none;
}

#report-nav i[class*="severity-"] {
  margin-right: 5px;
}

.header {
  border-bottom: 1px solid lightgrey;
  font-family: monospace;
  padding: 10px;
  background-color: #fafbfc;
  border-bottom: 1px solid #e1e4e8;
  border-top-left-radius: 2px;
  border-top-right-radius: 2px;
}

#report-nav .header {
  font-weight: bold;
}

#editor-wrapper .header > div {
  padding-top: 2px;
}

#file-path,
#checker-name {
  color: #195ea2;
}

#review-status {
  padding: 0px 5px;
}

#file-path {
  font-family: monospace;
}

.check-msg {
  display: inline-block;
  padding: 3px 6px;
  margin: 1px;
  -webkit-border-radius: 5px;
  -moz-border-radius: 5px;
  border-radius: 5px;
}

.check-msg.info {
  color: #00546f;
  background-color: #bfdfe9;
  border: 1px solid #87a8b3;
}

.check-msg.error {
  background-color: #f2dede;
  color: #a94442;
  border: 1px solid #ebcccc;
}

.check-msg.macro {
  background-color: #d7dac2;
  color: #4f5c6d;
  border: 1px solid #d7dac2;
}

.check-msg.note {
  background-color: #d7d7d7;
  color: #4f5c6d;
  border: 1px solid #bfbfbf;
}

.check-msg.current {
  border: 2px dashed #3692ff;
}

.check-msg .tag {
  padding: 1px 5px;
  text-align: center;
  border-radius: 2px;
  margin-right: 5px;
  text-decoration: inherit;
}

.check-msg .tag.macro {
  background-color: #83876a;
  color: white;
  text-transform: capitalize;
}

.check-msg .tag.note {
  background-color: #9299a1;
  color: white;
  text-transform: capitalize;
}

.checker-enum {
  color: white;
  padding: 1px 5px;
  text-align: center;
  border-radius: 25px;
  margin-right: 5px;
  text-decoration: inherit;
}

.checker-enum.info {
  background-color: #427ea9;
}

.checker-enum.error {
  background-color: #a94442;
}

.arrow {
  border: solid black;
  border-width: 0 3px 3px 0;
  display: inline-block;
  padding: 3px;
  cursor: pointer;
  margin: 0px 5px;
}

.arrow:hover {
  border: solid #437ea8;
  border-width: 0 3px 3px 0;
}

.left-arrow {
  transform: rotate(135deg);
  -webkit-transform: rotate(135deg);
}

.right-arrow {
  transform: rotate(-45deg);
  -webkit-transform: rotate(-45deg);
}

    </style>

    <script type="text/javascript">
      function setNonCompatibleBrowserMessage() {
  document.body.innerHTML =
    '<h2 style="margin-left: 20px;">Your browser is not compatible with CodeChecker Viewer!</h2> \
     <p style="margin-left: 20px;">The version required for the following browsers are:</p> \
     <ul style="margin-left: 20px;"> \
     <li>Internet Explorer: version 9 or newer</li> \
     <li>Firefox: version 22.0 or newer</li> \
     </ul>';
}

// http://stackoverflow.com/questions/5916900/how-can-you-detect-the-version-of-a-browser
var browserVersion = (function(){
  var ua = navigator.userAgent, tem,
    M = ua.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i) || [];

  if (/trident/i.test(M[1])) {
    tem = /\brv[ :]+(\d+)/g.exec(ua) || [];
    return 'IE ' + (tem[1] || '');
  }

  if (M[1] === 'Chrome') {
    tem = ua.match(/\b(OPR|Edge)\/(\d+)/);
    if (tem != null) return tem.slice(1).join(' ').replace('OPR', 'Opera');
  }

  M = M[2] ? [M[1], M[2]] : [navigator.appName, navigator.appVersion, '-?'];
  if ((tem = ua.match(/version\/(\d+)/i)) != null) M.splice(1, 1, tem[1]);
    return M.join(' ');
})();

var pos = browserVersion.indexOf(' ');
var browser = browserVersion.substr(0, pos);
var version = parseInt(browserVersion.substr(pos + 1));

var browserCompatible
  = browser === 'Firefox'
  ? version >= 22
  : browser === 'IE'
  ? version >= 9
  : true;


      /* MIT License

Copyright (C) 2017 by Marijn Haverbeke <marijnh@gmail.com> and others

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
 */
      !function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.CodeMirror=t()}(this,function(){"use strict";function e(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function t(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function r(e,r){return t(e).appendChild(r)}function n(e,t,r,n){var i=document.createElement(e);if(r&&(i.className=r),n&&(i.style.cssText=n),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function i(e,t,r,i){var o=n(e,t,r,i);return o.setAttribute("role","presentation"),o}function o(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function l(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function s(t,r){var n=t.className;e(r).test(n)||(t.className+=(n?" ":"")+r)}function a(t,r){for(var n=t.split(" "),i=0;i<n.length;i++)n[i]&&!e(n[i]).test(r)&&(r+=" "+n[i]);return r}function u(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function c(e,t,r){t||(t={});for(var n in e)!e.hasOwnProperty(n)||!1===r&&t.hasOwnProperty(n)||(t[n]=e[n]);return t}function f(e,t,r,n,i){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=n||0,l=i||0;;){var s=e.indexOf("\t",o);if(s<0||s>=t)return l+(t-o);l+=s-o,l+=r-l%r,o=s+1}}function h(e,t){for(var r=0;r<e.length;++r)if(e[r]==t)return r;return-1}function d(e,t,r){for(var n=0,i=0;;){var o=e.indexOf("\t",n);-1==o&&(o=e.length);var l=o-n;if(o==e.length||i+l>=t)return n+Math.min(l,t-i);if(i+=o-n,i+=r-i%r,n=o+1,i>=t)return n}}function p(e){for(;Kl.length<=e;)Kl.push(g(Kl)+" ");return Kl[e]}function g(e){return e[e.length-1]}function v(e,t){for(var r=[],n=0;n<e.length;n++)r[n]=t(e[n],n);return r}function m(e,t,r){for(var n=0,i=r(t);n<e.length&&r(e[n])<=i;)n++;e.splice(n,0,t)}function y(){}function b(e,t){var r;return Object.create?r=Object.create(e):(y.prototype=e,r=new y),t&&c(t,r),r}function w(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||jl.test(e))}function x(e,t){return t?!!(t.source.indexOf("\\w")>-1&&w(e))||t.test(e):w(e)}function C(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function S(e){return e.charCodeAt(0)>=768&&Xl.test(e)}function L(e,t,r){for(;(r<0?t>0:t<e.length)&&S(e.charAt(t));)t+=r;return t}function k(e,t,r){for(var n=t>r?-1:1;;){if(t==r)return t;var i=(t+r)/2,o=n<0?Math.ceil(i):Math.floor(i);if(o==t)return e(o)?t:r;e(o)?r=o:t=o+n}}function T(e,t,r){var o=this;this.input=r,o.scrollbarFiller=n("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=n("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=i("div",null,"CodeMirror-code"),o.selectionDiv=n("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=n("div",null,"CodeMirror-cursors"),o.measure=n("div",null,"CodeMirror-measure"),o.lineMeasure=n("div",null,"CodeMirror-measure"),o.lineSpace=i("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var l=i("div",[o.lineSpace],"CodeMirror-lines");o.mover=n("div",[l],null,"position: relative"),o.sizer=n("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=n("div",null,null,"position: absolute; height: "+Rl+"px; width: 1px;"),o.gutters=n("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=n("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=n("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),gl&&vl<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),ml||fl&&Tl||(o.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(o.wrapper):e(o.wrapper)),o.viewFrom=o.viewTo=t.first,o.reportedViewFrom=o.reportedViewTo=t.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,r.init(o)}function M(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var r=e;!r.lines;)for(var n=0;;++n){var i=r.children[n],o=i.chunkSize();if(t<o){r=i;break}t-=o}return r.lines[t]}function N(e,t,r){var n=[],i=t.line;return e.iter(t.line,r.line+1,function(e){var o=e.text;i==r.line&&(o=o.slice(0,r.ch)),i==t.line&&(o=o.slice(t.ch)),n.push(o),++i}),n}function O(e,t,r){var n=[];return e.iter(t,r,function(e){n.push(e.text)}),n}function A(e,t){var r=t-e.height;if(r)for(var n=e;n;n=n.parent)n.height+=r}function W(e){if(null==e.parent)return null;for(var t=e.parent,r=h(t.lines,e),n=t.parent;n;t=n,n=n.parent)for(var i=0;n.children[i]!=t;++i)r+=n.children[i].chunkSize();return r+t.first}function D(e,t){var r=e.first;e:do{for(var n=0;n<e.children.length;++n){var i=e.children[n],o=i.height;if(t<o){e=i;continue e}t-=o,r+=i.chunkSize()}return r}while(!e.lines);for(var l=0;l<e.lines.length;++l){var s=e.lines[l].height;if(t<s)break;t-=s}return r+l}function H(e,t){return t>=e.first&&t<e.first+e.size}function F(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function E(e,t,r){if(void 0===r&&(r=null),!(this instanceof E))return new E(e,t,r);this.line=e,this.ch=t,this.sticky=r}function P(e,t){return e.line-t.line||e.ch-t.ch}function I(e,t){return e.sticky==t.sticky&&0==P(e,t)}function z(e){return E(e.line,e.ch)}function R(e,t){return P(e,t)<0?t:e}function B(e,t){return P(e,t)<0?e:t}function G(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function U(e,t){if(t.line<e.first)return E(e.first,0);var r=e.first+e.size-1;return t.line>r?E(r,M(e,r).text.length):V(t,M(e,t.line).text.length)}function V(e,t){var r=e.ch;return null==r||r>t?E(e.line,t):r<0?E(e.line,0):e}function K(e,t){for(var r=[],n=0;n<t.length;n++)r[n]=U(e,t[n]);return r}function j(){Yl=!0}function X(){_l=!0}function Y(e,t,r){this.marker=e,this.from=t,this.to=r}function _(e,t){if(e)for(var r=0;r<e.length;++r){var n=e[r];if(n.marker==t)return n}}function $(e,t){for(var r,n=0;n<e.length;++n)e[n]!=t&&(r||(r=[])).push(e[n]);return r}function q(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function Z(e,t,r){var n;if(e)for(var i=0;i<e.length;++i){var o=e[i],l=o.marker;if(null==o.from||(l.inclusiveLeft?o.from<=t:o.from<t)||o.from==t&&"bookmark"==l.type&&(!r||!o.marker.insertLeft)){var s=null==o.to||(l.inclusiveRight?o.to>=t:o.to>t);(n||(n=[])).push(new Y(l,o.from,s?null:o.to))}}return n}function Q(e,t,r){var n;if(e)for(var i=0;i<e.length;++i){var o=e[i],l=o.marker;if(null==o.to||(l.inclusiveRight?o.to>=t:o.to>t)||o.from==t&&"bookmark"==l.type&&(!r||o.marker.insertLeft)){var s=null==o.from||(l.inclusiveLeft?o.from<=t:o.from<t);(n||(n=[])).push(new Y(l,s?null:o.from-t,null==o.to?null:o.to-t))}}return n}function J(e,t){if(t.full)return null;var r=H(e,t.from.line)&&M(e,t.from.line).markedSpans,n=H(e,t.to.line)&&M(e,t.to.line).markedSpans;if(!r&&!n)return null;var i=t.from.ch,o=t.to.ch,l=0==P(t.from,t.to),s=Z(r,i,l),a=Q(n,o,l),u=1==t.text.length,c=g(t.text).length+(u?i:0);if(s)for(var f=0;f<s.length;++f){var h=s[f];if(null==h.to){var d=_(a,h.marker);d?u&&(h.to=null==d.to?null:d.to+c):h.to=i}}if(a)for(var p=0;p<a.length;++p){var v=a[p];null!=v.to&&(v.to+=c),null==v.from?_(s,v.marker)||(v.from=c,u&&(s||(s=[])).push(v)):(v.from+=c,u&&(s||(s=[])).push(v))}s&&(s=ee(s)),a&&a!=s&&(a=ee(a));var m=[s];if(!u){var y,b=t.text.length-2;if(b>0&&s)for(var w=0;w<s.length;++w)null==s[w].to&&(y||(y=[])).push(new Y(s[w].marker,null,null));for(var x=0;x<b;++x)m.push(y);m.push(a)}return m}function ee(e){for(var t=0;t<e.length;++t){var r=e[t];null!=r.from&&r.from==r.to&&!1!==r.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function te(e,t,r){var n=null;if(e.iter(t.line,r.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var r=e.markedSpans[t].marker;!r.readOnly||n&&-1!=h(n,r)||(n||(n=[])).push(r)}}),!n)return null;for(var i=[{from:t,to:r}],o=0;o<n.length;++o)for(var l=n[o],s=l.find(0),a=0;a<i.length;++a){var u=i[a];if(!(P(u.to,s.from)<0||P(u.from,s.to)>0)){var c=[a,1],f=P(u.from,s.from),d=P(u.to,s.to);(f<0||!l.inclusiveLeft&&!f)&&c.push({from:u.from,to:s.from}),(d>0||!l.inclusiveRight&&!d)&&c.push({from:s.to,to:u.to}),i.splice.apply(i,c),a+=c.length-3}}return i}function re(e){var t=e.markedSpans;if(t){for(var r=0;r<t.length;++r)t[r].marker.detachLine(e);e.markedSpans=null}}function ne(e,t){if(t){for(var r=0;r<t.length;++r)t[r].marker.attachLine(e);e.markedSpans=t}}function ie(e){return e.inclusiveLeft?-1:0}function oe(e){return e.inclusiveRight?1:0}function le(e,t){var r=e.lines.length-t.lines.length;if(0!=r)return r;var n=e.find(),i=t.find(),o=P(n.from,i.from)||ie(e)-ie(t);if(o)return-o;var l=P(n.to,i.to)||oe(e)-oe(t);return l||t.id-e.id}function se(e,t){var r,n=_l&&e.markedSpans;if(n)for(var i=void 0,o=0;o<n.length;++o)(i=n[o]).marker.collapsed&&null==(t?i.from:i.to)&&(!r||le(r,i.marker)<0)&&(r=i.marker);return r}function ae(e){return se(e,!0)}function ue(e){return se(e,!1)}function ce(e,t,r,n,i){var o=M(e,t),l=_l&&o.markedSpans;if(l)for(var s=0;s<l.length;++s){var a=l[s];if(a.marker.collapsed){var u=a.marker.find(0),c=P(u.from,r)||ie(a.marker)-ie(i),f=P(u.to,n)||oe(a.marker)-oe(i);if(!(c>=0&&f<=0||c<=0&&f>=0)&&(c<=0&&(a.marker.inclusiveRight&&i.inclusiveLeft?P(u.to,r)>=0:P(u.to,r)>0)||c>=0&&(a.marker.inclusiveRight&&i.inclusiveLeft?P(u.from,n)<=0:P(u.from,n)<0)))return!0}}}function fe(e){for(var t;t=ae(e);)e=t.find(-1,!0).line;return e}function he(e){for(var t;t=ue(e);)e=t.find(1,!0).line;return e}function de(e){for(var t,r;t=ue(e);)e=t.find(1,!0).line,(r||(r=[])).push(e);return r}function pe(e,t){var r=M(e,t),n=fe(r);return r==n?t:W(n)}function ge(e,t){if(t>e.lastLine())return t;var r,n=M(e,t);if(!ve(e,n))return t;for(;r=ue(n);)n=r.find(1,!0).line;return W(n)+1}function ve(e,t){var r=_l&&t.markedSpans;if(r)for(var n=void 0,i=0;i<r.length;++i)if((n=r[i]).marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&me(e,t,n))return!0}}function me(e,t,r){if(null==r.to){var n=r.marker.find(1,!0);return me(e,n.line,_(n.line.markedSpans,r.marker))}if(r.marker.inclusiveRight&&r.to==t.text.length)return!0;for(var i=void 0,o=0;o<t.markedSpans.length;++o)if((i=t.markedSpans[o]).marker.collapsed&&!i.marker.widgetNode&&i.from==r.to&&(null==i.to||i.to!=r.from)&&(i.marker.inclusiveLeft||r.marker.inclusiveRight)&&me(e,t,i))return!0}function ye(e){for(var t=0,r=(e=fe(e)).parent,n=0;n<r.lines.length;++n){var i=r.lines[n];if(i==e)break;t+=i.height}for(var o=r.parent;o;r=o,o=r.parent)for(var l=0;l<o.children.length;++l){var s=o.children[l];if(s==r)break;t+=s.height}return t}function be(e){if(0==e.height)return 0;for(var t,r=e.text.length,n=e;t=ae(n);){var i=t.find(0,!0);n=i.from.line,r+=i.from.ch-i.to.ch}for(n=e;t=ue(n);){var o=t.find(0,!0);r-=n.text.length-o.from.ch,r+=(n=o.to.line).text.length-o.to.ch}return r}function we(e){var t=e.display,r=e.doc;t.maxLine=M(r,r.first),t.maxLineLength=be(t.maxLine),t.maxLineChanged=!0,r.iter(function(e){var r=be(e);r>t.maxLineLength&&(t.maxLineLength=r,t.maxLine=e)})}function xe(e,t,r,n){if(!e)return n(t,r,"ltr",0);for(var i=!1,o=0;o<e.length;++o){var l=e[o];(l.from<r&&l.to>t||t==r&&l.to==t)&&(n(Math.max(l.from,t),Math.min(l.to,r),1==l.level?"rtl":"ltr",o),i=!0)}i||n(t,r,"ltr")}function Ce(e,t,r){var n;$l=null;for(var i=0;i<e.length;++i){var o=e[i];if(o.from<t&&o.to>t)return i;o.to==t&&(o.from!=o.to&&"before"==r?n=i:$l=i),o.from==t&&(o.from!=o.to&&"before"!=r?n=i:$l=i)}return null!=n?n:$l}function Se(e,t){var r=e.order;return null==r&&(r=e.order=ql(e.text,t)),r}function Le(e,t){return e._handlers&&e._handlers[t]||Zl}function ke(e,t,r){if(e.removeEventListener)e.removeEventListener(t,r,!1);else if(e.detachEvent)e.detachEvent("on"+t,r);else{var n=e._handlers,i=n&&n[t];if(i){var o=h(i,r);o>-1&&(n[t]=i.slice(0,o).concat(i.slice(o+1)))}}}function Te(e,t){var r=Le(e,t);if(r.length)for(var n=Array.prototype.slice.call(arguments,2),i=0;i<r.length;++i)r[i].apply(null,n)}function Me(e,t,r){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),Te(e,r||t.type,e,t),He(t)||t.codemirrorIgnore}function Ne(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var r=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),n=0;n<t.length;++n)-1==h(r,t[n])&&r.push(t[n])}function Oe(e,t){return Le(e,t).length>0}function Ae(e){e.prototype.on=function(e,t){Ql(this,e,t)},e.prototype.off=function(e,t){ke(this,e,t)}}function We(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function De(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function He(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Fe(e){We(e),De(e)}function Ee(e){return e.target||e.srcElement}function Pe(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),Ml&&e.ctrlKey&&1==t&&(t=3),t}function Ie(e){if(null==Il){var t=n("span","​");r(e,n("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Il=t.offsetWidth<=1&&t.offsetHeight>2&&!(gl&&vl<8))}var i=Il?n("span","​"):n("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return i.setAttribute("cm-text",""),i}function ze(e){if(null!=zl)return zl;var n=r(e,document.createTextNode("AخA")),i=Wl(n,0,1).getBoundingClientRect(),o=Wl(n,1,2).getBoundingClientRect();return t(e),!(!i||i.left==i.right)&&(zl=o.right-i.right<3)}function Re(e){if(null!=ns)return ns;var t=r(e,n("span","x")),i=t.getBoundingClientRect(),o=Wl(t,0,1).getBoundingClientRect();return ns=Math.abs(i.left-o.left)>1}function Be(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),is[e]=t}function Ge(e){if("string"==typeof e&&os.hasOwnProperty(e))e=os[e];else if(e&&"string"==typeof e.name&&os.hasOwnProperty(e.name)){var t=os[e.name];"string"==typeof t&&(t={name:t}),(e=b(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Ge("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Ge("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Ue(e,t){t=Ge(t);var r=is[t.name];if(!r)return Ue(e,"text/plain");var n=r(e,t);if(ls.hasOwnProperty(t.name)){var i=ls[t.name];for(var o in i)i.hasOwnProperty(o)&&(n.hasOwnProperty(o)&&(n["_"+o]=n[o]),n[o]=i[o])}if(n.name=t.name,t.helperType&&(n.helperType=t.helperType),t.modeProps)for(var l in t.modeProps)n[l]=t.modeProps[l];return n}function Ve(e,t){c(t,ls.hasOwnProperty(e)?ls[e]:ls[e]={})}function Ke(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var r={};for(var n in t){var i=t[n];i instanceof Array&&(i=i.concat([])),r[n]=i}return r}function je(e,t){for(var r;e.innerMode&&(r=e.innerMode(t))&&r.mode!=e;)t=r.state,e=r.mode;return r||{mode:e,state:t}}function Xe(e,t,r){return!e.startState||e.startState(t,r)}function Ye(e,t,r,n){var i=[e.state.modeGen],o={};tt(e,t.text,e.doc.mode,r,function(e,t){return i.push(e,t)},o,n);for(var l=r.state,s=0;s<e.state.overlays.length;++s)!function(n){var l=e.state.overlays[n],s=1,a=0;r.state=!0,tt(e,t.text,l.mode,r,function(e,t){for(var r=s;a<e;){var n=i[s];n>e&&i.splice(s,1,e,i[s+1],n),s+=2,a=Math.min(e,n)}if(t)if(l.opaque)i.splice(r,s-r,e,"overlay "+t),s=r+2;else for(;r<s;r+=2){var o=i[r+1];i[r+1]=(o?o+" ":"")+"overlay "+t}},o)}(s);return r.state=l,{styles:i,classes:o.bgClass||o.textClass?o:null}}function _e(e,t,r){if(!t.styles||t.styles[0]!=e.state.modeGen){var n=$e(e,W(t)),i=t.text.length>e.options.maxHighlightLength&&Ke(e.doc.mode,n.state),o=Ye(e,t,n);i&&(n.state=i),t.stateAfter=n.save(!i),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),r===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function $e(e,t,r){var n=e.doc,i=e.display;if(!n.mode.startState)return new us(n,!0,t);var o=rt(e,t,r),l=o>n.first&&M(n,o-1).stateAfter,s=l?us.fromSaved(n,l,o):new us(n,Xe(n.mode),o);return n.iter(o,t,function(r){qe(e,r.text,s);var n=s.line;r.stateAfter=n==t-1||n%5==0||n>=i.viewFrom&&n<i.viewTo?s.save():null,s.nextLine()}),r&&(n.modeFrontier=s.line),s}function qe(e,t,r,n){var i=e.doc.mode,o=new ss(t,e.options.tabSize,r);for(o.start=o.pos=n||0,""==t&&Ze(i,r.state);!o.eol();)Qe(i,o,r.state),o.start=o.pos}function Ze(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var r=je(e,t);return r.mode.blankLine?r.mode.blankLine(r.state):void 0}}function Qe(e,t,r,n){for(var i=0;i<10;i++){n&&(n[0]=je(e,r).mode);var o=e.token(t,r);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}function Je(e,t,r,n){var i,o,l=e.doc,s=l.mode,a=M(l,(t=U(l,t)).line),u=$e(e,t.line,r),c=new ss(a.text,e.options.tabSize,u);for(n&&(o=[]);(n||c.pos<t.ch)&&!c.eol();)c.start=c.pos,i=Qe(s,c,u.state),n&&o.push(new cs(c,i,Ke(l.mode,u.state)));return n?o:new cs(c,i,u.state)}function et(e,t){if(e)for(;;){var r=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!r)break;e=e.slice(0,r.index)+e.slice(r.index+r[0].length);var n=r[1]?"bgClass":"textClass";null==t[n]?t[n]=r[2]:new RegExp("(?:^|s)"+r[2]+"(?:$|s)").test(t[n])||(t[n]+=" "+r[2])}return e}function tt(e,t,r,n,i,o,l){var s=r.flattenSpans;null==s&&(s=e.options.flattenSpans);var a,u=0,c=null,f=new ss(t,e.options.tabSize,n),h=e.options.addModeClass&&[null];for(""==t&&et(Ze(r,n.state),o);!f.eol();){if(f.pos>e.options.maxHighlightLength?(s=!1,l&&qe(e,t,n,f.pos),f.pos=t.length,a=null):a=et(Qe(r,f,n.state,h),o),h){var d=h[0].name;d&&(a="m-"+(a?d+" "+a:d))}if(!s||c!=a){for(;u<f.start;)i(u=Math.min(f.start,u+5e3),c);c=a}f.start=f.pos}for(;u<f.pos;){var p=Math.min(f.pos,u+5e3);i(p,c),u=p}}function rt(e,t,r){for(var n,i,o=e.doc,l=r?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>l;--s){if(s<=o.first)return o.first;var a=M(o,s-1),u=a.stateAfter;if(u&&(!r||s+(u instanceof as?u.lookAhead:0)<=o.modeFrontier))return s;var c=f(a.text,null,e.options.tabSize);(null==i||n>c)&&(i=s-1,n=c)}return i}function nt(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var r=e.first,n=t-1;n>r;n--){var i=M(e,n).stateAfter;if(i&&(!(i instanceof as)||n+i.lookAhead<t)){r=n+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,r)}}function it(e,t,r,n){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),re(e),ne(e,r);var i=n?n(e):1;i!=e.height&&A(e,i)}function ot(e){e.parent=null,re(e)}function lt(e,t){if(!e||/^\s*$/.test(e))return null;var r=t.addModeClass?ps:ds;return r[e]||(r[e]=e.replace(/\S+/g,"cm-$&"))}function st(e,t){var r=i("span",null,null,ml?"padding-right: .1px":null),n={pre:i("pre",[r],"CodeMirror-line"),content:r,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:(gl||ml)&&e.getOption("lineWrapping")};t.measure={};for(var o=0;o<=(t.rest?t.rest.length:0);o++){var l=o?t.rest[o-1]:t.line,s=void 0;n.pos=0,n.addToken=ut,ze(e.display.measure)&&(s=Se(l,e.doc.direction))&&(n.addToken=ft(n.addToken,s)),n.map=[],dt(l,n,_e(e,l,t!=e.display.externalMeasured&&W(l))),l.styleClasses&&(l.styleClasses.bgClass&&(n.bgClass=a(l.styleClasses.bgClass,n.bgClass||"")),l.styleClasses.textClass&&(n.textClass=a(l.styleClasses.textClass,n.textClass||""))),0==n.map.length&&n.map.push(0,0,n.content.appendChild(Ie(e.display.measure))),0==o?(t.measure.map=n.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(n.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(ml){var u=n.content.lastChild;(/\bcm-tab\b/.test(u.className)||u.querySelector&&u.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return Te(e,"renderLine",e,t.line,n.pre),n.pre.className&&(n.textClass=a(n.pre.className,n.textClass||"")),n}function at(e){var t=n("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function ut(e,t,r,i,o,l,s){if(t){var a,u=e.splitSpaces?ct(t,e.trailingSpace):t,c=e.cm.state.specialChars,f=!1;if(c.test(t)){a=document.createDocumentFragment();for(var h=0;;){c.lastIndex=h;var d=c.exec(t),g=d?d.index-h:t.length-h;if(g){var v=document.createTextNode(u.slice(h,h+g));gl&&vl<9?a.appendChild(n("span",[v])):a.appendChild(v),e.map.push(e.pos,e.pos+g,v),e.col+=g,e.pos+=g}if(!d)break;h+=g+1;var m=void 0;if("\t"==d[0]){var y=e.cm.options.tabSize,b=y-e.col%y;(m=a.appendChild(n("span",p(b),"cm-tab"))).setAttribute("role","presentation"),m.setAttribute("cm-text","\t"),e.col+=b}else"\r"==d[0]||"\n"==d[0]?((m=a.appendChild(n("span","\r"==d[0]?"␍":"␤","cm-invalidchar"))).setAttribute("cm-text",d[0]),e.col+=1):((m=e.cm.options.specialCharPlaceholder(d[0])).setAttribute("cm-text",d[0]),gl&&vl<9?a.appendChild(n("span",[m])):a.appendChild(m),e.col+=1);e.map.push(e.pos,e.pos+1,m),e.pos++}}else e.col+=t.length,a=document.createTextNode(u),e.map.push(e.pos,e.pos+t.length,a),gl&&vl<9&&(f=!0),e.pos+=t.length;if(e.trailingSpace=32==u.charCodeAt(t.length-1),r||i||o||f||s){var w=r||"";i&&(w+=i),o&&(w+=o);var x=n("span",[a],w,s);return l&&(x.title=l),e.content.appendChild(x)}e.content.appendChild(a)}}function ct(e,t){if(e.length>1&&!/  /.test(e))return e;for(var r=t,n="",i=0;i<e.length;i++){var o=e.charAt(i);" "!=o||!r||i!=e.length-1&&32!=e.charCodeAt(i+1)||(o=" "),n+=o,r=" "==o}return n}function ft(e,t){return function(r,n,i,o,l,s,a){i=i?i+" cm-force-border":"cm-force-border";for(var u=r.pos,c=u+n.length;;){for(var f=void 0,h=0;h<t.length&&!((f=t[h]).to>u&&f.from<=u);h++);if(f.to>=c)return e(r,n,i,o,l,s,a);e(r,n.slice(0,f.to-u),i,o,null,s,a),o=null,n=n.slice(f.to-u),u=f.to}}}function ht(e,t,r,n){var i=!n&&r.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!n&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",r.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function dt(e,t,r){var n=e.markedSpans,i=e.text,o=0;if(n)for(var l,s,a,u,c,f,h,d=i.length,p=0,g=1,v="",m=0;;){if(m==p){a=u=c=f=s="",h=null,m=1/0;for(var y=[],b=void 0,w=0;w<n.length;++w){var x=n[w],C=x.marker;"bookmark"==C.type&&x.from==p&&C.widgetNode?y.push(C):x.from<=p&&(null==x.to||x.to>p||C.collapsed&&x.to==p&&x.from==p)?(null!=x.to&&x.to!=p&&m>x.to&&(m=x.to,u=""),C.className&&(a+=" "+C.className),C.css&&(s=(s?s+";":"")+C.css),C.startStyle&&x.from==p&&(c+=" "+C.startStyle),C.endStyle&&x.to==m&&(b||(b=[])).push(C.endStyle,x.to),C.title&&!f&&(f=C.title),C.collapsed&&(!h||le(h.marker,C)<0)&&(h=x)):x.from>p&&m>x.from&&(m=x.from)}if(b)for(var S=0;S<b.length;S+=2)b[S+1]==m&&(u+=" "+b[S]);if(!h||h.from==p)for(var L=0;L<y.length;++L)ht(t,0,y[L]);if(h&&(h.from||0)==p){if(ht(t,(null==h.to?d+1:h.to)-p,h.marker,null==h.from),null==h.to)return;h.to==p&&(h=!1)}}if(p>=d)break;for(var k=Math.min(d,m);;){if(v){var T=p+v.length;if(!h){var M=T>k?v.slice(0,k-p):v;t.addToken(t,M,l?l+a:a,c,p+M.length==m?u:"",f,s)}if(T>=k){v=v.slice(k-p),p=k;break}p=T,c=""}v=i.slice(o,o=r[g++]),l=lt(r[g++],t.cm.options)}}else for(var N=1;N<r.length;N+=2)t.addToken(t,i.slice(o,o=r[N]),lt(r[N+1],t.cm.options))}function pt(e,t,r){this.line=t,this.rest=de(t),this.size=this.rest?W(g(this.rest))-r+1:1,this.node=this.text=null,this.hidden=ve(e,t)}function gt(e,t,r){for(var n,i=[],o=t;o<r;o=n){var l=new pt(e.doc,M(e.doc,o),o);n=o+l.size,i.push(l)}return i}function vt(e){gs?gs.ops.push(e):e.ownsGroup=gs={ops:[e],delayedCallbacks:[]}}function mt(e){var t=e.delayedCallbacks,r=0;do{for(;r<t.length;r++)t[r].call(null);for(var n=0;n<e.ops.length;n++){var i=e.ops[n];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(r<t.length)}function yt(e,t){var r=e.ownsGroup;if(r)try{mt(r)}finally{gs=null,t(r)}}function bt(e,t){var r=Le(e,t);if(r.length){var n,i=Array.prototype.slice.call(arguments,2);gs?n=gs.delayedCallbacks:vs?n=vs:(n=vs=[],setTimeout(wt,0));for(var o=0;o<r.length;++o)!function(e){n.push(function(){return r[e].apply(null,i)})}(o)}}function wt(){var e=vs;vs=null;for(var t=0;t<e.length;++t)e[t]()}function xt(e,t,r,n){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?kt(e,t):"gutter"==o?Mt(e,t,r,n):"class"==o?Tt(e,t):"widget"==o&&Nt(e,t,n)}t.changes=null}function Ct(e){return e.node==e.text&&(e.node=n("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),gl&&vl<8&&(e.node.style.zIndex=2)),e.node}function St(e,t){var r=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(r&&(r+=" CodeMirror-linebackground"),t.background)r?t.background.className=r:(t.background.parentNode.removeChild(t.background),t.background=null);else if(r){var i=Ct(t);t.background=i.insertBefore(n("div",null,r),i.firstChild),e.display.input.setUneditable(t.background)}}function Lt(e,t){var r=e.display.externalMeasured;return r&&r.line==t.line?(e.display.externalMeasured=null,t.measure=r.measure,r.built):st(e,t)}function kt(e,t){var r=t.text.className,n=Lt(e,t);t.text==t.node&&(t.node=n.pre),t.text.parentNode.replaceChild(n.pre,t.text),t.text=n.pre,n.bgClass!=t.bgClass||n.textClass!=t.textClass?(t.bgClass=n.bgClass,t.textClass=n.textClass,Tt(e,t)):r&&(t.text.className=r)}function Tt(e,t){St(e,t),t.line.wrapClass?Ct(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var r=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=r||""}function Mt(e,t,r,i){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var o=Ct(t);t.gutterBackground=n("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px; width: "+i.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),o.insertBefore(t.gutterBackground,t.text)}var l=t.line.gutterMarkers;if(e.options.lineNumbers||l){var s=Ct(t),a=t.gutter=n("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px");if(e.display.input.setUneditable(a),s.insertBefore(a,t.text),t.line.gutterClass&&(a.className+=" "+t.line.gutterClass),!e.options.lineNumbers||l&&l["CodeMirror-linenumbers"]||(t.lineNumber=a.appendChild(n("div",F(e.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),l)for(var u=0;u<e.options.gutters.length;++u){var c=e.options.gutters[u],f=l.hasOwnProperty(c)&&l[c];f&&a.appendChild(n("div",[f],"CodeMirror-gutter-elt","left: "+i.gutterLeft[c]+"px; width: "+i.gutterWidth[c]+"px"))}}}function Nt(e,t,r){t.alignable&&(t.alignable=null);for(var n=t.node.firstChild,i=void 0;n;n=i)i=n.nextSibling,"CodeMirror-linewidget"==n.className&&t.node.removeChild(n);At(e,t,r)}function Ot(e,t,r,n){var i=Lt(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),Tt(e,t),Mt(e,t,r,n),At(e,t,n),t.node}function At(e,t,r){if(Wt(e,t.line,t,r,!0),t.rest)for(var n=0;n<t.rest.length;n++)Wt(e,t.rest[n],t,r,!1)}function Wt(e,t,r,i,o){if(t.widgets)for(var l=Ct(r),s=0,a=t.widgets;s<a.length;++s){var u=a[s],c=n("div",[u.node],"CodeMirror-linewidget");u.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),Dt(u,c,r,i),e.display.input.setUneditable(c),o&&u.above?l.insertBefore(c,r.gutter||r.text):l.appendChild(c),bt(u,"redraw")}}function Dt(e,t,r,n){if(e.noHScroll){(r.alignable||(r.alignable=[])).push(t);var i=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(i-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}function Ht(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!o(document.body,e.node)){var i="position: relative;";e.coverGutter&&(i+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(i+="width: "+t.display.wrapper.clientWidth+"px;"),r(t.display.measure,n("div",[e.node],null,i))}return e.height=e.node.parentNode.offsetHeight}function Ft(e,t){for(var r=Ee(t);r!=e.wrapper;r=r.parentNode)if(!r||1==r.nodeType&&"true"==r.getAttribute("cm-ignore-events")||r.parentNode==e.sizer&&r!=e.mover)return!0}function Et(e){return e.lineSpace.offsetTop}function Pt(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function It(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=r(e.measure,n("pre","x")),i=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,o={left:parseInt(i.paddingLeft),right:parseInt(i.paddingRight)};return isNaN(o.left)||isNaN(o.right)||(e.cachedPaddingH=o),o}function zt(e){return Rl-e.display.nativeBarWidth}function Rt(e){return e.display.scroller.clientWidth-zt(e)-e.display.barWidth}function Bt(e){return e.display.scroller.clientHeight-zt(e)-e.display.barHeight}function Gt(e,t,r){var n=e.options.lineWrapping,i=n&&Rt(e);if(!t.measure.heights||n&&t.measure.width!=i){var o=t.measure.heights=[];if(n){t.measure.width=i;for(var l=t.text.firstChild.getClientRects(),s=0;s<l.length-1;s++){var a=l[s],u=l[s+1];Math.abs(a.bottom-u.bottom)>2&&o.push((a.bottom+u.top)/2-r.top)}}o.push(r.bottom-r.top)}}function Ut(e,t,r){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(var i=0;i<e.rest.length;i++)if(W(e.rest[i])>r)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function Vt(e,t){var n=W(t=fe(t)),i=e.display.externalMeasured=new pt(e.doc,t,n);i.lineN=n;var o=i.built=st(e,i);return i.text=o.pre,r(e.display.lineMeasure,o.pre),i}function Kt(e,t,r,n){return Yt(e,Xt(e,t),r,n)}function jt(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Lr(e,t)];var r=e.display.externalMeasured;return r&&t>=r.lineN&&t<r.lineN+r.size?r:void 0}function Xt(e,t){var r=W(t),n=jt(e,r);n&&!n.text?n=null:n&&n.changes&&(xt(e,n,r,br(e)),e.curOp.forceUpdate=!0),n||(n=Vt(e,t));var i=Ut(n,t,r);return{line:t,view:n,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function Yt(e,t,r,n,i){t.before&&(r=-1);var o,l=r+(n||"");return t.cache.hasOwnProperty(l)?o=t.cache[l]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Gt(e,t.view,t.rect),t.hasHeights=!0),(o=qt(e,t,r,n)).bogus||(t.cache[l]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}function _t(e,t,r){for(var n,i,o,l,s,a,u=0;u<e.length;u+=3)if(s=e[u],a=e[u+1],t<s?(i=0,o=1,l="left"):t<a?o=(i=t-s)+1:(u==e.length-3||t==a&&e[u+3]>t)&&(i=(o=a-s)-1,t>=a&&(l="right")),null!=i){if(n=e[u+2],s==a&&r==(n.insertLeft?"left":"right")&&(l=r),"left"==r&&0==i)for(;u&&e[u-2]==e[u-3]&&e[u-1].insertLeft;)n=e[2+(u-=3)],l="left";if("right"==r&&i==a-s)for(;u<e.length-3&&e[u+3]==e[u+4]&&!e[u+5].insertLeft;)n=e[(u+=3)+2],l="right";break}return{node:n,start:i,end:o,collapse:l,coverStart:s,coverEnd:a}}function $t(e,t){var r=ms;if("left"==t)for(var n=0;n<e.length&&(r=e[n]).left==r.right;n++);else for(var i=e.length-1;i>=0&&(r=e[i]).left==r.right;i--);return r}function qt(e,t,r,n){var i,o=_t(t.map,r,n),l=o.node,s=o.start,a=o.end,u=o.collapse;if(3==l.nodeType){for(var c=0;c<4;c++){for(;s&&S(t.line.text.charAt(o.coverStart+s));)--s;for(;o.coverStart+a<o.coverEnd&&S(t.line.text.charAt(o.coverStart+a));)++a;if((i=gl&&vl<9&&0==s&&a==o.coverEnd-o.coverStart?l.parentNode.getBoundingClientRect():$t(Wl(l,s,a).getClientRects(),n)).left||i.right||0==s)break;a=s,s-=1,u="right"}gl&&vl<11&&(i=Zt(e.display.measure,i))}else{s>0&&(u=n="right");var f;i=e.options.lineWrapping&&(f=l.getClientRects()).length>1?f["right"==n?f.length-1:0]:l.getBoundingClientRect()}if(gl&&vl<9&&!s&&(!i||!i.left&&!i.right)){var h=l.parentNode.getClientRects()[0];i=h?{left:h.left,right:h.left+yr(e.display),top:h.top,bottom:h.bottom}:ms}for(var d=i.top-t.rect.top,p=i.bottom-t.rect.top,g=(d+p)/2,v=t.view.measure.heights,m=0;m<v.length-1&&!(g<v[m]);m++);var y=m?v[m-1]:0,b=v[m],w={left:("right"==u?i.right:i.left)-t.rect.left,right:("left"==u?i.left:i.right)-t.rect.left,top:y,bottom:b};return i.left||i.right||(w.bogus=!0),e.options.singleCursorHeightPerLine||(w.rtop=d,w.rbottom=p),w}function Zt(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Re(e))return t;var r=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*r,right:t.right*r,top:t.top*n,bottom:t.bottom*n}}function Qt(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function Jt(e){e.display.externalMeasure=null,t(e.display.lineMeasure);for(var r=0;r<e.display.view.length;r++)Qt(e.display.view[r])}function er(e){Jt(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function tr(){return bl&&kl?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function rr(){return bl&&kl?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function nr(e){var t=0;if(e.widgets)for(var r=0;r<e.widgets.length;++r)e.widgets[r].above&&(t+=Ht(e.widgets[r]));return t}function ir(e,t,r,n,i){if(!i){var o=nr(t);r.top+=o,r.bottom+=o}if("line"==n)return r;n||(n="local");var l=ye(t);if("local"==n?l+=Et(e.display):l-=e.display.viewOffset,"page"==n||"window"==n){var s=e.display.lineSpace.getBoundingClientRect();l+=s.top+("window"==n?0:rr());var a=s.left+("window"==n?0:tr());r.left+=a,r.right+=a}return r.top+=l,r.bottom+=l,r}function or(e,t,r){if("div"==r)return t;var n=t.left,i=t.top;if("page"==r)n-=tr(),i-=rr();else if("local"==r||!r){var o=e.display.sizer.getBoundingClientRect();n+=o.left,i+=o.top}var l=e.display.lineSpace.getBoundingClientRect();return{left:n-l.left,top:i-l.top}}function lr(e,t,r,n,i){return n||(n=M(e.doc,t.line)),ir(e,n,Kt(e,n,t.ch,i),r)}function sr(e,t,r,n,i,o){function l(t,l){var s=Yt(e,i,t,l?"right":"left",o);return l?s.left=s.right:s.right=s.left,ir(e,n,s,r)}function s(e,t,r){var n=1==a[t].level;return l(r?e-1:e,n!=r)}n=n||M(e.doc,t.line),i||(i=Xt(e,n));var a=Se(n,e.doc.direction),u=t.ch,c=t.sticky;if(u>=n.text.length?(u=n.text.length,c="before"):u<=0&&(u=0,c="after"),!a)return l("before"==c?u-1:u,"before"==c);var f=Ce(a,u,c),h=$l,d=s(u,f,"before"==c);return null!=h&&(d.other=s(u,h,"before"!=c)),d}function ar(e,t){var r=0;t=U(e.doc,t),e.options.lineWrapping||(r=yr(e.display)*t.ch);var n=M(e.doc,t.line),i=ye(n)+Et(e.display);return{left:r,right:r,top:i,bottom:i+n.height}}function ur(e,t,r,n,i){var o=E(e,t,r);return o.xRel=i,n&&(o.outside=!0),o}function cr(e,t,r){var n=e.doc;if((r+=e.display.viewOffset)<0)return ur(n.first,0,null,!0,-1);var i=D(n,r),o=n.first+n.size-1;if(i>o)return ur(n.first+n.size-1,M(n,o).text.length,null,!0,1);t<0&&(t=0);for(var l=M(n,i);;){var s=pr(e,l,i,t,r),a=ue(l),u=a&&a.find(0,!0);if(!a||!(s.ch>u.from.ch||s.ch==u.from.ch&&s.xRel>0))return s;i=W(l=u.to.line)}}function fr(e,t,r,n){n-=nr(t);var i=t.text.length,o=k(function(t){return Yt(e,r,t-1).bottom<=n},i,0);return i=k(function(t){return Yt(e,r,t).top>n},o,i),{begin:o,end:i}}function hr(e,t,r,n){return r||(r=Xt(e,t)),fr(e,t,r,ir(e,t,Yt(e,r,n),"line").top)}function dr(e,t,r,n){return!(e.bottom<=r)&&(e.top>r||(n?e.left:e.right)>t)}function pr(e,t,r,n,i){i-=ye(t);var o=Xt(e,t),l=nr(t),s=0,a=t.text.length,u=!0,c=Se(t,e.doc.direction);if(c){var f=(e.options.lineWrapping?vr:gr)(e,t,r,o,c,n,i);s=(u=1!=f.level)?f.from:f.to-1,a=u?f.to:f.from-1}var h,d,p=null,g=null,v=k(function(t){var r=Yt(e,o,t);return r.top+=l,r.bottom+=l,!!dr(r,n,i,!1)&&(r.top<=i&&r.left<=n&&(p=t,g=r),!0)},s,a),m=!1;if(g){var y=n-g.left<g.right-n,b=y==u;v=p+(b?0:1),d=b?"after":"before",h=y?g.left:g.right}else{u||v!=a&&v!=s||v++,d=0==v?"after":v==t.text.length?"before":Yt(e,o,v-(u?1:0)).bottom+l<=i==u?"after":"before";var w=sr(e,E(r,v,d),"line",t,o);h=w.left,m=i<w.top||i>=w.bottom}return v=L(t.text,v,1),ur(r,v,d,m,n-h)}function gr(e,t,r,n,i,o,l){var s=k(function(s){var a=i[s],u=1!=a.level;return dr(sr(e,E(r,u?a.to:a.from,u?"before":"after"),"line",t,n),o,l,!0)},0,i.length-1),a=i[s];if(s>0){var u=1!=a.level,c=sr(e,E(r,u?a.from:a.to,u?"after":"before"),"line",t,n);dr(c,o,l,!0)&&c.top>l&&(a=i[s-1])}return a}function vr(e,t,r,n,i,o,l){for(var s=fr(e,t,n,l),a=s.begin,u=s.end,c=null,f=null,h=0;h<i.length;h++){var d=i[h];if(!(d.from>=u||d.to<=a)){var p=Yt(e,n,1!=d.level?Math.min(u,d.to)-1:Math.max(a,d.from)).right,g=p<o?o-p+1e9:p-o;(!c||f>g)&&(c=d,f=g)}}return c||(c=i[i.length-1]),c.from<a&&(c={from:a,to:c.to,level:c.level}),c.to>u&&(c={from:c.from,to:u,level:c.level}),c}function mr(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==hs){hs=n("pre");for(var i=0;i<49;++i)hs.appendChild(document.createTextNode("x")),hs.appendChild(n("br"));hs.appendChild(document.createTextNode("x"))}r(e.measure,hs);var o=hs.offsetHeight/50;return o>3&&(e.cachedTextHeight=o),t(e.measure),o||1}function yr(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=n("span","xxxxxxxxxx"),i=n("pre",[t]);r(e.measure,i);var o=t.getBoundingClientRect(),l=(o.right-o.left)/10;return l>2&&(e.cachedCharWidth=l),l||10}function br(e){for(var t=e.display,r={},n={},i=t.gutters.clientLeft,o=t.gutters.firstChild,l=0;o;o=o.nextSibling,++l)r[e.options.gutters[l]]=o.offsetLeft+o.clientLeft+i,n[e.options.gutters[l]]=o.clientWidth;return{fixedPos:wr(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:r,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function wr(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function xr(e){var t=mr(e.display),r=e.options.lineWrapping,n=r&&Math.max(5,e.display.scroller.clientWidth/yr(e.display)-3);return function(i){if(ve(e.doc,i))return 0;var o=0;if(i.widgets)for(var l=0;l<i.widgets.length;l++)i.widgets[l].height&&(o+=i.widgets[l].height);return r?o+(Math.ceil(i.text.length/n)||1)*t:o+t}}function Cr(e){var t=e.doc,r=xr(e);t.iter(function(e){var t=r(e);t!=e.height&&A(e,t)})}function Sr(e,t,r,n){var i=e.display;if(!r&&"true"==Ee(t).getAttribute("cm-not-content"))return null;var o,l,s=i.lineSpace.getBoundingClientRect();try{o=t.clientX-s.left,l=t.clientY-s.top}catch(t){return null}var a,u=cr(e,o,l);if(n&&1==u.xRel&&(a=M(e.doc,u.line).text).length==u.ch){var c=f(a,a.length,e.options.tabSize)-a.length;u=E(u.line,Math.max(0,Math.round((o-It(e.display).left)/yr(e.display))-c))}return u}function Lr(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var r=e.display.view,n=0;n<r.length;n++)if((t-=r[n].size)<0)return n}function kr(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Tr(e,t){void 0===t&&(t=!0);for(var r=e.doc,n={},i=n.cursors=document.createDocumentFragment(),o=n.selection=document.createDocumentFragment(),l=0;l<r.sel.ranges.length;l++)if(t||l!=r.sel.primIndex){var s=r.sel.ranges[l];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var a=s.empty();(a||e.options.showCursorWhenSelecting)&&Mr(e,s.head,i),a||Or(e,s,o)}}return n}function Mr(e,t,r){var i=sr(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),o=r.appendChild(n("div"," ","CodeMirror-cursor"));if(o.style.left=i.left+"px",o.style.top=i.top+"px",o.style.height=Math.max(0,i.bottom-i.top)*e.options.cursorHeight+"px",i.other){var l=r.appendChild(n("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));l.style.display="",l.style.left=i.other.left+"px",l.style.top=i.other.top+"px",l.style.height=.85*(i.other.bottom-i.other.top)+"px"}}function Nr(e,t){return e.top-t.top||e.left-t.left}function Or(e,t,r){function i(e,t,r,i){t<0&&(t=0),t=Math.round(t),i=Math.round(i),a.appendChild(n("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==r?f-e:r)+"px;\n                             height: "+(i-t)+"px"))}function o(t,r,n){function o(r,n){return lr(e,E(t,r),"div",u,n)}var l,a,u=M(s,t),h=u.text.length,d=Se(u,s.direction);return xe(d,r||0,null==n?h:n,function(t,s,p,g){var v=o(t,"ltr"==p?"left":"right"),m=o(s-1,"ltr"==p?"right":"left");if("ltr"==p){var y=null==r&&0==t?c:v.left,b=null==n&&s==h?f:m.right;m.top-v.top<=3?i(y,m.top,b-y,m.bottom):(i(y,v.top,null,v.bottom),v.bottom<m.top&&i(c,v.bottom,null,m.top),i(c,m.top,m.right,m.bottom))}else if(t<s){var w=null==r&&0==t?f:v.right,x=null==n&&s==h?c:m.left;if(m.top-v.top<=3)i(x,m.top,w-x,m.bottom);else{var C=c;if(g){var S=hr(e,u,null,t).end;C=o(S-(/\s/.test(u.text.charAt(S-1))?2:1),"left").left}i(C,v.top,w-C,v.bottom),v.bottom<m.top&&i(c,v.bottom,null,m.top);var L=null;d.length,L=o(hr(e,u,null,s).begin,"right").right-x,i(x,m.top,L,m.bottom)}}(!l||Nr(v,l)<0)&&(l=v),Nr(m,l)<0&&(l=m),(!a||Nr(v,a)<0)&&(a=v),Nr(m,a)<0&&(a=m)}),{start:l,end:a}}var l=e.display,s=e.doc,a=document.createDocumentFragment(),u=It(e.display),c=u.left,f=Math.max(l.sizerWidth,Rt(e)-l.sizer.offsetLeft)-u.right,h=t.from(),d=t.to();if(h.line==d.line)o(h.line,h.ch,d.ch);else{var p=M(s,h.line),g=M(s,d.line),v=fe(p)==fe(g),m=o(h.line,h.ch,v?p.text.length+1:null).end,y=o(d.line,v?0:null,d.ch).start;v&&(m.top<y.top-2?(i(m.right,m.top,null,m.bottom),i(c,y.top,y.left,y.bottom)):i(m.right,m.top,y.left-m.right,m.bottom)),m.bottom<y.top&&i(c,m.bottom,null,y.top)}r.appendChild(a)}function Ar(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var r=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){return t.cursorDiv.style.visibility=(r=!r)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Wr(e){e.state.focused||(e.display.input.focus(),Hr(e))}function Dr(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,Fr(e))},100)}function Hr(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(Te(e,"focus",e,t),e.state.focused=!0,s(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),ml&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Ar(e))}function Fr(e,t){e.state.delayingBlurEvent||(e.state.focused&&(Te(e,"blur",e,t),e.state.focused=!1,Fl(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function Er(e){for(var t=e.display,r=t.lineDiv.offsetTop,n=0;n<t.view.length;n++){var i=t.view[n],o=void 0;if(!i.hidden){if(gl&&vl<8){var l=i.node.offsetTop+i.node.offsetHeight;o=l-r,r=l}else{var s=i.node.getBoundingClientRect();o=s.bottom-s.top}var a=i.line.height-o;if(o<2&&(o=mr(t)),(a>.005||a<-.005)&&(A(i.line,o),Pr(i.line),i.rest))for(var u=0;u<i.rest.length;u++)Pr(i.rest[u])}}}function Pr(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.parentNode.offsetHeight}function Ir(e,t,r){var n=r&&null!=r.top?Math.max(0,r.top):e.scroller.scrollTop;n=Math.floor(n-Et(e));var i=r&&null!=r.bottom?r.bottom:n+e.wrapper.clientHeight,o=D(t,n),l=D(t,i);if(r&&r.ensure){var s=r.ensure.from.line,a=r.ensure.to.line;s<o?(o=s,l=D(t,ye(M(t,s))+e.wrapper.clientHeight)):Math.min(a,t.lastLine())>=l&&(o=D(t,ye(M(t,a))-e.wrapper.clientHeight),l=a)}return{from:o,to:Math.max(l,o+1)}}function zr(e){var t=e.display,r=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var n=wr(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=n+"px",l=0;l<r.length;l++)if(!r[l].hidden){e.options.fixedGutter&&(r[l].gutter&&(r[l].gutter.style.left=o),r[l].gutterBackground&&(r[l].gutterBackground.style.left=o));var s=r[l].alignable;if(s)for(var a=0;a<s.length;a++)s[a].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=n+i+"px")}}function Rr(e){if(!e.options.lineNumbers)return!1;var t=e.doc,r=F(e.options,t.first+t.size-1),i=e.display;if(r.length!=i.lineNumChars){var o=i.measure.appendChild(n("div",[n("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),l=o.firstChild.offsetWidth,s=o.offsetWidth-l;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(l,i.lineGutter.offsetWidth-s)+1,i.lineNumWidth=i.lineNumInnerWidth+s,i.lineNumChars=i.lineNumInnerWidth?r.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",Wn(e),!0}return!1}function Br(e,t){if(!Me(e,"scrollCursorIntoView")){var r=e.display,i=r.sizer.getBoundingClientRect(),o=null;if(t.top+i.top<0?o=!0:t.bottom+i.top>(window.innerHeight||document.documentElement.clientHeight)&&(o=!1),null!=o&&!Sl){var l=n("div","​",null,"position: absolute;\n                         top: "+(t.top-r.viewOffset-Et(e.display))+"px;\n                         height: "+(t.bottom-t.top+zt(e)+r.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(l),l.scrollIntoView(o),e.display.lineSpace.removeChild(l)}}}function Gr(e,t,r,n){null==n&&(n=0);var i;e.options.lineWrapping||t!=r||(r="before"==(t=t.ch?E(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t).sticky?E(t.line,t.ch+1,"before"):t);for(var o=0;o<5;o++){var l=!1,s=sr(e,t),a=r&&r!=t?sr(e,r):s,u=Vr(e,i={left:Math.min(s.left,a.left),top:Math.min(s.top,a.top)-n,right:Math.max(s.left,a.left),bottom:Math.max(s.bottom,a.bottom)+n}),c=e.doc.scrollTop,f=e.doc.scrollLeft;if(null!=u.scrollTop&&(qr(e,u.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(l=!0)),null!=u.scrollLeft&&(Qr(e,u.scrollLeft),Math.abs(e.doc.scrollLeft-f)>1&&(l=!0)),!l)break}return i}function Ur(e,t){var r=Vr(e,t);null!=r.scrollTop&&qr(e,r.scrollTop),null!=r.scrollLeft&&Qr(e,r.scrollLeft)}function Vr(e,t){var r=e.display,n=mr(e.display);t.top<0&&(t.top=0);var i=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:r.scroller.scrollTop,o=Bt(e),l={};t.bottom-t.top>o&&(t.bottom=t.top+o);var s=e.doc.height+Pt(r),a=t.top<n,u=t.bottom>s-n;if(t.top<i)l.scrollTop=a?0:t.top;else if(t.bottom>i+o){var c=Math.min(t.top,(u?s:t.bottom)-o);c!=i&&(l.scrollTop=c)}var f=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:r.scroller.scrollLeft,h=Rt(e)-(e.options.fixedGutter?r.gutters.offsetWidth:0),d=t.right-t.left>h;return d&&(t.right=t.left+h),t.left<10?l.scrollLeft=0:t.left<f?l.scrollLeft=Math.max(0,t.left-(d?0:10)):t.right>h+f-3&&(l.scrollLeft=t.right+(d?0:10)-h),l}function Kr(e,t){null!=t&&(_r(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function jr(e){_r(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function Xr(e,t,r){null==t&&null==r||_r(e),null!=t&&(e.curOp.scrollLeft=t),null!=r&&(e.curOp.scrollTop=r)}function Yr(e,t){_r(e),e.curOp.scrollToPos=t}function _r(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,$r(e,ar(e,t.from),ar(e,t.to),t.margin))}function $r(e,t,r,n){var i=Vr(e,{left:Math.min(t.left,r.left),top:Math.min(t.top,r.top)-n,right:Math.max(t.right,r.right),bottom:Math.max(t.bottom,r.bottom)+n});Xr(e,i.scrollLeft,i.scrollTop)}function qr(e,t){Math.abs(e.doc.scrollTop-t)<2||(fl||On(e,{top:t}),Zr(e,t,!0),fl&&On(e),Cn(e,100))}function Zr(e,t,r){t=Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t),(e.display.scroller.scrollTop!=t||r)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function Qr(e,t,r,n){t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),(r?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!n||(e.doc.scrollLeft=t,zr(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function Jr(e){var t=e.display,r=t.gutters.offsetWidth,n=Math.round(e.doc.height+Pt(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?r:0,docHeight:n,scrollHeight:n+zt(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:r}}function en(e,t){t||(t=Jr(e));var r=e.display.barWidth,n=e.display.barHeight;tn(e,t);for(var i=0;i<4&&r!=e.display.barWidth||n!=e.display.barHeight;i++)r!=e.display.barWidth&&e.options.lineWrapping&&Er(e),tn(e,Jr(e)),r=e.display.barWidth,n=e.display.barHeight}function tn(e,t){var r=e.display,n=r.scrollbars.update(t);r.sizer.style.paddingRight=(r.barWidth=n.right)+"px",r.sizer.style.paddingBottom=(r.barHeight=n.bottom)+"px",r.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(r.scrollbarFiller.style.display="block",r.scrollbarFiller.style.height=n.bottom+"px",r.scrollbarFiller.style.width=n.right+"px"):r.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(r.gutterFiller.style.display="block",r.gutterFiller.style.height=n.bottom+"px",r.gutterFiller.style.width=t.gutterWidth+"px"):r.gutterFiller.style.display=""}function rn(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&Fl(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new ws[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),Ql(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,r){"horizontal"==r?Qr(e,t):qr(e,t)},e),e.display.scrollbars.addClass&&s(e.display.wrapper,e.display.scrollbars.addClass)}function nn(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++xs},vt(e.curOp)}function on(e){yt(e.curOp,function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;ln(e)})}function ln(e){for(var t=e.ops,r=0;r<t.length;r++)sn(t[r]);for(var n=0;n<t.length;n++)an(t[n]);for(var i=0;i<t.length;i++)un(t[i]);for(var o=0;o<t.length;o++)cn(t[o]);for(var l=0;l<t.length;l++)fn(t[l])}function sn(e){var t=e.cm,r=t.display;Ln(t),e.updateMaxLine&&we(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<r.viewFrom||e.scrollToPos.to.line>=r.viewTo)||r.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new Cs(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function an(e){e.updatedDisplay=e.mustUpdate&&Mn(e.cm,e.update)}function un(e){var t=e.cm,r=t.display;e.updatedDisplay&&Er(t),e.barMeasure=Jr(t),r.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Kt(t,r.maxLine,r.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(r.scroller.clientWidth,r.sizer.offsetLeft+e.adjustWidthTo+zt(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,r.sizer.offsetLeft+e.adjustWidthTo-Rt(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=r.input.prepareSelection())}function cn(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&Qr(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var r=e.focus&&e.focus==l();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,r),(e.updatedDisplay||e.startHeight!=t.doc.height)&&en(t,e.barMeasure),e.updatedDisplay&&Dn(t,e.barMeasure),e.selectionChanged&&Ar(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),r&&Wr(e.cm)}function fn(e){var t=e.cm,r=t.display,n=t.doc;e.updatedDisplay&&Nn(t,e.update),null==r.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(r.wheelStartX=r.wheelStartY=null),null!=e.scrollTop&&Zr(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&Qr(t,e.scrollLeft,!0,!0),e.scrollToPos&&Br(t,Gr(t,U(n,e.scrollToPos.from),U(n,e.scrollToPos.to),e.scrollToPos.margin));var i=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(i)for(var l=0;l<i.length;++l)i[l].lines.length||Te(i[l],"hide");if(o)for(var s=0;s<o.length;++s)o[s].lines.length&&Te(o[s],"unhide");r.wrapper.offsetHeight&&(n.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&Te(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function hn(e,t){if(e.curOp)return t();nn(e);try{return t()}finally{on(e)}}function dn(e,t){return function(){if(e.curOp)return t.apply(e,arguments);nn(e);try{return t.apply(e,arguments)}finally{on(e)}}}function pn(e){return function(){if(this.curOp)return e.apply(this,arguments);nn(this);try{return e.apply(this,arguments)}finally{on(this)}}}function gn(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);nn(t);try{return e.apply(this,arguments)}finally{on(t)}}}function vn(e,t,r,n){null==t&&(t=e.doc.first),null==r&&(r=e.doc.first+e.doc.size),n||(n=0);var i=e.display;if(n&&r<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)_l&&pe(e.doc,t)<i.viewTo&&yn(e);else if(r<=i.viewFrom)_l&&ge(e.doc,r+n)>i.viewFrom?yn(e):(i.viewFrom+=n,i.viewTo+=n);else if(t<=i.viewFrom&&r>=i.viewTo)yn(e);else if(t<=i.viewFrom){var o=bn(e,r,r+n,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=n):yn(e)}else if(r>=i.viewTo){var l=bn(e,t,t,-1);l?(i.view=i.view.slice(0,l.index),i.viewTo=l.lineN):yn(e)}else{var s=bn(e,t,t,-1),a=bn(e,r,r+n,1);s&&a?(i.view=i.view.slice(0,s.index).concat(gt(e,s.lineN,a.lineN)).concat(i.view.slice(a.index)),i.viewTo+=n):yn(e)}var u=i.externalMeasured;u&&(r<u.lineN?u.lineN+=n:t<u.lineN+u.size&&(i.externalMeasured=null))}function mn(e,t,r){e.curOp.viewChanged=!0;var n=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(n.externalMeasured=null),!(t<n.viewFrom||t>=n.viewTo)){var o=n.view[Lr(e,t)];if(null!=o.node){var l=o.changes||(o.changes=[]);-1==h(l,r)&&l.push(r)}}}function yn(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function bn(e,t,r,n){var i,o=Lr(e,t),l=e.display.view;if(!_l||r==e.doc.first+e.doc.size)return{index:o,lineN:r};for(var s=e.display.viewFrom,a=0;a<o;a++)s+=l[a].size;if(s!=t){if(n>0){if(o==l.length-1)return null;i=s+l[o].size-t,o++}else i=s-t;t+=i,r+=i}for(;pe(e.doc,r)!=r;){if(o==(n<0?0:l.length-1))return null;r+=n*l[o-(n<0?1:0)].size,o+=n}return{index:o,lineN:r}}function wn(e,t,r){var n=e.display;0==n.view.length||t>=n.viewTo||r<=n.viewFrom?(n.view=gt(e,t,r),n.viewFrom=t):(n.viewFrom>t?n.view=gt(e,t,n.viewFrom).concat(n.view):n.viewFrom<t&&(n.view=n.view.slice(Lr(e,t))),n.viewFrom=t,n.viewTo<r?n.view=n.view.concat(gt(e,n.viewTo,r)):n.viewTo>r&&(n.view=n.view.slice(0,Lr(e,r)))),n.viewTo=r}function xn(e){for(var t=e.display.view,r=0,n=0;n<t.length;n++){var i=t[n];i.hidden||i.node&&!i.changes||++r}return r}function Cn(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,u(Sn,e))}function Sn(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var r=+new Date+e.options.workTime,n=$e(e,t.highlightFrontier),i=[];t.iter(n.line,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(n.line>=e.display.viewFrom){var l=o.styles,s=o.text.length>e.options.maxHighlightLength?Ke(t.mode,n.state):null,a=Ye(e,o,n,!0);s&&(n.state=s),o.styles=a.styles;var u=o.styleClasses,c=a.classes;c?o.styleClasses=c:u&&(o.styleClasses=null);for(var f=!l||l.length!=o.styles.length||u!=c&&(!u||!c||u.bgClass!=c.bgClass||u.textClass!=c.textClass),h=0;!f&&h<l.length;++h)f=l[h]!=o.styles[h];f&&i.push(n.line),o.stateAfter=n.save(),n.nextLine()}else o.text.length<=e.options.maxHighlightLength&&qe(e,o.text,n),o.stateAfter=n.line%5==0?n.save():null,n.nextLine();if(+new Date>r)return Cn(e,e.options.workDelay),!0}),t.highlightFrontier=n.line,t.modeFrontier=Math.max(t.modeFrontier,n.line),i.length&&hn(e,function(){for(var t=0;t<i.length;t++)mn(e,i[t],"text")})}}function Ln(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=zt(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=zt(e)+"px",t.scrollbarsClipped=!0)}function kn(e){if(e.hasFocus())return null;var t=l();if(!t||!o(e.display.lineDiv,t))return null;var r={activeElt:t};if(window.getSelection){var n=window.getSelection();n.anchorNode&&n.extend&&o(e.display.lineDiv,n.anchorNode)&&(r.anchorNode=n.anchorNode,r.anchorOffset=n.anchorOffset,r.focusNode=n.focusNode,r.focusOffset=n.focusOffset)}return r}function Tn(e){if(e&&e.activeElt&&e.activeElt!=l()&&(e.activeElt.focus(),e.anchorNode&&o(document.body,e.anchorNode)&&o(document.body,e.focusNode))){var t=window.getSelection(),r=document.createRange();r.setEnd(e.anchorNode,e.anchorOffset),r.collapse(!1),t.removeAllRanges(),t.addRange(r),t.extend(e.focusNode,e.focusOffset)}}function Mn(e,r){var n=e.display,i=e.doc;if(r.editorIsHidden)return yn(e),!1;if(!r.force&&r.visible.from>=n.viewFrom&&r.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==xn(e))return!1;Rr(e)&&(yn(e),r.dims=br(e));var o=i.first+i.size,l=Math.max(r.visible.from-e.options.viewportMargin,i.first),s=Math.min(o,r.visible.to+e.options.viewportMargin);n.viewFrom<l&&l-n.viewFrom<20&&(l=Math.max(i.first,n.viewFrom)),n.viewTo>s&&n.viewTo-s<20&&(s=Math.min(o,n.viewTo)),_l&&(l=pe(e.doc,l),s=ge(e.doc,s));var a=l!=n.viewFrom||s!=n.viewTo||n.lastWrapHeight!=r.wrapperHeight||n.lastWrapWidth!=r.wrapperWidth;wn(e,l,s),n.viewOffset=ye(M(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var u=xn(e);if(!a&&0==u&&!r.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var c=kn(e);return u>4&&(n.lineDiv.style.display="none"),An(e,n.updateLineNumbers,r.dims),u>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,Tn(c),t(n.cursorDiv),t(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,a&&(n.lastWrapHeight=r.wrapperHeight,n.lastWrapWidth=r.wrapperWidth,Cn(e,400)),n.updateLineNumbers=null,!0}function Nn(e,t){for(var r=t.viewport,n=!0;(n&&e.options.lineWrapping&&t.oldDisplayWidth!=Rt(e)||(r&&null!=r.top&&(r={top:Math.min(e.doc.height+Pt(e.display)-Bt(e),r.top)}),t.visible=Ir(e.display,e.doc,r),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&Mn(e,t);n=!1){Er(e);var i=Jr(e);kr(e),en(e,i),Dn(e,i),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function On(e,t){var r=new Cs(e,t);if(Mn(e,r)){Er(e),Nn(e,r);var n=Jr(e);kr(e),en(e,n),Dn(e,n),r.finish()}}function An(e,r,n){function i(t){var r=t.nextSibling;return ml&&Ml&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),r}for(var o=e.display,l=e.options.lineNumbers,s=o.lineDiv,a=s.firstChild,u=o.view,c=o.viewFrom,f=0;f<u.length;f++){var d=u[f];if(d.hidden);else if(d.node&&d.node.parentNode==s){for(;a!=d.node;)a=i(a);var p=l&&null!=r&&r<=c&&d.lineNumber;d.changes&&(h(d.changes,"gutter")>-1&&(p=!1),xt(e,d,c,n)),p&&(t(d.lineNumber),d.lineNumber.appendChild(document.createTextNode(F(e.options,c)))),a=d.node.nextSibling}else{var g=Ot(e,d,c,n);s.insertBefore(g,a)}c+=d.size}for(;a;)a=i(a)}function Wn(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function Dn(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+zt(e)+"px"}function Hn(e){var r=e.display.gutters,i=e.options.gutters;t(r);for(var o=0;o<i.length;++o){var l=i[o],s=r.appendChild(n("div",null,"CodeMirror-gutter "+l));"CodeMirror-linenumbers"==l&&(e.display.lineGutter=s,s.style.width=(e.display.lineNumWidth||1)+"px")}r.style.display=o?"":"none",Wn(e)}function Fn(e){var t=h(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function En(e){var t=e.wheelDeltaX,r=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==r&&e.detail&&e.axis==e.VERTICAL_AXIS?r=e.detail:null==r&&(r=e.wheelDelta),{x:t,y:r}}function Pn(e){var t=En(e);return t.x*=Ls,t.y*=Ls,t}function In(e,t){var r=En(t),n=r.x,i=r.y,o=e.display,l=o.scroller,s=l.scrollWidth>l.clientWidth,a=l.scrollHeight>l.clientHeight;if(n&&s||i&&a){if(i&&Ml&&ml)e:for(var u=t.target,c=o.view;u!=l;u=u.parentNode)for(var f=0;f<c.length;f++)if(c[f].node==u){e.display.currentWheelTarget=u;break e}if(n&&!fl&&!wl&&null!=Ls)return i&&a&&qr(e,Math.max(0,l.scrollTop+i*Ls)),Qr(e,Math.max(0,l.scrollLeft+n*Ls)),(!i||i&&a)&&We(t),void(o.wheelStartX=null);if(i&&null!=Ls){var h=i*Ls,d=e.doc.scrollTop,p=d+o.wrapper.clientHeight;h<0?d=Math.max(0,d+h-50):p=Math.min(e.doc.height,p+h+50),On(e,{top:d,bottom:p})}Ss<20&&(null==o.wheelStartX?(o.wheelStartX=l.scrollLeft,o.wheelStartY=l.scrollTop,o.wheelDX=n,o.wheelDY=i,setTimeout(function(){if(null!=o.wheelStartX){var e=l.scrollLeft-o.wheelStartX,t=l.scrollTop-o.wheelStartY,r=t&&o.wheelDY&&t/o.wheelDY||e&&o.wheelDX&&e/o.wheelDX;o.wheelStartX=o.wheelStartY=null,r&&(Ls=(Ls*Ss+r)/(Ss+1),++Ss)}},200)):(o.wheelDX+=n,o.wheelDY+=i))}}function zn(e,t){var r=e[t];e.sort(function(e,t){return P(e.from(),t.from())}),t=h(e,r);for(var n=1;n<e.length;n++){var i=e[n],o=e[n-1];if(P(o.to(),i.from())>=0){var l=B(o.from(),i.from()),s=R(o.to(),i.to()),a=o.empty()?i.from()==i.head:o.from()==o.head;n<=t&&--t,e.splice(--n,2,new Ts(a?s:l,a?l:s))}}return new ks(e,t)}function Rn(e,t){return new ks([new Ts(e,t||e)],0)}function Bn(e){return e.text?E(e.from.line+e.text.length-1,g(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function Gn(e,t){if(P(e,t.from)<0)return e;if(P(e,t.to)<=0)return Bn(t);var r=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch;return e.line==t.to.line&&(n+=Bn(t).ch-t.to.ch),E(r,n)}function Un(e,t){for(var r=[],n=0;n<e.sel.ranges.length;n++){var i=e.sel.ranges[n];r.push(new Ts(Gn(i.anchor,t),Gn(i.head,t)))}return zn(r,e.sel.primIndex)}function Vn(e,t,r){return e.line==t.line?E(r.line,e.ch-t.ch+r.ch):E(r.line+(e.line-t.line),e.ch)}function Kn(e,t,r){for(var n=[],i=E(e.first,0),o=i,l=0;l<t.length;l++){var s=t[l],a=Vn(s.from,i,o),u=Vn(Bn(s),i,o);if(i=s.to,o=u,"around"==r){var c=e.sel.ranges[l],f=P(c.head,c.anchor)<0;n[l]=new Ts(f?u:a,f?a:u)}else n[l]=new Ts(a,a)}return new ks(n,e.sel.primIndex)}function jn(e){e.doc.mode=Ue(e.options,e.doc.modeOption),Xn(e)}function Xn(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,Cn(e,100),e.state.modeGen++,e.curOp&&vn(e)}function Yn(e,t){return 0==t.from.ch&&0==t.to.ch&&""==g(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function _n(e,t,r,n){function i(e){return r?r[e]:null}function o(e,r,i){it(e,r,i,n),bt(e,"change",e,t)}function l(e,t){for(var r=[],o=e;o<t;++o)r.push(new fs(u[o],i(o),n));return r}var s=t.from,a=t.to,u=t.text,c=M(e,s.line),f=M(e,a.line),h=g(u),d=i(u.length-1),p=a.line-s.line;if(t.full)e.insert(0,l(0,u.length)),e.remove(u.length,e.size-u.length);else if(Yn(e,t)){var v=l(0,u.length-1);o(f,f.text,d),p&&e.remove(s.line,p),v.length&&e.insert(s.line,v)}else if(c==f)if(1==u.length)o(c,c.text.slice(0,s.ch)+h+c.text.slice(a.ch),d);else{var m=l(1,u.length-1);m.push(new fs(h+c.text.slice(a.ch),d,n)),o(c,c.text.slice(0,s.ch)+u[0],i(0)),e.insert(s.line+1,m)}else if(1==u.length)o(c,c.text.slice(0,s.ch)+u[0]+f.text.slice(a.ch),i(0)),e.remove(s.line+1,p);else{o(c,c.text.slice(0,s.ch)+u[0],i(0)),o(f,h+f.text.slice(a.ch),d);var y=l(1,u.length-1);p>1&&e.remove(s.line+1,p-1),e.insert(s.line+1,y)}bt(e,"change",e,t)}function $n(e,t,r){function n(e,i,o){if(e.linked)for(var l=0;l<e.linked.length;++l){var s=e.linked[l];if(s.doc!=i){var a=o&&s.sharedHist;r&&!a||(t(s.doc,a),n(s.doc,e,a))}}}n(e,null,!0)}function qn(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,Cr(e),jn(e),Zn(e),e.options.lineWrapping||we(e),e.options.mode=t.modeOption,vn(e)}function Zn(e){("rtl"==e.doc.direction?s:Fl)(e.display.lineDiv,"CodeMirror-rtl")}function Qn(e){hn(e,function(){Zn(e),vn(e)})}function Jn(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function ei(e,t){var r={from:z(t.from),to:Bn(t),text:N(e,t.from,t.to)};return si(e,r,t.from.line,t.to.line+1),$n(e,function(e){return si(e,r,t.from.line,t.to.line+1)},!0),r}function ti(e){for(;e.length&&g(e).ranges;)e.pop()}function ri(e,t){return t?(ti(e.done),g(e.done)):e.done.length&&!g(e.done).ranges?g(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),g(e.done)):void 0}function ni(e,t,r,n){var i=e.history;i.undone.length=0;var o,l,s=+new Date;if((i.lastOp==n||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&i.lastModTime>s-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(o=ri(i,i.lastOp==n)))l=g(o.changes),0==P(t.from,t.to)&&0==P(t.from,l.to)?l.to=Bn(t):o.changes.push(ei(e,t));else{var a=g(i.done);for(a&&a.ranges||li(e.sel,i.done),o={changes:[ei(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(r),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=s,i.lastOp=i.lastSelOp=n,i.lastOrigin=i.lastSelOrigin=t.origin,l||Te(e,"historyAdded")}function ii(e,t,r,n){var i=t.charAt(0);return"*"==i||"+"==i&&r.ranges.length==n.ranges.length&&r.somethingSelected()==n.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function oi(e,t,r,n){var i=e.history,o=n&&n.origin;r==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||ii(e,o,g(i.done),t))?i.done[i.done.length-1]=t:li(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=r,n&&!1!==n.clearRedo&&ti(i.undone)}function li(e,t){var r=g(t);r&&r.ranges&&r.equals(e)||t.push(e)}function si(e,t,r,n){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,r),Math.min(e.first+e.size,n),function(r){r.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=r.markedSpans),++o})}function ai(e){if(!e)return null;for(var t,r=0;r<e.length;++r)e[r].marker.explicitlyCleared?t||(t=e.slice(0,r)):t&&t.push(e[r]);return t?t.length?t:null:e}function ui(e,t){var r=t["spans_"+e.id];if(!r)return null;for(var n=[],i=0;i<t.text.length;++i)n.push(ai(r[i]));return n}function ci(e,t){var r=ui(e,t),n=J(e,t);if(!r)return n;if(!n)return r;for(var i=0;i<r.length;++i){var o=r[i],l=n[i];if(o&&l)e:for(var s=0;s<l.length;++s){for(var a=l[s],u=0;u<o.length;++u)if(o[u].marker==a.marker)continue e;o.push(a)}else l&&(r[i]=l)}return r}function fi(e,t,r){for(var n=[],i=0;i<e.length;++i){var o=e[i];if(o.ranges)n.push(r?ks.prototype.deepCopy.call(o):o);else{var l=o.changes,s=[];n.push({changes:s});for(var a=0;a<l.length;++a){var u=l[a],c=void 0;if(s.push({from:u.from,to:u.to,text:u.text}),t)for(var f in u)(c=f.match(/^spans_(\d+)$/))&&h(t,Number(c[1]))>-1&&(g(s)[f]=u[f],delete u[f])}}}return n}function hi(e,t,r,n){if(n){var i=e.anchor;if(r){var o=P(t,i)<0;o!=P(r,i)<0?(i=t,t=r):o!=P(t,r)<0&&(t=r)}return new Ts(i,t)}return new Ts(r||t,t)}function di(e,t,r,n,i){null==i&&(i=e.cm&&(e.cm.display.shift||e.extend)),bi(e,new ks([hi(e.sel.primary(),t,r,i)],0),n)}function pi(e,t,r){for(var n=[],i=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)n[o]=hi(e.sel.ranges[o],t[o],null,i);bi(e,zn(n,e.sel.primIndex),r)}function gi(e,t,r,n){var i=e.sel.ranges.slice(0);i[t]=r,bi(e,zn(i,e.sel.primIndex),n)}function vi(e,t,r,n){bi(e,Rn(t,r),n)}function mi(e,t,r){var n={ranges:t.ranges,update:function(t){var r=this;this.ranges=[];for(var n=0;n<t.length;n++)r.ranges[n]=new Ts(U(e,t[n].anchor),U(e,t[n].head))},origin:r&&r.origin};return Te(e,"beforeSelectionChange",e,n),e.cm&&Te(e.cm,"beforeSelectionChange",e.cm,n),n.ranges!=t.ranges?zn(n.ranges,n.ranges.length-1):t}function yi(e,t,r){var n=e.history.done,i=g(n);i&&i.ranges?(n[n.length-1]=t,wi(e,t,r)):bi(e,t,r)}function bi(e,t,r){wi(e,t,r),oi(e,e.sel,e.cm?e.cm.curOp.id:NaN,r)}function wi(e,t,r){(Oe(e,"beforeSelectionChange")||e.cm&&Oe(e.cm,"beforeSelectionChange"))&&(t=mi(e,t,r)),xi(e,Si(e,t,r&&r.bias||(P(t.primary().head,e.sel.primary().head)<0?-1:1),!0)),r&&!1===r.scroll||!e.cm||jr(e.cm)}function xi(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,Ne(e.cm)),bt(e,"cursorActivity",e))}function Ci(e){xi(e,Si(e,e.sel,null,!1))}function Si(e,t,r,n){for(var i,o=0;o<t.ranges.length;o++){var l=t.ranges[o],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],a=ki(e,l.anchor,s&&s.anchor,r,n),u=ki(e,l.head,s&&s.head,r,n);(i||a!=l.anchor||u!=l.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new Ts(a,u))}return i?zn(i,t.primIndex):t}function Li(e,t,r,n,i){var o=M(e,t.line);if(o.markedSpans)for(var l=0;l<o.markedSpans.length;++l){var s=o.markedSpans[l],a=s.marker;if((null==s.from||(a.inclusiveLeft?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(a.inclusiveRight?s.to>=t.ch:s.to>t.ch))){if(i&&(Te(a,"beforeCursorEnter"),a.explicitlyCleared)){if(o.markedSpans){--l;continue}break}if(!a.atomic)continue;if(r){var u=a.find(n<0?1:-1),c=void 0;if((n<0?a.inclusiveRight:a.inclusiveLeft)&&(u=Ti(e,u,-n,u&&u.line==t.line?o:null)),u&&u.line==t.line&&(c=P(u,r))&&(n<0?c<0:c>0))return Li(e,u,t,n,i)}var f=a.find(n<0?-1:1);return(n<0?a.inclusiveLeft:a.inclusiveRight)&&(f=Ti(e,f,n,f.line==t.line?o:null)),f?Li(e,f,t,n,i):null}}return t}function ki(e,t,r,n,i){var o=n||1,l=Li(e,t,r,o,i)||!i&&Li(e,t,r,o,!0)||Li(e,t,r,-o,i)||!i&&Li(e,t,r,-o,!0);return l||(e.cantEdit=!0,E(e.first,0))}function Ti(e,t,r,n){return r<0&&0==t.ch?t.line>e.first?U(e,E(t.line-1)):null:r>0&&t.ch==(n||M(e,t.line)).text.length?t.line<e.first+e.size-1?E(t.line+1,0):null:new E(t.line,t.ch+r)}function Mi(e){e.setSelection(E(e.firstLine(),0),E(e.lastLine()),Gl)}function Ni(e,t,r){var n={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return n.canceled=!0}};return r&&(n.update=function(t,r,i,o){t&&(n.from=U(e,t)),r&&(n.to=U(e,r)),i&&(n.text=i),void 0!==o&&(n.origin=o)}),Te(e,"beforeChange",e,n),e.cm&&Te(e.cm,"beforeChange",e.cm,n),n.canceled?null:{from:n.from,to:n.to,text:n.text,origin:n.origin}}function Oi(e,t,r){if(e.cm){if(!e.cm.curOp)return dn(e.cm,Oi)(e,t,r);if(e.cm.state.suppressEdits)return}if(!(Oe(e,"beforeChange")||e.cm&&Oe(e.cm,"beforeChange"))||(t=Ni(e,t,!0))){var n=Yl&&!r&&te(e,t.from,t.to);if(n)for(var i=n.length-1;i>=0;--i)Ai(e,{from:n[i].from,to:n[i].to,text:i?[""]:t.text,origin:t.origin});else Ai(e,t)}}function Ai(e,t){if(1!=t.text.length||""!=t.text[0]||0!=P(t.from,t.to)){var r=Un(e,t);ni(e,t,r,e.cm?e.cm.curOp.id:NaN),Hi(e,t,r,J(e,t));var n=[];$n(e,function(e,r){r||-1!=h(n,e.history)||(zi(e.history,t),n.push(e.history)),Hi(e,t,null,J(e,t))})}}function Wi(e,t,r){if(!e.cm||!e.cm.state.suppressEdits||r){for(var n,i=e.history,o=e.sel,l="undo"==t?i.done:i.undone,s="undo"==t?i.undone:i.done,a=0;a<l.length&&(n=l[a],r?!n.ranges||n.equals(e.sel):n.ranges);a++);if(a!=l.length){for(i.lastOrigin=i.lastSelOrigin=null;(n=l.pop()).ranges;){if(li(n,s),r&&!n.equals(e.sel))return void bi(e,n,{clearRedo:!1});o=n}var u=[];li(o,s),s.push({changes:u,generation:i.generation}),i.generation=n.generation||++i.maxGeneration;for(var c=Oe(e,"beforeChange")||e.cm&&Oe(e.cm,"beforeChange"),f=n.changes.length-1;f>=0;--f){var d=function(r){var i=n.changes[r];if(i.origin=t,c&&!Ni(e,i,!1))return l.length=0,{};u.push(ei(e,i));var o=r?Un(e,i):g(l);Hi(e,i,o,ci(e,i)),!r&&e.cm&&e.cm.scrollIntoView({from:i.from,to:Bn(i)});var s=[];$n(e,function(e,t){t||-1!=h(s,e.history)||(zi(e.history,i),s.push(e.history)),Hi(e,i,null,ci(e,i))})}(f);if(d)return d.v}}}}function Di(e,t){if(0!=t&&(e.first+=t,e.sel=new ks(v(e.sel.ranges,function(e){return new Ts(E(e.anchor.line+t,e.anchor.ch),E(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){vn(e.cm,e.first,e.first-t,t);for(var r=e.cm.display,n=r.viewFrom;n<r.viewTo;n++)mn(e.cm,n,"gutter")}}function Hi(e,t,r,n){if(e.cm&&!e.cm.curOp)return dn(e.cm,Hi)(e,t,r,n);if(t.to.line<e.first)Di(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);Di(e,i),t={from:E(e.first,0),to:E(t.to.line+i,t.to.ch),text:[g(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:E(o,M(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=N(e,t.from,t.to),r||(r=Un(e,t)),e.cm?Fi(e.cm,t,n):_n(e,t,n),wi(e,r,Gl)}}function Fi(e,t,r){var n=e.doc,i=e.display,o=t.from,l=t.to,s=!1,a=o.line;e.options.lineWrapping||(a=W(fe(M(n,o.line))),n.iter(a,l.line+1,function(e){if(e==i.maxLine)return s=!0,!0})),n.sel.contains(t.from,t.to)>-1&&Ne(e),_n(n,t,r,xr(e)),e.options.lineWrapping||(n.iter(a,o.line+t.text.length,function(e){var t=be(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,s=!1)}),s&&(e.curOp.updateMaxLine=!0)),nt(n,o.line),Cn(e,400);var u=t.text.length-(l.line-o.line)-1;t.full?vn(e):o.line!=l.line||1!=t.text.length||Yn(e.doc,t)?vn(e,o.line,l.line+1,u):mn(e,o.line,"text");var c=Oe(e,"changes"),f=Oe(e,"change");if(f||c){var h={from:o,to:l,text:t.text,removed:t.removed,origin:t.origin};f&&bt(e,"change",e,h),c&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(h)}e.display.selForContextMenu=null}function Ei(e,t,r,n,i){if(n||(n=r),P(n,r)<0){var o;r=(o=[n,r])[0],n=o[1]}"string"==typeof t&&(t=e.splitLines(t)),Oi(e,{from:r,to:n,text:t,origin:i})}function Pi(e,t,r,n){r<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function Ii(e,t,r,n){for(var i=0;i<e.length;++i){var o=e[i],l=!0;if(o.ranges){o.copied||((o=e[i]=o.deepCopy()).copied=!0);for(var s=0;s<o.ranges.length;s++)Pi(o.ranges[s].anchor,t,r,n),Pi(o.ranges[s].head,t,r,n)}else{for(var a=0;a<o.changes.length;++a){var u=o.changes[a];if(r<u.from.line)u.from=E(u.from.line+n,u.from.ch),u.to=E(u.to.line+n,u.to.ch);else if(t<=u.to.line){l=!1;break}}l||(e.splice(0,i+1),i=0)}}}function zi(e,t){var r=t.from.line,n=t.to.line,i=t.text.length-(n-r)-1;Ii(e.done,r,n,i),Ii(e.undone,r,n,i)}function Ri(e,t,r,n){var i=t,o=t;return"number"==typeof t?o=M(e,G(e,t)):i=W(t),null==i?null:(n(o,i)&&e.cm&&mn(e.cm,i,r),o)}function Bi(e){var t=this;this.lines=e,this.parent=null;for(var r=0,n=0;n<e.length;++n)e[n].parent=t,r+=e[n].height;this.height=r}function Gi(e){var t=this;this.children=e;for(var r=0,n=0,i=0;i<e.length;++i){var o=e[i];r+=o.chunkSize(),n+=o.height,o.parent=t}this.size=r,this.height=n,this.parent=null}function Ui(e,t,r){ye(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Kr(e,r)}function Vi(e,t,r,n){var i=new Ms(e,r,n),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),Ri(e,t,"widget",function(t){var r=t.widgets||(t.widgets=[]);if(null==i.insertAt?r.push(i):r.splice(Math.min(r.length-1,Math.max(0,i.insertAt)),0,i),i.line=t,o&&!ve(e,t)){var n=ye(t)<e.scrollTop;A(t,t.height+Ht(i)),n&&Kr(o,i.height),o.curOp.forceUpdate=!0}return!0}),bt(o,"lineWidgetAdded",o,i,"number"==typeof t?t:W(t)),i}function Ki(e,t,r,n,o){if(n&&n.shared)return ji(e,t,r,n,o);if(e.cm&&!e.cm.curOp)return dn(e.cm,Ki)(e,t,r,n,o);var l=new Os(e,o),s=P(t,r);if(n&&c(n,l,!1),s>0||0==s&&!1!==l.clearWhenEmpty)return l;if(l.replacedWith&&(l.collapsed=!0,l.widgetNode=i("span",[l.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||l.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(l.widgetNode.insertLeft=!0)),l.collapsed){if(ce(e,t.line,t,r,l)||t.line!=r.line&&ce(e,r.line,t,r,l))throw new Error("Inserting collapsed marker partially overlapping an existing one");X()}l.addToHistory&&ni(e,{from:t,to:r,origin:"markText"},e.sel,NaN);var a,u=t.line,f=e.cm;if(e.iter(u,r.line+1,function(e){f&&l.collapsed&&!f.options.lineWrapping&&fe(e)==f.display.maxLine&&(a=!0),l.collapsed&&u!=t.line&&A(e,0),q(e,new Y(l,u==t.line?t.ch:null,u==r.line?r.ch:null)),++u}),l.collapsed&&e.iter(t.line,r.line+1,function(t){ve(e,t)&&A(t,0)}),l.clearOnEnter&&Ql(l,"beforeCursorEnter",function(){return l.clear()}),l.readOnly&&(j(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),l.collapsed&&(l.id=++Ns,l.atomic=!0),f){if(a&&(f.curOp.updateMaxLine=!0),l.collapsed)vn(f,t.line,r.line+1);else if(l.className||l.title||l.startStyle||l.endStyle||l.css)for(var h=t.line;h<=r.line;h++)mn(f,h,"text");l.atomic&&Ci(f.doc),bt(f,"markerAdded",f,l)}return l}function ji(e,t,r,n,i){(n=c(n)).shared=!1;var o=[Ki(e,t,r,n,i)],l=o[0],s=n.widgetNode;return $n(e,function(e){s&&(n.widgetNode=s.cloneNode(!0)),o.push(Ki(e,U(e,t),U(e,r),n,i));for(var a=0;a<e.linked.length;++a)if(e.linked[a].isParent)return;l=g(o)}),new As(o,l)}function Xi(e){return e.findMarks(E(e.first,0),e.clipPos(E(e.lastLine())),function(e){return e.parent})}function Yi(e,t){for(var r=0;r<t.length;r++){var n=t[r],i=n.find(),o=e.clipPos(i.from),l=e.clipPos(i.to);if(P(o,l)){var s=Ki(e,o,l,n.primary,n.primary.type);n.markers.push(s),s.parent=n}}}function _i(e){for(var t=0;t<e.length;t++)!function(t){var r=e[t],n=[r.primary.doc];$n(r.primary.doc,function(e){return n.push(e)});for(var i=0;i<r.markers.length;i++){var o=r.markers[i];-1==h(n,o.doc)&&(o.parent=null,r.markers.splice(i--,1))}}(t)}function $i(e){var t=this;if(Qi(t),!Me(t,e)&&!Ft(t.display,e)){We(e),gl&&(Hs=+new Date);var r=Sr(t,e,!0),n=e.dataTransfer.files;if(r&&!t.isReadOnly())if(n&&n.length&&window.FileReader&&window.File)for(var i=n.length,o=Array(i),l=0,s=0;s<i;++s)!function(e,n){if(!t.options.allowDropFileTypes||-1!=h(t.options.allowDropFileTypes,e.type)){var s=new FileReader;s.onload=dn(t,function(){var e=s.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),o[n]=e,++l==i){var a={from:r=U(t.doc,r),to:r,text:t.doc.splitLines(o.join(t.doc.lineSeparator())),origin:"paste"};Oi(t.doc,a),yi(t.doc,Rn(r,Bn(a)))}}),s.readAsText(e)}}(n[s],s);else{if(t.state.draggingText&&t.doc.sel.contains(r)>-1)return t.state.draggingText(e),void setTimeout(function(){return t.display.input.focus()},20);try{var a=e.dataTransfer.getData("Text");if(a){var u;if(t.state.draggingText&&!t.state.draggingText.copy&&(u=t.listSelections()),wi(t.doc,Rn(r,r)),u)for(var c=0;c<u.length;++c)Ei(t.doc,"",u[c].anchor,u[c].head,"drag");t.replaceSelection(a,"around","paste"),t.display.input.focus()}}catch(e){}}}}function qi(e,t){if(gl&&(!e.state.draggingText||+new Date-Hs<100))Fe(t);else if(!Me(e,t)&&!Ft(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!xl)){var r=n("img",null,null,"position: fixed; left: 0; top: 0;");r.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",wl&&(r.width=r.height=1,e.display.wrapper.appendChild(r),r._top=r.offsetTop),t.dataTransfer.setDragImage(r,0,0),wl&&r.parentNode.removeChild(r)}}function Zi(e,t){var i=Sr(e,t);if(i){var o=document.createDocumentFragment();Mr(e,i,o),e.display.dragCursor||(e.display.dragCursor=n("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),r(e.display.dragCursor,o)}}function Qi(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Ji(e){if(document.getElementsByClassName)for(var t=document.getElementsByClassName("CodeMirror"),r=0;r<t.length;r++){var n=t[r].CodeMirror;n&&e(n)}}function eo(){Fs||(to(),Fs=!0)}function to(){var e;Ql(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,Ji(ro)},100))}),Ql(window,"blur",function(){return Ji(Fr)})}function ro(e){var t=e.display;t.lastWrapHeight==t.wrapper.clientHeight&&t.lastWrapWidth==t.wrapper.clientWidth||(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}function no(e){var t=e.split(/-(?!$)/);e=t[t.length-1];for(var r,n,i,o,l=0;l<t.length-1;l++){var s=t[l];if(/^(cmd|meta|m)$/i.test(s))o=!0;else if(/^a(lt)?$/i.test(s))r=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);i=!0}}return r&&(e="Alt-"+e),n&&(e="Ctrl-"+e),o&&(e="Cmd-"+e),i&&(e="Shift-"+e),e}function io(e){var t={};for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];if(/^(name|fallthrough|(de|at)tach)$/.test(r))continue;if("..."==n){delete e[r];continue}for(var i=v(r.split(" "),no),o=0;o<i.length;o++){var l=void 0,s=void 0;o==i.length-1?(s=i.join(" "),l=n):(s=i.slice(0,o+1).join(" "),l="...");var a=t[s];if(a){if(a!=l)throw new Error("Inconsistent bindings for "+s)}else t[s]=l}delete e[r]}for(var u in t)e[u]=t[u];return e}function oo(e,t,r,n){var i=(t=uo(t)).call?t.call(e,n):t[e];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&r(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return oo(e,t.fallthrough,r,n);for(var o=0;o<t.fallthrough.length;o++){var l=oo(e,t.fallthrough[o],r,n);if(l)return l}}}function lo(e){var t="string"==typeof e?e:Es[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function so(e,t,r){var n=e;return t.altKey&&"Alt"!=n&&(e="Alt-"+e),(Dl?t.metaKey:t.ctrlKey)&&"Ctrl"!=n&&(e="Ctrl-"+e),(Dl?t.ctrlKey:t.metaKey)&&"Cmd"!=n&&(e="Cmd-"+e),!r&&t.shiftKey&&"Shift"!=n&&(e="Shift-"+e),e}function ao(e,t){if(wl&&34==e.keyCode&&e.char)return!1;var r=Es[e.keyCode];return null!=r&&!e.altGraphKey&&so(r,e,t)}function uo(e){return"string"==typeof e?Rs[e]:e}function co(e,t){for(var r=e.doc.sel.ranges,n=[],i=0;i<r.length;i++){for(var o=t(r[i]);n.length&&P(o.from,g(n).to)<=0;){var l=n.pop();if(P(l.from,o.from)<0){o.from=l.from;break}}n.push(o)}hn(e,function(){for(var t=n.length-1;t>=0;t--)Ei(e.doc,"",n[t].from,n[t].to,"+delete");jr(e)})}function fo(e,t,r){var n=L(e.text,t+r,r);return n<0||n>e.text.length?null:n}function ho(e,t,r){var n=fo(e,t.ch,r);return null==n?null:new E(t.line,n,r<0?"after":"before")}function po(e,t,r,n,i){if(e){var o=Se(r,t.doc.direction);if(o){var l,s=i<0?g(o):o[0],a=i<0==(1==s.level)?"after":"before";if(s.level>0){var u=Xt(t,r);l=i<0?r.text.length-1:0;var c=Yt(t,u,l).top;l=k(function(e){return Yt(t,u,e).top==c},i<0==(1==s.level)?s.from:s.to-1,l),"before"==a&&(l=fo(r,l,1))}else l=i<0?s.to:s.from;return new E(n,l,a)}}return new E(n,i<0?r.text.length:0,i<0?"before":"after")}function go(e,t,r,n){var i=Se(t,e.doc.direction);if(!i)return ho(t,r,n);r.ch>=t.text.length?(r.ch=t.text.length,r.sticky="before"):r.ch<=0&&(r.ch=0,r.sticky="after");var o=Ce(i,r.ch,r.sticky),l=i[o];if("ltr"==e.doc.direction&&l.level%2==0&&(n>0?l.to>r.ch:l.from<r.ch))return ho(t,r,n);var s,a=function(e,r){return fo(t,e instanceof E?e.ch:e,r)},u=function(r){return e.options.lineWrapping?(s=s||Xt(e,t),hr(e,t,s,r)):{begin:0,end:t.text.length}},c=u("before"==r.sticky?a(r,-1):r.ch);if("rtl"==e.doc.direction||1==l.level){var f=1==l.level==n<0,h=a(r,f?1:-1);if(null!=h&&(f?h<=l.to&&h<=c.end:h>=l.from&&h>=c.begin)){var d=f?"before":"after";return new E(r.line,h,d)}}var p=function(e,t,n){for(var o=function(e,t){return t?new E(r.line,a(e,1),"before"):new E(r.line,e,"after")};e>=0&&e<i.length;e+=t){var l=i[e],s=t>0==(1!=l.level),u=s?n.begin:a(n.end,-1);if(l.from<=u&&u<l.to)return o(u,s);if(u=s?l.from:a(l.to,-1),n.begin<=u&&u<n.end)return o(u,s)}},g=p(o+n,n,c);if(g)return g;var v=n>0?c.end:a(c.begin,-1);return null==v||n>0&&v==t.text.length||!(g=p(n>0?0:i.length-1,n,u(v)))?null:g}function vo(e,t){var r=M(e.doc,t),n=fe(r);return n!=r&&(t=W(n)),po(!0,e,n,t,1)}function mo(e,t){var r=M(e.doc,t),n=he(r);return n!=r&&(t=W(n)),po(!0,e,r,t,-1)}function yo(e,t){var r=vo(e,t.line),n=M(e.doc,r.line),i=Se(n,e.doc.direction);if(!i||0==i[0].level){var o=Math.max(0,n.text.search(/\S/)),l=t.line==r.line&&t.ch<=o&&t.ch;return E(r.line,l?0:o,r.sticky)}return r}function bo(e,t,r){if("string"==typeof t&&!(t=Bs[t]))return!1;e.display.input.ensurePolled();var n=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r&&(e.display.shift=!1),i=t(e)!=Bl}finally{e.display.shift=n,e.state.suppressEdits=!1}return i}function wo(e,t,r){for(var n=0;n<e.state.keyMaps.length;n++){var i=oo(t,e.state.keyMaps[n],r,e);if(i)return i}return e.options.extraKeys&&oo(t,e.options.extraKeys,r,e)||oo(t,e.options.keyMap,r,e)}function xo(e,t,r,n){var i=e.state.keySeq;if(i){if(lo(t))return"handled";Gs.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),t=i+" "+t}var o=wo(e,t,n);return"multi"==o&&(e.state.keySeq=t),"handled"==o&&bt(e,"keyHandled",e,t,r),"handled"!=o&&"multi"!=o||(We(r),Ar(e)),i&&!o&&/\'$/.test(t)?(We(r),!0):!!o}function Co(e,t){var r=ao(t,!0);return!!r&&(t.shiftKey&&!e.state.keySeq?xo(e,"Shift-"+r,t,function(t){return bo(e,t,!0)})||xo(e,r,t,function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return bo(e,t)}):xo(e,r,t,function(t){return bo(e,t)}))}function So(e,t,r){return xo(e,"'"+r+"'",t,function(t){return bo(e,t,!0)})}function Lo(e){var t=this;if(t.curOp.focus=l(),!Me(t,e)){gl&&vl<11&&27==e.keyCode&&(e.returnValue=!1);var r=e.keyCode;t.display.shift=16==r||e.shiftKey;var n=Co(t,e);wl&&(Us=n?r:null,!n&&88==r&&!rs&&(Ml?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=r||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||ko(t)}}function ko(e){function t(e){18!=e.keyCode&&e.altKey||(Fl(r,"CodeMirror-crosshair"),ke(document,"keyup",t),ke(document,"mouseover",t))}var r=e.display.lineDiv;s(r,"CodeMirror-crosshair"),Ql(document,"keyup",t),Ql(document,"mouseover",t)}function To(e){16==e.keyCode&&(this.doc.sel.shift=!1),Me(this,e)}function Mo(e){var t=this;if(!(Ft(t.display,e)||Me(t,e)||e.ctrlKey&&!e.altKey||Ml&&e.metaKey)){var r=e.keyCode,n=e.charCode;if(wl&&r==Us)return Us=null,void We(e);if(!wl||e.which&&!(e.which<10)||!Co(t,e)){var i=String.fromCharCode(null==n?r:n);"\b"!=i&&(So(t,e,i)||t.display.input.onKeyPress(e))}}}function No(e,t){var r=+new Date;return js&&js.compare(r,e,t)?(Ks=js=null,"triple"):Ks&&Ks.compare(r,e,t)?(js=new Vs(r,e,t),Ks=null,"double"):(Ks=new Vs(r,e,t),js=null,"single")}function Oo(e){var t=this,r=t.display;if(!(Me(t,e)||r.activeTouch&&r.input.supportsTouch()))if(r.input.ensurePolled(),r.shift=e.shiftKey,Ft(r,e))ml||(r.scroller.draggable=!1,setTimeout(function(){return r.scroller.draggable=!0},100));else if(!zo(t,e)){var n=Sr(t,e),i=Pe(e),o=n?No(n,i):"single";window.focus(),1==i&&t.state.selectingText&&t.state.selectingText(e),n&&Ao(t,i,n,o,e)||(1==i?n?Do(t,n,o,e):Ee(e)==r.scroller&&We(e):2==i?(n&&di(t.doc,n),setTimeout(function(){return r.input.focus()},20)):3==i&&(Hl?Ro(t,e):Dr(t)))}}function Ao(e,t,r,n,i){var o="Click";return"double"==n?o="Double"+o:"triple"==n&&(o="Triple"+o),o=(1==t?"Left":2==t?"Middle":"Right")+o,xo(e,so(o,i),i,function(t){if("string"==typeof t&&(t=Bs[t]),!t)return!1;var n=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n=t(e,r)!=Bl}finally{e.state.suppressEdits=!1}return n})}function Wo(e,t,r){var n=e.getOption("configureMouse"),i=n?n(e,t,r):{};if(null==i.unit){var o=Nl?r.shiftKey&&r.metaKey:r.altKey;i.unit=o?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==i.extend||e.doc.extend)&&(i.extend=e.doc.extend||r.shiftKey),null==i.addNew&&(i.addNew=Ml?r.metaKey:r.ctrlKey),null==i.moveOnDrag&&(i.moveOnDrag=!(Ml?r.altKey:r.ctrlKey)),i}function Do(e,t,r,n){gl?setTimeout(u(Wr,e),0):e.curOp.focus=l();var i,o=Wo(e,r,n),s=e.doc.sel;e.options.dragDrop&&Jl&&!e.isReadOnly()&&"single"==r&&(i=s.contains(t))>-1&&(P((i=s.ranges[i]).from(),t)<0||t.xRel>0)&&(P(i.to(),t)>0||t.xRel<0)?Ho(e,n,t,o):Eo(e,n,t,o)}function Ho(e,t,r,n){var i=e.display,o=!1,l=dn(e,function(t){ml&&(i.scroller.draggable=!1),e.state.draggingText=!1,ke(document,"mouseup",l),ke(document,"mousemove",s),ke(i.scroller,"dragstart",a),ke(i.scroller,"drop",l),o||(We(t),n.addNew||di(e.doc,r,null,null,n.extend),ml||gl&&9==vl?setTimeout(function(){document.body.focus(),i.input.focus()},20):i.input.focus())}),s=function(e){o=o||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},a=function(){return o=!0};ml&&(i.scroller.draggable=!0),e.state.draggingText=l,l.copy=!n.moveOnDrag,i.scroller.dragDrop&&i.scroller.dragDrop(),Ql(document,"mouseup",l),Ql(document,"mousemove",s),Ql(i.scroller,"dragstart",a),Ql(i.scroller,"drop",l),Dr(e),setTimeout(function(){return i.input.focus()},20)}function Fo(e,t,r){if("char"==r)return new Ts(t,t);if("word"==r)return e.findWordAt(t);if("line"==r)return new Ts(E(t.line,0),U(e.doc,E(t.line+1,0)));var n=r(e,t);return new Ts(n.from,n.to)}function Eo(e,t,r,n){function i(t){if(0!=P(m,t))if(m=t,"rectangle"==n.unit){for(var i=[],o=e.options.tabSize,l=f(M(u,r.line).text,r.ch,o),s=f(M(u,t.line).text,t.ch,o),a=Math.min(l,s),g=Math.max(l,s),v=Math.min(r.line,t.line),y=Math.min(e.lastLine(),Math.max(r.line,t.line));v<=y;v++){var b=M(u,v).text,w=d(b,a,o);a==g?i.push(new Ts(E(v,w),E(v,w))):b.length>w&&i.push(new Ts(E(v,w),E(v,d(b,g,o))))}i.length||i.push(new Ts(r,r)),bi(u,zn(p.ranges.slice(0,h).concat(i),h),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var x,C=c,S=Fo(e,t,n.unit),L=C.anchor;P(S.anchor,L)>0?(x=S.head,L=B(C.from(),S.anchor)):(x=S.anchor,L=R(C.to(),S.head));var k=p.ranges.slice(0);k[h]=Po(e,new Ts(U(u,L),x)),bi(u,zn(k,h),Ul)}}function o(t){var r=++b,s=Sr(e,t,!0,"rectangle"==n.unit);if(s)if(0!=P(s,m)){e.curOp.focus=l(),i(s);var c=Ir(a,u);(s.line>=c.to||s.line<c.from)&&setTimeout(dn(e,function(){b==r&&o(t)}),150)}else{var f=t.clientY<y.top?-20:t.clientY>y.bottom?20:0;f&&setTimeout(dn(e,function(){b==r&&(a.scroller.scrollTop+=f,o(t))}),50)}}function s(t){e.state.selectingText=!1,b=1/0,We(t),a.input.focus(),ke(document,"mousemove",w),ke(document,"mouseup",x),u.history.lastSelOrigin=null}var a=e.display,u=e.doc;We(t);var c,h,p=u.sel,g=p.ranges;if(n.addNew&&!n.extend?(h=u.sel.contains(r),c=h>-1?g[h]:new Ts(r,r)):(c=u.sel.primary(),h=u.sel.primIndex),"rectangle"==n.unit)n.addNew||(c=new Ts(r,r)),r=Sr(e,t,!0,!0),h=-1;else{var v=Fo(e,r,n.unit);c=n.extend?hi(c,v.anchor,v.head,n.extend):v}n.addNew?-1==h?(h=g.length,bi(u,zn(g.concat([c]),h),{scroll:!1,origin:"*mouse"})):g.length>1&&g[h].empty()&&"char"==n.unit&&!n.extend?(bi(u,zn(g.slice(0,h).concat(g.slice(h+1)),0),{scroll:!1,origin:"*mouse"}),p=u.sel):gi(u,h,c,Ul):(h=0,bi(u,new ks([c],0),Ul),p=u.sel);var m=r,y=a.wrapper.getBoundingClientRect(),b=0,w=dn(e,function(e){Pe(e)?o(e):s(e)}),x=dn(e,s);e.state.selectingText=x,Ql(document,"mousemove",w),Ql(document,"mouseup",x)}function Po(e,t){var r=t.anchor,n=t.head,i=M(e.doc,r.line);if(0==P(r,n)&&r.sticky==n.sticky)return t;var o=Se(i);if(!o)return t;var l=Ce(o,r.ch,r.sticky),s=o[l];if(s.from!=r.ch&&s.to!=r.ch)return t;var a=l+(s.from==r.ch==(1!=s.level)?0:1);if(0==a||a==o.length)return t;var u;if(n.line!=r.line)u=(n.line-r.line)*("ltr"==e.doc.direction?1:-1)>0;else{var c=Ce(o,n.ch,n.sticky),f=c-l||(n.ch-r.ch)*(1==s.level?-1:1);u=c==a-1||c==a?f<0:f>0}var h=o[a+(u?-1:0)],d=u==(1==h.level),p=d?h.from:h.to,g=d?"after":"before";return r.ch==p&&r.sticky==g?t:new Ts(new E(r.line,p,g),n)}function Io(e,t,r,n){var i,o;if(t.touches)i=t.touches[0].clientX,o=t.touches[0].clientY;else try{i=t.clientX,o=t.clientY}catch(t){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&We(t);var l=e.display,s=l.lineDiv.getBoundingClientRect();if(o>s.bottom||!Oe(e,r))return He(t);o-=s.top-l.viewOffset;for(var a=0;a<e.options.gutters.length;++a){var u=l.gutters.childNodes[a];if(u&&u.getBoundingClientRect().right>=i)return Te(e,r,e,D(e.doc,o),e.options.gutters[a],t),He(t)}}function zo(e,t){return Io(e,t,"gutterClick",!0)}function Ro(e,t){Ft(e.display,t)||Bo(e,t)||Me(e,t,"contextmenu")||e.display.input.onContextMenu(t)}function Bo(e,t){return!!Oe(e,"gutterContextMenu")&&Io(e,t,"gutterContextMenu",!1)}function Go(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),er(e)}function Uo(e){Hn(e),vn(e),zr(e)}function Vo(e,t,r){if(!t!=!(r&&r!=Xs)){var n=e.display.dragFunctions,i=t?Ql:ke;i(e.display.scroller,"dragstart",n.start),i(e.display.scroller,"dragenter",n.enter),i(e.display.scroller,"dragover",n.over),i(e.display.scroller,"dragleave",n.leave),i(e.display.scroller,"drop",n.drop)}}function Ko(e){e.options.lineWrapping?(s(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(Fl(e.display.wrapper,"CodeMirror-wrap"),we(e)),Cr(e),vn(e),er(e),setTimeout(function(){return en(e)},100)}function jo(e,t){var r=this;if(!(this instanceof jo))return new jo(e,t);this.options=t=t?c(t):{},c(Ys,t,!1),Fn(t);var n=t.value;"string"==typeof n&&(n=new Ds(n,t.mode,null,t.lineSeparator,t.direction)),this.doc=n;var i=new jo.inputStyles[t.inputStyle](this),o=this.display=new T(e,n,i);o.wrapper.CodeMirror=this,Hn(this),Go(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),rn(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Pl,keySeq:null,specialChars:null},t.autofocus&&!Tl&&o.input.focus(),gl&&vl<11&&setTimeout(function(){return r.display.input.reset(!0)},20),Xo(this),eo(),nn(this),this.curOp.forceUpdate=!0,qn(this,n),t.autofocus&&!Tl||this.hasFocus()?setTimeout(u(Hr,this),20):Fr(this);for(var l in _s)_s.hasOwnProperty(l)&&_s[l](r,t[l],Xs);Rr(this),t.finishInit&&t.finishInit(this);for(var s=0;s<$s.length;++s)$s[s](r);on(this),ml&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function Xo(e){function t(){i.activeTouch&&(o=setTimeout(function(){return i.activeTouch=null},1e3),(l=i.activeTouch).end=+new Date)}function r(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function n(e,t){if(null==t.left)return!0;var r=t.left-e.left,n=t.top-e.top;return r*r+n*n>400}var i=e.display;Ql(i.scroller,"mousedown",dn(e,Oo)),gl&&vl<11?Ql(i.scroller,"dblclick",dn(e,function(t){if(!Me(e,t)){var r=Sr(e,t);if(r&&!zo(e,t)&&!Ft(e.display,t)){We(t);var n=e.findWordAt(r);di(e.doc,n.anchor,n.head)}}})):Ql(i.scroller,"dblclick",function(t){return Me(e,t)||We(t)}),Hl||Ql(i.scroller,"contextmenu",function(t){return Ro(e,t)});var o,l={end:0};Ql(i.scroller,"touchstart",function(t){if(!Me(e,t)&&!r(t)&&!zo(e,t)){i.input.ensurePolled(),clearTimeout(o);var n=+new Date;i.activeTouch={start:n,moved:!1,prev:n-l.end<=300?l:null},1==t.touches.length&&(i.activeTouch.left=t.touches[0].pageX,i.activeTouch.top=t.touches[0].pageY)}}),Ql(i.scroller,"touchmove",function(){i.activeTouch&&(i.activeTouch.moved=!0)}),Ql(i.scroller,"touchend",function(r){var o=i.activeTouch;if(o&&!Ft(i,r)&&null!=o.left&&!o.moved&&new Date-o.start<300){var l,s=e.coordsChar(i.activeTouch,"page");l=!o.prev||n(o,o.prev)?new Ts(s,s):!o.prev.prev||n(o,o.prev.prev)?e.findWordAt(s):new Ts(E(s.line,0),U(e.doc,E(s.line+1,0))),e.setSelection(l.anchor,l.head),e.focus(),We(r)}t()}),Ql(i.scroller,"touchcancel",t),Ql(i.scroller,"scroll",function(){i.scroller.clientHeight&&(qr(e,i.scroller.scrollTop),Qr(e,i.scroller.scrollLeft,!0),Te(e,"scroll",e))}),Ql(i.scroller,"mousewheel",function(t){return In(e,t)}),Ql(i.scroller,"DOMMouseScroll",function(t){return In(e,t)}),Ql(i.wrapper,"scroll",function(){return i.wrapper.scrollTop=i.wrapper.scrollLeft=0}),i.dragFunctions={enter:function(t){Me(e,t)||Fe(t)},over:function(t){Me(e,t)||(Zi(e,t),Fe(t))},start:function(t){return qi(e,t)},drop:dn(e,$i),leave:function(t){Me(e,t)||Qi(e)}};var s=i.input.getField();Ql(s,"keyup",function(t){return To.call(e,t)}),Ql(s,"keydown",dn(e,Lo)),Ql(s,"keypress",dn(e,Mo)),Ql(s,"focus",function(t){return Hr(e,t)}),Ql(s,"blur",function(t){return Fr(e,t)})}function Yo(e,t,r,n){var i,o=e.doc;null==r&&(r="add"),"smart"==r&&(o.mode.indent?i=$e(e,t).state:r="prev");var l=e.options.tabSize,s=M(o,t),a=f(s.text,null,l);s.stateAfter&&(s.stateAfter=null);var u,c=s.text.match(/^\s*/)[0];if(n||/\S/.test(s.text)){if("smart"==r&&((u=o.mode.indent(i,s.text.slice(c.length),s.text))==Bl||u>150)){if(!n)return;r="prev"}}else u=0,r="not";"prev"==r?u=t>o.first?f(M(o,t-1).text,null,l):0:"add"==r?u=a+e.options.indentUnit:"subtract"==r?u=a-e.options.indentUnit:"number"==typeof r&&(u=a+r),u=Math.max(0,u);var h="",d=0;if(e.options.indentWithTabs)for(var g=Math.floor(u/l);g;--g)d+=l,h+="\t";if(d<u&&(h+=p(u-d)),h!=c)return Ei(o,h,E(t,0),E(t,c.length),"+input"),s.stateAfter=null,!0;for(var v=0;v<o.sel.ranges.length;v++){var m=o.sel.ranges[v];if(m.head.line==t&&m.head.ch<c.length){var y=E(t,c.length);gi(o,v,new Ts(y,y));break}}}function _o(e){qs=e}function $o(e,t,r,n,i){var o=e.doc;e.display.shift=!1,n||(n=o.sel);var l=e.state.pasteIncoming||"paste"==i,s=es(t),a=null;if(l&&n.ranges.length>1)if(qs&&qs.text.join("\n")==t){if(n.ranges.length%qs.text.length==0){a=[];for(var u=0;u<qs.text.length;u++)a.push(o.splitLines(qs.text[u]))}}else s.length==n.ranges.length&&e.options.pasteLinesPerSelection&&(a=v(s,function(e){return[e]}));for(var c,f=n.ranges.length-1;f>=0;f--){var h=n.ranges[f],d=h.from(),p=h.to();h.empty()&&(r&&r>0?d=E(d.line,d.ch-r):e.state.overwrite&&!l?p=E(p.line,Math.min(M(o,p.line).text.length,p.ch+g(s).length)):qs&&qs.lineWise&&qs.text.join("\n")==t&&(d=p=E(d.line,0))),c=e.curOp.updateInput;var m={from:d,to:p,text:a?a[f%a.length]:s,origin:i||(l?"paste":e.state.cutIncoming?"cut":"+input")};Oi(e.doc,m),bt(e,"inputRead",e,m)}t&&!l&&Zo(e,t),jr(e),e.curOp.updateInput=c,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function qo(e,t){var r=e.clipboardData&&e.clipboardData.getData("Text");if(r)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||hn(t,function(){return $o(t,r,0,null,"paste")}),!0}function Zo(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var r=e.doc.sel,n=r.ranges.length-1;n>=0;n--){var i=r.ranges[n];if(!(i.head.ch>100||n&&r.ranges[n-1].head.line==i.head.line)){var o=e.getModeAt(i.head),l=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(t.indexOf(o.electricChars.charAt(s))>-1){l=Yo(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(M(e.doc,i.head.line).text.slice(0,i.head.ch))&&(l=Yo(e,i.head.line,"smart"));l&&bt(e,"electricInput",e,i.head.line)}}}function Qo(e){for(var t=[],r=[],n=0;n<e.doc.sel.ranges.length;n++){var i=e.doc.sel.ranges[n].head.line,o={anchor:E(i,0),head:E(i+1,0)};r.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:r}}function Jo(e,t){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck",!!t)}function el(){var e=n("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=n("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return ml?e.style.width="1000px":e.setAttribute("wrap","off"),Ll&&(e.style.border="1px solid black"),Jo(e),t}function tl(e,t,r,n,i){function o(){var n=t.line+r;return!(n<e.first||n>=e.first+e.size)&&(t=new E(n,t.ch,t.sticky),u=M(e,n))}function l(n){var l;if(null==(l=i?go(e.cm,u,t,r):ho(u,t,r))){if(n||!o())return!1;t=po(i,e.cm,u,t.line,r)}else t=l;return!0}var s=t,a=r,u=M(e,t.line);if("char"==n)l();else if("column"==n)l(!0);else if("word"==n||"group"==n)for(var c=null,f="group"==n,h=e.cm&&e.cm.getHelper(t,"wordChars"),d=!0;!(r<0)||l(!d);d=!1){var p=u.text.charAt(t.ch)||"\n",g=x(p,h)?"w":f&&"\n"==p?"n":!f||/\s/.test(p)?null:"p";if(!f||d||g||(g="s"),c&&c!=g){r<0&&(r=1,l(),t.sticky="after");break}if(g&&(c=g),r>0&&!l(!d))break}var v=ki(e,t,s,a,!0);return I(s,v)&&(v.hitSide=!0),v}function rl(e,t,r,n){var i,o=e.doc,l=t.left;if("page"==n){var s=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),a=Math.max(s-.5*mr(e.display),3);i=(r>0?t.bottom:t.top)+r*a}else"line"==n&&(i=r>0?t.bottom+3:t.top-3);for(var u;(u=cr(e,l,i)).outside;){if(r<0?i<=0:i>=o.height){u.hitSide=!0;break}i+=5*r}return u}function nl(e,t){var r=jt(e,t.line);if(!r||r.hidden)return null;var n=M(e.doc,t.line),i=Ut(r,n,t.line),o=Se(n,e.doc.direction),l="left";o&&(l=Ce(o,t.ch)%2?"right":"left");var s=_t(i.map,t.ch,l);return s.offset="right"==s.collapse?s.end:s.start,s}function il(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function ol(e,t){return t&&(e.bad=!0),e}function ll(e,t,r,n,i){function o(e){return function(t){return t.id==e}}function l(){c&&(u+=f,c=!1)}function s(e){e&&(l(),u+=e)}function a(t){if(1==t.nodeType){var r=t.getAttribute("cm-text");if(null!=r)return void s(r||t.textContent.replace(/\u200b/g,""));var u,h=t.getAttribute("cm-marker");if(h){var d=e.findMarks(E(n,0),E(i+1,0),o(+h));return void(d.length&&(u=d[0].find(0))&&s(N(e.doc,u.from,u.to).join(f)))}if("false"==t.getAttribute("contenteditable"))return;var p=/^(pre|div|p)$/i.test(t.nodeName);p&&l();for(var g=0;g<t.childNodes.length;g++)a(t.childNodes[g]);p&&(c=!0)}else 3==t.nodeType&&s(t.nodeValue)}for(var u="",c=!1,f=e.doc.lineSeparator();a(t),t!=r;)t=t.nextSibling;return u}function sl(e,t,r){var n;if(t==e.display.lineDiv){if(!(n=e.display.lineDiv.childNodes[r]))return ol(e.clipPos(E(e.display.viewTo-1)),!0);t=null,r=0}else for(n=t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==n)return al(o,t,r)}}function al(e,t,r){function n(t,r,n){for(var i=-1;i<(f?f.length:0);i++)for(var o=i<0?c.map:f[i],l=0;l<o.length;l+=3){var s=o[l+2];if(s==t||s==r){var a=W(i<0?e.line:e.rest[i]),u=o[l]+n;return(n<0||s!=t)&&(u=o[l+(n?1:0)]),E(a,u)}}}var i=e.text.firstChild,l=!1;if(!t||!o(i,t))return ol(E(W(e.line),0),!0);if(t==i&&(l=!0,t=i.childNodes[r],r=0,!t)){var s=e.rest?g(e.rest):e.line;return ol(E(W(s),s.text.length),l)}var a=3==t.nodeType?t:null,u=t;for(a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,r&&(r=a.nodeValue.length));u.parentNode!=i;)u=u.parentNode;var c=e.measure,f=c.maps,h=n(a,u,r);if(h)return ol(h,l);for(var d=u.nextSibling,p=a?a.nodeValue.length-r:0;d;d=d.nextSibling){if(h=n(d,d.firstChild,0))return ol(E(h.line,h.ch-p),l);p+=d.textContent.length}for(var v=u.previousSibling,m=r;v;v=v.previousSibling){if(h=n(v,v.firstChild,-1))return ol(E(h.line,h.ch+m),l);m+=v.textContent.length}}var ul=navigator.userAgent,cl=navigator.platform,fl=/gecko\/\d/i.test(ul),hl=/MSIE \d/.test(ul),dl=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ul),pl=/Edge\/(\d+)/.exec(ul),gl=hl||dl||pl,vl=gl&&(hl?document.documentMode||6:+(pl||dl)[1]),ml=!pl&&/WebKit\//.test(ul),yl=ml&&/Qt\/\d+\.\d+/.test(ul),bl=!pl&&/Chrome\//.test(ul),wl=/Opera\//.test(ul),xl=/Apple Computer/.test(navigator.vendor),Cl=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(ul),Sl=/PhantomJS/.test(ul),Ll=!pl&&/AppleWebKit/.test(ul)&&/Mobile\/\w+/.test(ul),kl=/Android/.test(ul),Tl=Ll||kl||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(ul),Ml=Ll||/Mac/.test(cl),Nl=/\bCrOS\b/.test(ul),Ol=/win/i.test(cl),Al=wl&&ul.match(/Version\/(\d*\.\d*)/);Al&&(Al=Number(Al[1])),Al&&Al>=15&&(wl=!1,ml=!0);var Wl,Dl=Ml&&(yl||wl&&(null==Al||Al<12.11)),Hl=fl||gl&&vl>=9,Fl=function(t,r){var n=t.className,i=e(r).exec(n);if(i){var o=n.slice(i.index+i[0].length);t.className=n.slice(0,i.index)+(o?i[1]+o:"")}};Wl=document.createRange?function(e,t,r,n){var i=document.createRange();return i.setEnd(n||e,r),i.setStart(e,t),i}:function(e,t,r){var n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch(e){return n}return n.collapse(!0),n.moveEnd("character",r),n.moveStart("character",t),n};var El=function(e){e.select()};Ll?El=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:gl&&(El=function(e){try{e.select()}catch(e){}});var Pl=function(){this.id=null};Pl.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var Il,zl,Rl=30,Bl={toString:function(){return"CodeMirror.Pass"}},Gl={scroll:!1},Ul={origin:"*mouse"},Vl={origin:"+move"},Kl=[""],jl=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Xl=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,Yl=!1,_l=!1,$l=null,ql=function(){function e(e){return e<=247?r.charAt(e):1424<=e&&e<=1524?"R":1536<=e&&e<=1785?n.charAt(e-1536):1774<=e&&e<=2220?"r":8192<=e&&e<=8203?"w":8204==e?"b":"L"}function t(e,t,r){this.level=e,this.from=t,this.to=r}var r="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",n="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111",i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,l=/[LRr]/,s=/[Lb1n]/,a=/[1n]/;return function(r,n){var u="ltr"==n?"L":"R";if(0==r.length||"ltr"==n&&!i.test(r))return!1;for(var c=r.length,f=[],h=0;h<c;++h)f.push(e(r.charCodeAt(h)));for(var d=0,p=u;d<c;++d){var v=f[d];"m"==v?f[d]=p:p=v}for(var m=0,y=u;m<c;++m){var b=f[m];"1"==b&&"r"==y?f[m]="n":l.test(b)&&(y=b,"r"==b&&(f[m]="R"))}for(var w=1,x=f[0];w<c-1;++w){var C=f[w];"+"==C&&"1"==x&&"1"==f[w+1]?f[w]="1":","!=C||x!=f[w+1]||"1"!=x&&"n"!=x||(f[w]=x),x=C}for(var S=0;S<c;++S){var L=f[S];if(","==L)f[S]="N";else if("%"==L){var k=void 0;for(k=S+1;k<c&&"%"==f[k];++k);for(var T=S&&"!"==f[S-1]||k<c&&"1"==f[k]?"1":"N",M=S;M<k;++M)f[M]=T;S=k-1}}for(var N=0,O=u;N<c;++N){var A=f[N];"L"==O&&"1"==A?f[N]="L":l.test(A)&&(O=A)}for(var W=0;W<c;++W)if(o.test(f[W])){var D=void 0;for(D=W+1;D<c&&o.test(f[D]);++D);for(var H="L"==(W?f[W-1]:u),F=H==("L"==(D<c?f[D]:u))?H?"L":"R":u,E=W;E<D;++E)f[E]=F;W=D-1}for(var P,I=[],z=0;z<c;)if(s.test(f[z])){var R=z;for(++z;z<c&&s.test(f[z]);++z);I.push(new t(0,R,z))}else{var B=z,G=I.length;for(++z;z<c&&"L"!=f[z];++z);for(var U=B;U<z;)if(a.test(f[U])){B<U&&I.splice(G,0,new t(1,B,U));var V=U;for(++U;U<z&&a.test(f[U]);++U);I.splice(G,0,new t(2,V,U)),B=U}else++U;B<z&&I.splice(G,0,new t(1,B,z))}return 1==I[0].level&&(P=r.match(/^\s+/))&&(I[0].from=P[0].length,I.unshift(new t(0,0,P[0].length))),1==g(I).level&&(P=r.match(/\s+$/))&&(g(I).to-=P[0].length,I.push(new t(0,c-P[0].length,c))),"rtl"==n?I.reverse():I}}(),Zl=[],Ql=function(e,t,r){if(e.addEventListener)e.addEventListener(t,r,!1);else if(e.attachEvent)e.attachEvent("on"+t,r);else{var n=e._handlers||(e._handlers={});n[t]=(n[t]||Zl).concat(r)}},Jl=function(){if(gl&&vl<9)return!1;var e=n("div");return"draggable"in e||"dragDrop"in e}(),es=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,r=[],n=e.length;t<=n;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),l=o.indexOf("\r");-1!=l?(r.push(o.slice(0,l)),t+=l+1):(r.push(o),t=i+1)}return r}:function(e){return e.split(/\r\n?|\n/)},ts=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},rs=function(){var e=n("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),ns=null,is={},os={},ls={},ss=function(e,t,r){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=r};ss.prototype.eol=function(){return this.pos>=this.string.length},ss.prototype.sol=function(){return this.pos==this.lineStart},ss.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},ss.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},ss.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},ss.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},ss.prototype.eatSpace=function(){for(var e=this,t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++e.pos;return this.pos>t},ss.prototype.skipToEnd=function(){this.pos=this.string.length},ss.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},ss.prototype.backUp=function(e){this.pos-=e},ss.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=f(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?f(this.string,this.lineStart,this.tabSize):0)},ss.prototype.indentation=function(){return f(this.string,null,this.tabSize)-(this.lineStart?f(this.string,this.lineStart,this.tabSize):0)},ss.prototype.match=function(e,t,r){if("string"!=typeof e){var n=this.string.slice(this.pos).match(e);return n&&n.index>0?null:(n&&!1!==t&&(this.pos+=n[0].length),n)}var i=function(e){return r?e.toLowerCase():e};if(i(this.string.substr(this.pos,e.length))==i(e))return!1!==t&&(this.pos+=e.length),!0},ss.prototype.current=function(){return this.string.slice(this.start,this.pos)},ss.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},ss.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)};var as=function(e,t){this.state=e,this.lookAhead=t},us=function(e,t,r,n){this.state=t,this.doc=e,this.line=r,this.maxLookAhead=n||0};us.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},us.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},us.fromSaved=function(e,t,r){return t instanceof as?new us(e,Ke(e.mode,t.state),r,t.lookAhead):new us(e,Ke(e.mode,t),r)},us.prototype.save=function(e){var t=!1!==e?Ke(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new as(t,this.maxLookAhead):t};var cs=function(e,t,r){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=r},fs=function(e,t,r){this.text=e,ne(this,t),this.height=r?r(this):1};fs.prototype.lineNo=function(){return W(this)},Ae(fs);var hs,ds={},ps={},gs=null,vs=null,ms={left:0,right:0,top:0,bottom:0},ys=function(e,t,r){this.cm=r;var i=this.vert=n("div",[n("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=n("div",[n("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(i),e(o),Ql(i,"scroll",function(){i.clientHeight&&t(i.scrollTop,"vertical")}),Ql(o,"scroll",function(){o.clientWidth&&t(o.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,gl&&vl<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};ys.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,r=e.scrollHeight>e.clientHeight+1,n=e.nativeBarWidth;if(r){this.vert.style.display="block",this.vert.style.bottom=t?n+"px":"0";var i=e.viewHeight-(t?n:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=r?n+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(r?n:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==n&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:r?n:0,bottom:t?n:0}},ys.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},ys.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},ys.prototype.zeroWidthHack=function(){var e=Ml&&!Cl?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Pl,this.disableVert=new Pl},ys.prototype.enableZeroWidthBar=function(e,t,r){function n(){var i=e.getBoundingClientRect();("vert"==r?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,n)}e.style.pointerEvents="auto",t.set(1e3,n)},ys.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var bs=function(){};bs.prototype.update=function(){return{bottom:0,right:0}},bs.prototype.setScrollLeft=function(){},bs.prototype.setScrollTop=function(){},bs.prototype.clear=function(){};var ws={native:ys,null:bs},xs=0,Cs=function(e,t,r){var n=e.display;this.viewport=t,this.visible=Ir(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=Rt(e),this.force=r,this.dims=br(e),this.events=[]};Cs.prototype.signal=function(e,t){Oe(e,t)&&this.events.push(arguments)},Cs.prototype.finish=function(){for(var e=this,t=0;t<this.events.length;t++)Te.apply(null,e.events[t])};var Ss=0,Ls=null;gl?Ls=-.53:fl?Ls=15:bl?Ls=-.7:xl&&(Ls=-1/3);var ks=function(e,t){this.ranges=e,this.primIndex=t};ks.prototype.primary=function(){return this.ranges[this.primIndex]},ks.prototype.equals=function(e){var t=this;if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var r=0;r<this.ranges.length;r++){var n=t.ranges[r],i=e.ranges[r];if(!I(n.anchor,i.anchor)||!I(n.head,i.head))return!1}return!0},ks.prototype.deepCopy=function(){for(var e=this,t=[],r=0;r<this.ranges.length;r++)t[r]=new Ts(z(e.ranges[r].anchor),z(e.ranges[r].head));return new ks(t,this.primIndex)},ks.prototype.somethingSelected=function(){for(var e=this,t=0;t<this.ranges.length;t++)if(!e.ranges[t].empty())return!0;return!1},ks.prototype.contains=function(e,t){var r=this;t||(t=e);for(var n=0;n<this.ranges.length;n++){var i=r.ranges[n];if(P(t,i.from())>=0&&P(e,i.to())<=0)return n}return-1};var Ts=function(e,t){this.anchor=e,this.head=t};Ts.prototype.from=function(){return B(this.anchor,this.head)},Ts.prototype.to=function(){return R(this.anchor,this.head)},Ts.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},Bi.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var r=this,n=e,i=e+t;n<i;++n){var o=r.lines[n];r.height-=o.height,ot(o),bt(o,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,r){var n=this;this.height+=r,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var i=0;i<t.length;++i)t[i].parent=n},iterN:function(e,t,r){for(var n=this,i=e+t;e<i;++e)if(r(n.lines[e]))return!0}},Gi.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){var r=this;this.size-=t;for(var n=0;n<this.children.length;++n){var i=r.children[n],o=i.chunkSize();if(e<o){var l=Math.min(t,o-e),s=i.height;if(i.removeInner(e,l),r.height-=s-i.height,o==l&&(r.children.splice(n--,1),i.parent=null),0==(t-=l))break;e=0}else e-=o}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Bi))){var a=[];this.collapse(a),this.children=[new Bi(a)],this.children[0].parent=this}},collapse:function(e){for(var t=this,r=0;r<this.children.length;++r)t.children[r].collapse(e)},insertInner:function(e,t,r){var n=this;this.size+=t.length,this.height+=r;for(var i=0;i<this.children.length;++i){var o=n.children[i],l=o.chunkSize();if(e<=l){if(o.insertInner(e,t,r),o.lines&&o.lines.length>50){for(var s=o.lines.length%25+25,a=s;a<o.lines.length;){var u=new Bi(o.lines.slice(a,a+=25));o.height-=u.height,n.children.splice(++i,0,u),u.parent=n}o.lines=o.lines.slice(0,s),n.maybeSpill()}break}e-=l}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new Gi(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var r=h(e.parent.children,e);e.parent.children.splice(r+1,0,t)}else{var n=new Gi(e.children);n.parent=e,e.children=[n,t],e=n}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,r){for(var n=this,i=0;i<this.children.length;++i){var o=n.children[i],l=o.chunkSize();if(e<l){var s=Math.min(t,l-e);if(o.iterN(e,s,r))return!0;if(0==(t-=s))break;e=0}else e-=l}}};var Ms=function(e,t,r){var n=this;if(r)for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i]);this.doc=e,this.node=t};Ms.prototype.clear=function(){var e=this,t=this.doc.cm,r=this.line.widgets,n=this.line,i=W(n);if(null!=i&&r){for(var o=0;o<r.length;++o)r[o]==e&&r.splice(o--,1);r.length||(n.widgets=null);var l=Ht(this);A(n,Math.max(0,n.height-l)),t&&(hn(t,function(){Ui(t,n,-l),mn(t,i,"widget")}),bt(t,"lineWidgetCleared",t,this,i))}},Ms.prototype.changed=function(){var e=this,t=this.height,r=this.doc.cm,n=this.line;this.height=null;var i=Ht(this)-t;i&&(A(n,n.height+i),r&&hn(r,function(){r.curOp.forceUpdate=!0,Ui(r,n,i),bt(r,"lineWidgetChanged",r,e,W(n))}))},Ae(Ms);var Ns=0,Os=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++Ns};Os.prototype.clear=function(){var e=this;if(!this.explicitlyCleared){var t=this.doc.cm,r=t&&!t.curOp;if(r&&nn(t),Oe(this,"clear")){var n=this.find();n&&bt(this,"clear",n.from,n.to)}for(var i=null,o=null,l=0;l<this.lines.length;++l){var s=e.lines[l],a=_(s.markedSpans,e);t&&!e.collapsed?mn(t,W(s),"text"):t&&(null!=a.to&&(o=W(s)),null!=a.from&&(i=W(s))),s.markedSpans=$(s.markedSpans,a),null==a.from&&e.collapsed&&!ve(e.doc,s)&&t&&A(s,mr(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var u=0;u<this.lines.length;++u){var c=fe(e.lines[u]),f=be(c);f>t.display.maxLineLength&&(t.display.maxLine=c,t.display.maxLineLength=f,t.display.maxLineChanged=!0)}null!=i&&t&&this.collapsed&&vn(t,i,o+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&Ci(t.doc)),t&&bt(t,"markerCleared",t,this,i,o),r&&on(t),this.parent&&this.parent.clear()}},Os.prototype.find=function(e,t){var r=this;null==e&&"bookmark"==this.type&&(e=1);for(var n,i,o=0;o<this.lines.length;++o){var l=r.lines[o],s=_(l.markedSpans,r);if(null!=s.from&&(n=E(t?l:W(l),s.from),-1==e))return n;if(null!=s.to&&(i=E(t?l:W(l),s.to),1==e))return i}return n&&{from:n,to:i}},Os.prototype.changed=function(){var e=this,t=this.find(-1,!0),r=this,n=this.doc.cm;t&&n&&hn(n,function(){var i=t.line,o=W(t.line),l=jt(n,o);if(l&&(Qt(l),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!ve(r.doc,i)&&null!=r.height){var s=r.height;r.height=null;var a=Ht(r)-s;a&&A(i,i.height+a)}bt(n,"markerChanged",n,e)})},Os.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=h(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},Os.prototype.detachLine=function(e){if(this.lines.splice(h(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},Ae(Os);var As=function(e,t){var r=this;this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=r};As.prototype.clear=function(){var e=this;if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)e.markers[t].clear();bt(this,"clear")}},As.prototype.find=function(e,t){return this.primary.find(e,t)},Ae(As);var Ws=0,Ds=function(e,t,r,n,i){if(!(this instanceof Ds))return new Ds(e,t,r,n,i);null==r&&(r=0),Gi.call(this,[new Bi([new fs("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=r;var o=E(r,0);this.sel=Rn(o),this.history=new Jn(null),this.id=++Ws,this.modeOption=t,this.lineSep=n,this.direction="rtl"==i?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),_n(this,{from:o,to:o,text:e}),bi(this,Rn(o),Gl)};Ds.prototype=b(Gi.prototype,{constructor:Ds,iter:function(e,t,r){r?this.iterN(e-this.first,t-e,r):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var r=0,n=0;n<t.length;++n)r+=t[n].height;this.insertInner(e-this.first,t,r)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=O(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:gn(function(e){var t=E(this.first,0),r=this.first+this.size-1;Oi(this,{from:t,to:E(r,M(this,r).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&Xr(this.cm,0,0),bi(this,Rn(t),Gl)}),replaceRange:function(e,t,r,n){Ei(this,e,t=U(this,t),r=r?U(this,r):t,n)},getRange:function(e,t,r){var n=N(this,U(this,e),U(this,t));return!1===r?n:n.join(r||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(H(this,e))return M(this,e)},getLineNumber:function(e){return W(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=M(this,e)),fe(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return U(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:gn(function(e,t,r){vi(this,U(this,"number"==typeof e?E(e,t||0):e),null,r)}),setSelection:gn(function(e,t,r){vi(this,U(this,e),U(this,t||e),r)}),extendSelection:gn(function(e,t,r){di(this,U(this,e),t&&U(this,t),r)}),extendSelections:gn(function(e,t){pi(this,K(this,e),t)}),extendSelectionsBy:gn(function(e,t){pi(this,K(this,v(this.sel.ranges,e)),t)}),setSelections:gn(function(e,t,r){var n=this;if(e.length){for(var i=[],o=0;o<e.length;o++)i[o]=new Ts(U(n,e[o].anchor),U(n,e[o].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),bi(this,zn(i,t),r)}}),addSelection:gn(function(e,t,r){var n=this.sel.ranges.slice(0);n.push(new Ts(U(this,e),U(this,t||e))),bi(this,zn(n,n.length-1),r)}),getSelection:function(e){for(var t,r=this,n=this.sel.ranges,i=0;i<n.length;i++){var o=N(r,n[i].from(),n[i].to());t=t?t.concat(o):o}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=this,r=[],n=this.sel.ranges,i=0;i<n.length;i++){var o=N(t,n[i].from(),n[i].to());!1!==e&&(o=o.join(e||t.lineSeparator())),r[i]=o}return r},replaceSelection:function(e,t,r){for(var n=[],i=0;i<this.sel.ranges.length;i++)n[i]=e;this.replaceSelections(n,t,r||"+input")},replaceSelections:gn(function(e,t,r){for(var n=this,i=[],o=this.sel,l=0;l<o.ranges.length;l++){var s=o.ranges[l];i[l]={from:s.from(),to:s.to(),text:n.splitLines(e[l]),origin:r}}for(var a=t&&"end"!=t&&Kn(this,i,t),u=i.length-1;u>=0;u--)Oi(n,i[u]);a?yi(this,a):this.cm&&jr(this.cm)}),undo:gn(function(){Wi(this,"undo")}),redo:gn(function(){Wi(this,"redo")}),undoSelection:gn(function(){Wi(this,"undo",!0)}),redoSelection:gn(function(){Wi(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,r=0,n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++r;return{undo:t,redo:r}},clearHistory:function(){this.history=new Jn(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:fi(this.history.done),undone:fi(this.history.undone)}},setHistory:function(e){var t=this.history=new Jn(this.history.maxGeneration);t.done=fi(e.done.slice(0),null,!0),t.undone=fi(e.undone.slice(0),null,!0)},setGutterMarker:gn(function(e,t,r){return Ri(this,e,"gutter",function(e){var n=e.gutterMarkers||(e.gutterMarkers={});return n[t]=r,!r&&C(n)&&(e.gutterMarkers=null),!0})}),clearGutter:gn(function(e){var t=this;this.iter(function(r){r.gutterMarkers&&r.gutterMarkers[e]&&Ri(t,r,"gutter",function(){return r.gutterMarkers[e]=null,C(r.gutterMarkers)&&(r.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if("number"==typeof e){if(!H(this,e))return null;if(t=e,!(e=M(this,e)))return null}else if(null==(t=W(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:gn(function(t,r,n){return Ri(this,t,"gutter"==r?"gutter":"class",function(t){var i="text"==r?"textClass":"background"==r?"bgClass":"gutter"==r?"gutterClass":"wrapClass";if(t[i]){if(e(n).test(t[i]))return!1;t[i]+=" "+n}else t[i]=n;return!0})}),removeLineClass:gn(function(t,r,n){return Ri(this,t,"gutter"==r?"gutter":"class",function(t){var i="text"==r?"textClass":"background"==r?"bgClass":"gutter"==r?"gutterClass":"wrapClass",o=t[i];if(!o)return!1;if(null==n)t[i]=null;else{var l=o.match(e(n));if(!l)return!1;var s=l.index+l[0].length;t[i]=o.slice(0,l.index)+(l.index&&s!=o.length?" ":"")+o.slice(s)||null}return!0})}),addLineWidget:gn(function(e,t,r){return Vi(this,e,t,r)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,r){return Ki(this,U(this,e),U(this,t),r,r&&r.type||"range")},setBookmark:function(e,t){var r={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=U(this,e),Ki(this,e,e,r,"bookmark")},findMarksAt:function(e){var t=[],r=M(this,(e=U(this,e)).line).markedSpans;if(r)for(var n=0;n<r.length;++n){var i=r[n];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,r){e=U(this,e),t=U(this,t);var n=[],i=e.line;return this.iter(e.line,t.line+1,function(o){var l=o.markedSpans;if(l)for(var s=0;s<l.length;s++){var a=l[s];null!=a.to&&i==e.line&&e.ch>=a.to||null==a.from&&i!=e.line||null!=a.from&&i==t.line&&a.from>=t.ch||r&&!r(a.marker)||n.push(a.marker.parent||a.marker)}++i}),n},getAllMarks:function(){var e=[];return this.iter(function(t){var r=t.markedSpans;if(r)for(var n=0;n<r.length;++n)null!=r[n].from&&e.push(r[n].marker)}),e},posFromIndex:function(e){var t,r=this.first,n=this.lineSeparator().length;return this.iter(function(i){var o=i.text.length+n;if(o>e)return t=e,!0;e-=o,++r}),U(this,E(r,t))},indexFromPos:function(e){var t=(e=U(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var r=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+r}),t},copy:function(e){var t=new Ds(O(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,r=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<r&&(r=e.to);var n=new Ds(O(this,t,r),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Yi(n,Xi(this)),n},unlinkDoc:function(e){var t=this;if(e instanceof jo&&(e=e.doc),this.linked)for(var r=0;r<this.linked.length;++r)if(t.linked[r].doc==e){t.linked.splice(r,1),e.unlinkDoc(t),_i(Xi(t));break}if(e.history==this.history){var n=[e.id];$n(e,function(e){return n.push(e.id)},!0),e.history=new Jn(null),e.history.done=fi(this.history.done,n),e.history.undone=fi(this.history.undone,n)}},iterLinkedDocs:function(e){$n(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):es(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:gn(function(e){"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(e){return e.order=null}),this.cm&&Qn(this.cm))})}),Ds.prototype.eachLine=Ds.prototype.iter;for(var Hs=0,Fs=!1,Es={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Ps=0;Ps<10;Ps++)Es[Ps+48]=Es[Ps+96]=String(Ps);for(var Is=65;Is<=90;Is++)Es[Is]=String.fromCharCode(Is);for(var zs=1;zs<=12;zs++)Es[zs+111]=Es[zs+63235]="F"+zs;var Rs={};Rs.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Rs.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Rs.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Rs.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Rs.default=Ml?Rs.macDefault:Rs.pcDefault;var Bs={selectAll:Mi,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Gl)},killLine:function(e){return co(e,function(t){if(t.empty()){var r=M(e.doc,t.head.line).text.length;return t.head.ch==r&&t.head.line<e.lastLine()?{from:t.head,to:E(t.head.line+1,0)}:{from:t.head,to:E(t.head.line,r)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){return co(e,function(t){return{from:E(t.from().line,0),to:U(e.doc,E(t.to().line+1,0))}})},delLineLeft:function(e){return co(e,function(e){return{from:E(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){return co(e,function(t){var r=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:r},"div"),to:t.from()}})},delWrappedLineRight:function(e){return co(e,function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div");return{from:t.from(),to:n}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(E(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(E(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return vo(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return yo(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return mo(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div")},Vl)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:r},"div")},Vl)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:r},"div");return n.ch<e.getLine(n.line).search(/\S/)?yo(e,t.head):n},Vl)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],r=e.listSelections(),n=e.options.tabSize,i=0;i<r.length;i++){var o=r[i].from(),l=f(e.getLine(o.line),o.ch,n);t.push(p(n-l%n))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return hn(e,function(){for(var t=e.listSelections(),r=[],n=0;n<t.length;n++)if(t[n].empty()){var i=t[n].head,o=M(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new E(i.line,i.ch-1)),i.ch>0)i=new E(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),E(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var l=M(e.doc,i.line-1).text;l&&(i=new E(i.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+l.charAt(l.length-1),E(i.line-1,l.length-1),i,"+transpose"))}r.push(new Ts(i,i))}e.setSelections(r)})},newlineAndIndent:function(e){return hn(e,function(){for(var t=e.listSelections(),r=t.length-1;r>=0;r--)e.replaceRange(e.doc.lineSeparator(),t[r].anchor,t[r].head,"+input");t=e.listSelections();for(var n=0;n<t.length;n++)e.indentLine(t[n].from().line,null,!0);jr(e)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}},Gs=new Pl,Us=null,Vs=function(e,t,r){this.time=e,this.pos=t,this.button=r};Vs.prototype.compare=function(e,t,r){return this.time+400>e&&0==P(t,this.pos)&&r==this.button};var Ks,js,Xs={toString:function(){return"CodeMirror.Init"}},Ys={},_s={};jo.defaults=Ys,jo.optionHandlers=_s;var $s=[];jo.defineInitHook=function(e){return $s.push(e)};var qs=null,Zs=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Pl,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Zs.prototype.init=function(e){function t(e){if(!Me(i,e)){if(i.somethingSelected())_o({lineWise:!1,text:i.getSelections()}),"cut"==e.type&&i.replaceSelection("",null,"cut");else{if(!i.options.lineWiseCopyCut)return;var t=Qo(i);_o({lineWise:!0,text:t.text}),"cut"==e.type&&i.operation(function(){i.setSelections(t.ranges,0,Gl),i.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var r=qs.text.join("\n");if(e.clipboardData.setData("Text",r),e.clipboardData.getData("Text")==r)return void e.preventDefault()}var l=el(),s=l.firstChild;i.display.lineSpace.insertBefore(l,i.display.lineSpace.firstChild),s.value=qs.text.join("\n");var a=document.activeElement;El(s),setTimeout(function(){i.display.lineSpace.removeChild(l),a.focus(),a==o&&n.showPrimarySelection()},50)}}var r=this,n=this,i=n.cm,o=n.div=e.lineDiv;Jo(o,i.options.spellcheck),Ql(o,"paste",function(e){Me(i,e)||qo(e,i)||vl<=11&&setTimeout(dn(i,function(){return r.updateFromDOM()}),20)}),Ql(o,"compositionstart",function(e){r.composing={data:e.data,done:!1}}),Ql(o,"compositionupdate",function(e){r.composing||(r.composing={data:e.data,done:!1})}),Ql(o,"compositionend",function(e){r.composing&&(e.data!=r.composing.data&&r.readFromDOMSoon(),r.composing.done=!0)}),Ql(o,"touchstart",function(){return n.forceCompositionEnd()}),Ql(o,"input",function(){r.composing||r.readFromDOMSoon()}),Ql(o,"copy",t),Ql(o,"cut",t)},Zs.prototype.prepareSelection=function(){var e=Tr(this.cm,!1);return e.focus=this.cm.state.focused,e},Zs.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Zs.prototype.showPrimarySelection=function(){var e=window.getSelection(),t=this.cm,r=t.doc.sel.primary(),n=r.from(),i=r.to();if(t.display.viewTo==t.display.viewFrom||n.line>=t.display.viewTo||i.line<t.display.viewFrom)e.removeAllRanges();else{var o=sl(t,e.anchorNode,e.anchorOffset),l=sl(t,e.focusNode,e.focusOffset);if(!o||o.bad||!l||l.bad||0!=P(B(o,l),n)||0!=P(R(o,l),i)){var s=t.display.view,a=n.line>=t.display.viewFrom&&nl(t,n)||{node:s[0].measure.map[2],offset:0},u=i.line<t.display.viewTo&&nl(t,i);if(!u){var c=s[s.length-1].measure,f=c.maps?c.maps[c.maps.length-1]:c.map;u={node:f[f.length-1],offset:f[f.length-2]-f[f.length-3]}}if(a&&u){var h,d=e.rangeCount&&e.getRangeAt(0);try{h=Wl(a.node,a.offset,u.offset,u.node)}catch(e){}h&&(!fl&&t.state.focused?(e.collapse(a.node,a.offset),h.collapsed||(e.removeAllRanges(),e.addRange(h))):(e.removeAllRanges(),e.addRange(h)),d&&null==e.anchorNode?e.addRange(d):fl&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},Zs.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},Zs.prototype.showMultipleSelections=function(e){r(this.cm.display.cursorDiv,e.cursors),r(this.cm.display.selectionDiv,e.selection)},Zs.prototype.rememberSelection=function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Zs.prototype.selectionInEditor=function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return o(this.div,t)},Zs.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Zs.prototype.blur=function(){this.div.blur()},Zs.prototype.getField=function(){return this.div},Zs.prototype.supportsTouch=function(){return!0},Zs.prototype.receivedFocus=function(){function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}var t=this;this.selectionInEditor()?this.pollSelection():hn(this.cm,function(){return t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,e)},Zs.prototype.selectionChanged=function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Zs.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=window.getSelection(),t=this.cm;if(kl&&bl&&this.cm.options.gutters.length&&il(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var r=sl(t,e.anchorNode,e.anchorOffset),n=sl(t,e.focusNode,e.focusOffset);r&&n&&hn(t,function(){bi(t.doc,Rn(r,n),Gl),(r.bad||n.bad)&&(t.curOp.selectionChanged=!0)})}}},Zs.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e=this.cm,t=e.display,r=e.doc.sel.primary(),n=r.from(),i=r.to();if(0==n.ch&&n.line>e.firstLine()&&(n=E(n.line-1,M(e.doc,n.line-1).length)),i.ch==M(e.doc,i.line).text.length&&i.line<e.lastLine()&&(i=E(i.line+1,0)),n.line<t.viewFrom||i.line>t.viewTo-1)return!1;var o,l,s;n.line==t.viewFrom||0==(o=Lr(e,n.line))?(l=W(t.view[0].line),s=t.view[0].node):(l=W(t.view[o].line),s=t.view[o-1].node.nextSibling);var a,u,c=Lr(e,i.line);if(c==t.view.length-1?(a=t.viewTo-1,u=t.lineDiv.lastChild):(a=W(t.view[c+1].line)-1,u=t.view[c+1].node.previousSibling),!s)return!1;for(var f=e.doc.splitLines(ll(e,s,u,l,a)),h=N(e.doc,E(l,0),E(a,M(e.doc,a).text.length));f.length>1&&h.length>1;)if(g(f)==g(h))f.pop(),h.pop(),a--;else{if(f[0]!=h[0])break;f.shift(),h.shift(),l++}for(var d=0,p=0,v=f[0],m=h[0],y=Math.min(v.length,m.length);d<y&&v.charCodeAt(d)==m.charCodeAt(d);)++d;for(var b=g(f),w=g(h),x=Math.min(b.length-(1==f.length?d:0),w.length-(1==h.length?d:0));p<x&&b.charCodeAt(b.length-p-1)==w.charCodeAt(w.length-p-1);)++p;if(1==f.length&&1==h.length&&l==n.line)for(;d&&d>n.ch&&b.charCodeAt(b.length-p-1)==w.charCodeAt(w.length-p-1);)d--,p++;f[f.length-1]=b.slice(0,b.length-p).replace(/^\u200b+/,""),f[0]=f[0].slice(d).replace(/\u200b+$/,"");var C=E(l,d),S=E(a,h.length?g(h).length-p:0);return f.length>1||f[0]||P(C,S)?(Ei(e.doc,f,C,S,"+input"),!0):void 0},Zs.prototype.ensurePolled=function(){this.forceCompositionEnd()},Zs.prototype.reset=function(){this.forceCompositionEnd()},Zs.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Zs.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},Zs.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||hn(this.cm,function(){return vn(e.cm)})},Zs.prototype.setUneditable=function(e){e.contentEditable="false"},Zs.prototype.onKeyPress=function(e){0!=e.charCode&&(e.preventDefault(),this.cm.isReadOnly()||dn(this.cm,$o)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},Zs.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},Zs.prototype.onContextMenu=function(){},Zs.prototype.resetPosition=function(){},Zs.prototype.needsContentAttribute=!0;var Qs=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new Pl,this.hasSelection=!1,this.composing=null};Qs.prototype.init=function(e){function t(e){if(!Me(i,e)){if(i.somethingSelected())_o({lineWise:!1,text:i.getSelections()});else{if(!i.options.lineWiseCopyCut)return;var t=Qo(i);_o({lineWise:!0,text:t.text}),"cut"==e.type?i.setSelections(t.ranges,null,Gl):(n.prevInput="",l.value=t.text.join("\n"),El(l))}"cut"==e.type&&(i.state.cutIncoming=!0)}}var r=this,n=this,i=this.cm,o=this.wrapper=el(),l=this.textarea=o.firstChild;e.wrapper.insertBefore(o,e.wrapper.firstChild),Ll&&(l.style.width="0px"),Ql(l,"input",function(){gl&&vl>=9&&r.hasSelection&&(r.hasSelection=null),n.poll()}),Ql(l,"paste",function(e){Me(i,e)||qo(e,i)||(i.state.pasteIncoming=!0,n.fastPoll())}),Ql(l,"cut",t),Ql(l,"copy",t),Ql(e.scroller,"paste",function(t){Ft(e,t)||Me(i,t)||(i.state.pasteIncoming=!0,n.focus())}),Ql(e.lineSpace,"selectstart",function(t){Ft(e,t)||We(t)}),Ql(l,"compositionstart",function(){var e=i.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:i.markText(e,i.getCursor("to"),{className:"CodeMirror-composing"})}}),Ql(l,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},Qs.prototype.prepareSelection=function(){var e=this.cm,t=e.display,r=e.doc,n=Tr(e);if(e.options.moveInputWithCursor){var i=sr(e,r.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),l=t.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+l.top-o.top)),n.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+l.left-o.left))}return n},Qs.prototype.showSelection=function(e){var t=this.cm.display;r(t.cursorDiv,e.cursors),r(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},Qs.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var r=t.getSelection();this.textarea.value=r,t.state.focused&&El(this.textarea),gl&&vl>=9&&(this.hasSelection=r)}else e||(this.prevInput=this.textarea.value="",gl&&vl>=9&&(this.hasSelection=null))}},Qs.prototype.getField=function(){return this.textarea},Qs.prototype.supportsTouch=function(){return!1},Qs.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!Tl||l()!=this.textarea))try{this.textarea.focus()}catch(e){}},Qs.prototype.blur=function(){this.textarea.blur()},Qs.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Qs.prototype.receivedFocus=function(){this.slowPoll()},Qs.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},Qs.prototype.fastPoll=function(){function e(){r.poll()||t?(r.pollingFast=!1,r.slowPoll()):(t=!0,r.polling.set(60,e))}var t=!1,r=this;r.pollingFast=!0,r.polling.set(20,e)},Qs.prototype.poll=function(){var e=this,t=this.cm,r=this.textarea,n=this.prevInput;if(this.contextMenuPending||!t.state.focused||ts(r)&&!n&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=r.value;if(i==n&&!t.somethingSelected())return!1;if(gl&&vl>=9&&this.hasSelection===i||Ml&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||n||(n="​"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var l=0,s=Math.min(n.length,i.length);l<s&&n.charCodeAt(l)==i.charCodeAt(l);)++l;return hn(t,function(){$o(t,i.slice(l),n.length-l,null,e.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?r.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Qs.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Qs.prototype.onKeyPress=function(){gl&&vl>=9&&(this.hasSelection=null),this.fastPoll()},Qs.prototype.onContextMenu=function(e){function t(){if(null!=l.selectionStart){var e=i.somethingSelected(),t="​"+(e?l.value:"");l.value="⇚",l.value=t,n.prevInput=e?"":"​",l.selectionStart=1,l.selectionEnd=t.length,o.selForContextMenu=i.doc.sel}}function r(){if(n.contextMenuPending=!1,n.wrapper.style.cssText=c,l.style.cssText=u,gl&&vl<9&&o.scrollbars.setScrollTop(o.scroller.scrollTop=a),null!=l.selectionStart){(!gl||gl&&vl<9)&&t();var e=0,r=function(){o.selForContextMenu==i.doc.sel&&0==l.selectionStart&&l.selectionEnd>0&&"​"==n.prevInput?dn(i,Mi)(i):e++<10?o.detectingSelectAll=setTimeout(r,500):(o.selForContextMenu=null,o.input.reset())};o.detectingSelectAll=setTimeout(r,200)}}var n=this,i=n.cm,o=i.display,l=n.textarea,s=Sr(i,e),a=o.scroller.scrollTop;if(s&&!wl){i.options.resetSelectionOnContextMenu&&-1==i.doc.sel.contains(s)&&dn(i,bi)(i.doc,Rn(s),Gl);var u=l.style.cssText,c=n.wrapper.style.cssText;n.wrapper.style.cssText="position: absolute";var f=n.wrapper.getBoundingClientRect();l.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-f.top-5)+"px; left: "+(e.clientX-f.left-5)+"px;\n      z-index: 1000; background: "+(gl?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";var h;if(ml&&(h=window.scrollY),o.input.focus(),ml&&window.scrollTo(null,h),o.input.reset(),i.somethingSelected()||(l.value=n.prevInput=" "),n.contextMenuPending=!0,o.selForContextMenu=i.doc.sel,clearTimeout(o.detectingSelectAll),gl&&vl>=9&&t(),Hl){Fe(e);var d=function(){ke(window,"mouseup",d),setTimeout(r,20)};Ql(window,"mouseup",d)}else setTimeout(r,50)}},Qs.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e},Qs.prototype.setUneditable=function(){},Qs.prototype.needsContentAttribute=!1,function(e){function t(t,n,i,o){e.defaults[t]=n,i&&(r[t]=o?function(e,t,r){r!=Xs&&i(e,t,r)}:i)}var r=e.optionHandlers;e.defineOption=t,e.Init=Xs,t("value","",function(e,t){return e.setValue(t)},!0),t("mode",null,function(e,t){e.doc.modeOption=t,jn(e)},!0),t("indentUnit",2,jn,!0),t("indentWithTabs",!1),t("smartIndent",!0),t("tabSize",4,function(e){Xn(e),er(e),vn(e)},!0),t("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var r=[],n=e.doc.first;e.doc.iter(function(e){for(var i=0;;){var o=e.text.indexOf(t,i);if(-1==o)break;i=o+t.length,r.push(E(n,o))}n++});for(var i=r.length-1;i>=0;i--)Ei(e.doc,t,r[i],E(r[i].line,r[i].ch+t.length))}}),t("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,t,r){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),r!=Xs&&e.refresh()}),t("specialCharPlaceholder",at,function(e){return e.refresh()},!0),t("electricChars",!0),t("inputStyle",Tl?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),t("spellcheck",!1,function(e,t){return e.getInputField().spellcheck=t},!0),t("rtlMoveVisually",!Ol),t("wholeLineUpdateBefore",!0),t("theme","default",function(e){Go(e),Uo(e)},!0),t("keyMap","default",function(e,t,r){var n=uo(t),i=r!=Xs&&uo(r);i&&i.detach&&i.detach(e,n),n.attach&&n.attach(e,i||null)}),t("extraKeys",null),t("configureMouse",null),t("lineWrapping",!1,Ko,!0),t("gutters",[],function(e){Fn(e.options),Uo(e)},!0),t("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?wr(e.display)+"px":"0",e.refresh()},!0),t("coverGutterNextToScrollbar",!1,function(e){return en(e)},!0),t("scrollbarStyle","native",function(e){rn(e),en(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),t("lineNumbers",!1,function(e){Fn(e.options),Uo(e)},!0),t("firstLineNumber",1,Uo,!0),t("lineNumberFormatter",function(e){return e},Uo,!0),t("showCursorWhenSelecting",!1,kr,!0),t("resetSelectionOnContextMenu",!0),t("lineWiseCopyCut",!0),t("pasteLinesPerSelection",!0),t("readOnly",!1,function(e,t){"nocursor"==t&&(Fr(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)}),t("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),t("dragDrop",!0,Vo),t("allowDropFileTypes",null),t("cursorBlinkRate",530),t("cursorScrollMargin",0),t("cursorHeight",1,kr,!0),t("singleCursorHeightPerLine",!0,kr,!0),t("workTime",100),t("workDelay",100),t("flattenSpans",!0,Xn,!0),t("addModeClass",!1,Xn,!0),t("pollInterval",100),t("undoDepth",200,function(e,t){return e.doc.history.undoDepth=t}),t("historyEventDelay",1250),t("viewportMargin",10,function(e){return e.refresh()},!0),t("maxHighlightLength",1e4,Xn,!0),t("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),t("tabindex",null,function(e,t){return e.display.input.getField().tabIndex=t||""}),t("autofocus",null),t("direction","ltr",function(e,t){return e.doc.setDirection(t)},!0)}(jo),function(e){var t=e.optionHandlers,r=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,r){var n=this.options,i=n[e];n[e]==r&&"mode"!=e||(n[e]=r,t.hasOwnProperty(e)&&dn(this,t[e])(this,r,i),Te(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](uo(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,r=0;r<t.length;++r)if(t[r]==e||t[r].name==e)return t.splice(r,1),!0},addOverlay:pn(function(t,r){var n=t.token?t:e.getMode(this.options,t);if(n.startState)throw new Error("Overlays may not be stateful.");m(this.state.overlays,{mode:n,modeSpec:t,opaque:r&&r.opaque,priority:r&&r.priority||0},function(e){return e.priority}),this.state.modeGen++,vn(this)}),removeOverlay:pn(function(e){for(var t=this,r=this.state.overlays,n=0;n<r.length;++n){var i=r[n].modeSpec;if(i==e||"string"==typeof e&&i.name==e)return r.splice(n,1),t.state.modeGen++,void vn(t)}}),indentLine:pn(function(e,t,r){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),H(this.doc,e)&&Yo(this,e,t,r)}),indentSelection:pn(function(e){for(var t=this,r=this.doc.sel.ranges,n=-1,i=0;i<r.length;i++){var o=r[i];if(o.empty())o.head.line>n&&(Yo(t,o.head.line,e,!0),n=o.head.line,i==t.doc.sel.primIndex&&jr(t));else{var l=o.from(),s=o.to(),a=Math.max(n,l.line);n=Math.min(t.lastLine(),s.line-(s.ch?0:1))+1;for(var u=a;u<n;++u)Yo(t,u,e);var c=t.doc.sel.ranges;0==l.ch&&r.length==c.length&&c[i].from().ch>0&&gi(t.doc,i,new Ts(l,c[i].to()),Gl)}}}),getTokenAt:function(e,t){return Je(this,e,t)},getLineTokens:function(e,t){return Je(this,E(e),t,!0)},getTokenTypeAt:function(e){e=U(this.doc,e);var t,r=_e(this,M(this.doc,e.line)),n=0,i=(r.length-1)/2,o=e.ch;if(0==o)t=r[2];else for(;;){var l=n+i>>1;if((l?r[2*l-1]:0)>=o)i=l;else{if(!(r[2*l+1]<o)){t=r[2*l+2];break}n=l+1}}var s=t?t.indexOf("overlay "):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var r=this.doc.mode;return r.innerMode?e.innerMode(r,this.getTokenAt(t).state).mode:r},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=this,i=[];if(!r.hasOwnProperty(t))return i;var o=r[t],l=this.getModeAt(e);if("string"==typeof l[t])o[l[t]]&&i.push(o[l[t]]);else if(l[t])for(var s=0;s<l[t].length;s++){var a=o[l[t][s]];a&&i.push(a)}else l.helperType&&o[l.helperType]?i.push(o[l.helperType]):o[l.name]&&i.push(o[l.name]);for(var u=0;u<o._global.length;u++){var c=o._global[u];c.pred(l,n)&&-1==h(i,c.val)&&i.push(c.val)}return i},getStateAfter:function(e,t){var r=this.doc;return e=G(r,null==e?r.first+r.size-1:e),$e(this,e+1,t).state},cursorCoords:function(e,t){var r,n=this.doc.sel.primary();return r=null==e?n.head:"object"==typeof e?U(this.doc,e):e?n.from():n.to(),sr(this,r,t||"page")},charCoords:function(e,t){return lr(this,U(this.doc,e),t||"page")},coordsChar:function(e,t){return e=or(this,e,t||"page"),cr(this,e.left,e.top)},lineAtHeight:function(e,t){return e=or(this,{top:e,left:0},t||"page").top,D(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,r){var n,i=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,i=!0),n=M(this.doc,e)}else n=e;return ir(this,n,{top:0,left:0},t||"page",r||i).top+(i?this.doc.height-ye(n):0)},defaultTextHeight:function(){return mr(this.display)},defaultCharWidth:function(){return yr(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,r,n,i){var o=this.display,l=(e=sr(this,U(this.doc,e))).bottom,s=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==n)l=e.top;else if("above"==n||"near"==n){var a=Math.max(o.wrapper.clientHeight,this.doc.height),u=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==n||e.bottom+t.offsetHeight>a)&&e.top>t.offsetHeight?l=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=a&&(l=e.bottom),s+t.offsetWidth>u&&(s=u-t.offsetWidth)}t.style.top=l+"px",t.style.left=t.style.right="","right"==i?(s=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?s=0:"middle"==i&&(s=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),r&&Ur(this,{left:s,top:l,right:s+t.offsetWidth,bottom:l+t.offsetHeight})},triggerOnKeyDown:pn(Lo),triggerOnKeyPress:pn(Mo),triggerOnKeyUp:To,triggerOnMouseDown:pn(Oo),execCommand:function(e){if(Bs.hasOwnProperty(e))return Bs[e].call(null,this)},triggerElectric:pn(function(e){Zo(this,e)}),findPosH:function(e,t,r,n){var i=this,o=1;t<0&&(o=-1,t=-t);for(var l=U(this.doc,e),s=0;s<t&&!(l=tl(i.doc,l,o,r,n)).hitSide;++s);return l},moveH:pn(function(e,t){var r=this;this.extendSelectionsBy(function(n){return r.display.shift||r.doc.extend||n.empty()?tl(r.doc,n.head,e,t,r.options.rtlMoveVisually):e<0?n.from():n.to()},Vl)}),deleteH:pn(function(e,t){var r=this.doc.sel,n=this.doc;r.somethingSelected()?n.replaceSelection("",null,"+delete"):co(this,function(r){var i=tl(n,r.head,e,t,!1);return e<0?{from:i,to:r.head}:{from:r.head,to:i}})}),findPosV:function(e,t,r,n){var i=this,o=1,l=n;t<0&&(o=-1,t=-t);for(var s=U(this.doc,e),a=0;a<t;++a){var u=sr(i,s,"div");if(null==l?l=u.left:u.left=l,(s=rl(i,u,o,r)).hitSide)break}return s},moveV:pn(function(e,t){var r=this,n=this.doc,i=[],o=!this.display.shift&&!n.extend&&n.sel.somethingSelected();if(n.extendSelectionsBy(function(l){if(o)return e<0?l.from():l.to();var s=sr(r,l.head,"div");null!=l.goalColumn&&(s.left=l.goalColumn),i.push(s.left);var a=rl(r,s,e,t);return"page"==t&&l==n.sel.primary()&&Kr(r,lr(r,a,"div").top-s.top),a},Vl),i.length)for(var l=0;l<n.sel.ranges.length;l++)n.sel.ranges[l].goalColumn=i[l]}),findWordAt:function(e){var t=M(this.doc,e.line).text,r=e.ch,n=e.ch;if(t){var i=this.getHelper(e,"wordChars");"before"!=e.sticky&&n!=t.length||!r?++n:--r;for(var o=t.charAt(r),l=x(o,i)?function(e){return x(e,i)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!x(e)};r>0&&l(t.charAt(r-1));)--r;for(;n<t.length&&l(t.charAt(n));)++n}return new Ts(E(e.line,r),E(e.line,n))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?s(this.display.cursorDiv,"CodeMirror-overwrite"):Fl(this.display.cursorDiv,"CodeMirror-overwrite"),Te(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==l()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:pn(function(e,t){Xr(this,e,t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-zt(this)-this.display.barHeight,width:e.scrollWidth-zt(this)-this.display.barWidth,clientHeight:Bt(this),clientWidth:Rt(this)}},scrollIntoView:pn(function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:E(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?Yr(this,e):$r(this,e.from,e.to,e.margin)}),setSize:pn(function(e,t){var r=this,n=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=n(e)),null!=t&&(this.display.wrapper.style.height=n(t)),this.options.lineWrapping&&Jt(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){mn(r,i,"widget");break}++i}),this.curOp.forceUpdate=!0,Te(this,"refresh",this)}),operation:function(e){return hn(this,e)},startOperation:function(){return nn(this)},endOperation:function(){return on(this)},refresh:pn(function(){var e=this.display.cachedTextHeight;vn(this),this.curOp.forceUpdate=!0,er(this),Xr(this,this.doc.scrollLeft,this.doc.scrollTop),Wn(this),(null==e||Math.abs(e-mr(this.display))>.5)&&Cr(this),Te(this,"refresh",this)}),swapDoc:pn(function(e){var t=this.doc;return t.cm=null,qn(this,e),er(this),this.display.input.reset(),Xr(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,bt(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ae(e),e.registerHelper=function(t,n,i){r.hasOwnProperty(t)||(r[t]=e[t]={_global:[]}),r[t][n]=i},e.registerGlobalHelper=function(t,n,i,o){e.registerHelper(t,n,o),r[t]._global.push({pred:i,val:o})}}(jo);var Js="iter insert remove copy getEditor constructor".split(" ");for(var ea in Ds.prototype)Ds.prototype.hasOwnProperty(ea)&&h(Js,ea)<0&&(jo.prototype[ea]=function(e){return function(){return e.apply(this.doc,arguments)}}(Ds.prototype[ea]));return Ae(Ds),jo.inputStyles={textarea:Qs,contenteditable:Zs},jo.defineMode=function(e){jo.defaults.mode||"null"==e||(jo.defaults.mode=e),Be.apply(this,arguments)},jo.defineMIME=function(e,t){os[e]=t},jo.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),jo.defineMIME("text/plain","null"),jo.defineExtension=function(e,t){jo.prototype[e]=t},jo.defineDocExtension=function(e,t){Ds.prototype[e]=t},jo.fromTextArea=function(e,t){function r(){e.value=a.getValue()}if(t=t?c(t):{},t.value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var n=l();t.autofocus=n==e||null!=e.getAttribute("autofocus")&&n==document.body}var i;if(e.form&&(Ql(e.form,"submit",r),!t.leaveSubmitMethodAlone)){var o=e.form;i=o.submit;try{var s=o.submit=function(){r(),o.submit=i,o.submit(),o.submit=s}}catch(e){}}t.finishInit=function(t){t.save=r,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,r(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(ke(e.form,"submit",r),"function"==typeof e.form.submit&&(e.form.submit=i))}},e.style.display="none";var a=jo(function(t){return e.parentNode.insertBefore(t,e.nextSibling)},t);return a},function(e){e.off=ke,e.on=Ql,e.wheelEventPixels=Pn,e.Doc=Ds,e.splitLines=es,e.countColumn=f,e.findColumn=d,e.isWordChar=w,e.Pass=Bl,e.signal=Te,e.Line=fs,e.changeEnd=Bn,e.scrollbarModel=ws,e.Pos=E,e.cmpPos=P,e.modes=is,e.mimeModes=os,e.resolveMode=Ge,e.getMode=Ue,e.modeExtensions=ls,e.extendMode=Ve,e.copyState=Ke,e.startState=Xe,e.innerMode=je,e.commands=Bs,e.keyMap=Rs,e.keyName=ao,e.isModifierKey=lo,e.lookupKey=oo,e.normalizeKeyMap=io,e.StringStream=ss,e.SharedTextMarker=As,e.TextMarker=Os,e.LineWidget=Ms,e.e_preventDefault=We,e.e_stopPropagation=De,e.e_stop=Fe,e.addClass=s,e.contains=o,e.rmClass=Fl,e.keyNames=Es}(jo),jo.version="5.30.0",jo});
      !function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e,t,n,r,o,a){this.indented=e,this.column=t,this.type=n,this.info=r,this.align=o,this.prev=a}function n(e,n,r,o){var a=e.indented;return e.context&&"statement"==e.context.type&&"statement"!=r&&(a=e.context.indented),e.context=new t(a,n,r,o,null,e.context)}function r(e){var t=e.context.type;return")"!=t&&"]"!=t&&"}"!=t||(e.indented=e.context.indented),e.context=e.context.prev}function o(e,t,n){return"variable"==t.prevToken||"type"==t.prevToken||(!!/\S(?:[^- ]>|[*\]])\s*$|\*$/.test(e.string.slice(0,n))||(!(!t.typeAtEndOfLine||e.column()!=e.indentation())||void 0))}function a(e){for(;;){if(!e||"top"==e.type)return!0;if("}"==e.type&&"namespace"!=e.prev.info)return!1;e=e.prev}}function i(e){for(var t={},n=e.split(" "),r=0;r<n.length;++r)t[n[r]]=!0;return t}function l(e,t){return"function"==typeof e?e(t):e.propertyIsEnumerable(t)}function s(e,t){if(!t.startOfLine)return!1;for(var n,r=null;n=e.peek();){if("\\"==n&&e.match(/^.$/)){r=s;break}if("/"==n&&e.match(/^\/[\/\*]/,!1))break;e.next()}return t.tokenize=r,"meta"}function c(e,t){return"type"==t.prevToken&&"type"}function u(e){return e.eatWhile(/[\w\.']/),"number"}function d(e,t){if(e.backUp(1),e.match(/(R|u8R|uR|UR|LR)/)){var n=e.match(/"([^\s\\()]{0,16})\(/);return!!n&&(t.cpp11RawStringDelim=n[1],t.tokenize=m,m(e,t))}return e.match(/(u8|u|U|L)/)?!!e.match(/["']/,!1)&&"string":(e.next(),!1)}function f(e){var t=/(\w+)::~?(\w+)$/.exec(e);return t&&t[1]==t[2]}function p(e,t){for(var n;null!=(n=e.next());)if('"'==n&&!e.eat('"')){t.tokenize=null;break}return"string"}function m(e,t){var n=t.cpp11RawStringDelim.replace(/[^\w\s]/g,"\\$&");return e.match(new RegExp(".*?\\)"+n+'"'))?t.tokenize=null:e.skipToEnd(),"string"}function h(t,n){function r(e){if(e)for(var t in e)e.hasOwnProperty(t)&&o.push(t)}"string"==typeof t&&(t=[t]);var o=[];r(n.keywords),r(n.types),r(n.builtin),r(n.atoms),o.length&&(n.helperType=t[0],e.registerHelper("hintWords",t[0],o));for(var a=0;a<t.length;++a)e.defineMIME(t[a],n)}function g(e,t){for(var n=!1;!e.eol();){if(!n&&e.match('"""')){t.tokenize=null;break}n="\\"==e.next()&&!n}return"string"}function y(e){return function(t,n){for(var r,o=!1,a=!1;!t.eol();){if(!e&&!o&&t.match('"')){a=!0;break}if(e&&t.match('"""')){a=!0;break}r=t.next(),!o&&"$"==r&&t.match("{")&&t.skipTo("}"),o=!o&&"\\"==r&&!e}return!a&&e||(n.tokenize=null),"string"}}function x(e){return function(t,n){for(var r,o=!1,a=!1;!t.eol();){if(!o&&t.match('"')&&("single"==e||t.match('""'))){a=!0;break}if(!o&&t.match("``")){w=x(e),a=!0;break}r=t.next(),o="single"==e&&!o&&"\\"==r}return a&&(n.tokenize=null),"string"}}e.defineMode("clike",function(i,s){function c(e,t){var n=e.next();if(S[n]){var r=S[n](e,t);if(!1!==r)return r}if('"'==n||"'"==n)return t.tokenize=u(n),t.tokenize(e,t);if(D.test(n))return p=n,null;if(L.test(n)){if(e.backUp(1),e.match(I))return"number";e.next()}if("/"==n){if(e.eat("*"))return t.tokenize=d,d(e,t);if(e.eat("/"))return e.skipToEnd(),"comment"}if(F.test(n)){for(;!e.match(/^\/[\/*]/,!1)&&e.eat(F););return"operator"}if(e.eatWhile(z),P)for(;e.match(P);)e.eatWhile(z);var o=e.current();return l(x,o)?(l(w,o)&&(p="newstatement"),l(v,o)&&(m=!0),"keyword"):l(b,o)?"type":l(k,o)?(l(w,o)&&(p="newstatement"),"builtin"):l(_,o)?"atom":"variable"}function u(e){return function(t,n){for(var r,o=!1,a=!1;null!=(r=t.next());){if(r==e&&!o){a=!0;break}o=!o&&"\\"==r}return(a||!o&&!C)&&(n.tokenize=null),"string"}}function d(e,t){for(var n,r=!1;n=e.next();){if("/"==n&&r){t.tokenize=null;break}r="*"==n}return"comment"}function f(e,t){s.typeFirstDefinitions&&e.eol()&&a(t.context)&&(t.typeAtEndOfLine=o(e,t,e.pos))}var p,m,h=i.indentUnit,g=s.statementIndentUnit||h,y=s.dontAlignCalls,x=s.keywords||{},b=s.types||{},k=s.builtin||{},w=s.blockKeywords||{},v=s.defKeywords||{},_=s.atoms||{},S=s.hooks||{},C=s.multiLineStrings,T=!1!==s.indentStatements,M=!1!==s.indentSwitch,P=s.namespaceSeparator,D=s.isPunctuationChar||/[\[\]{}\(\),;\:\.]/,L=s.numberStart||/[\d\.]/,I=s.number||/^(?:0x[a-f\d]+|0b[01]+|(?:\d+\.?\d*|\.\d+)(?:e[-+]?\d+)?)(u|ll?|l|f)?/i,F=s.isOperatorChar||/[+\-*&%=<>!?|\/]/,z=s.isIdentifierChar||/[\w\$_\xa1-\uffff]/;return{startState:function(e){return{tokenize:null,context:new t((e||0)-h,0,"top",null,!1),indented:0,startOfLine:!0,prevToken:null}},token:function(e,t){var i=t.context;if(e.sol()&&(null==i.align&&(i.align=!1),t.indented=e.indentation(),t.startOfLine=!0),e.eatSpace())return f(e,t),null;p=m=null;var l=(t.tokenize||c)(e,t);if("comment"==l||"meta"==l)return l;if(null==i.align&&(i.align=!0),";"==p||":"==p||","==p&&e.match(/^\s*(?:\/\/.*)?$/,!1))for(;"statement"==t.context.type;)r(t);else if("{"==p)n(t,e.column(),"}");else if("["==p)n(t,e.column(),"]");else if("("==p)n(t,e.column(),")");else if("}"==p){for(;"statement"==i.type;)i=r(t);for("}"==i.type&&(i=r(t));"statement"==i.type;)i=r(t)}else p==i.type?r(t):T&&(("}"==i.type||"top"==i.type)&&";"!=p||"statement"==i.type&&"newstatement"==p)&&n(t,e.column(),"statement",e.current());if("variable"==l&&("def"==t.prevToken||s.typeFirstDefinitions&&o(e,t,e.start)&&a(t.context)&&e.match(/^\s*\(/,!1))&&(l="def"),S.token){var u=S.token(e,t,l);void 0!==u&&(l=u)}return"def"==l&&!1===s.styleDefs&&(l="variable"),t.startOfLine=!1,t.prevToken=m?"def":l||p,f(e,t),l},indent:function(t,n){if(t.tokenize!=c&&null!=t.tokenize||t.typeAtEndOfLine)return e.Pass;var r=t.context,o=n&&n.charAt(0);if("statement"==r.type&&"}"==o&&(r=r.prev),s.dontIndentStatements)for(;"statement"==r.type&&s.dontIndentStatements.test(r.info);)r=r.prev;if(S.indent){var a=S.indent(t,r,n);if("number"==typeof a)return a}var i=o==r.type,l=r.prev&&"switch"==r.prev.info;if(s.allmanIndentation&&/[{(]/.test(o)){for(;"top"!=r.type&&"}"!=r.type;)r=r.prev;return r.indented}return"statement"==r.type?r.indented+("{"==o?0:g):!r.align||y&&")"==r.type?")"!=r.type||i?r.indented+(i?0:h)+(i||!l||/^(?:case|default)\b/.test(n)?0:h):r.indented+g:r.column+(i?0:1)},electricInput:M?/^\s*(?:case .*?:|default:|\{\}?|\})$/:/^\s*[{}]$/,blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",fold:"brace"}});var b="auto if break case register continue return default do sizeof static else struct switch extern typedef union for goto while enum const volatile",k="int long char short double float unsigned signed void size_t ptrdiff_t";h(["text/x-csrc","text/x-c","text/x-chdr"],{name:"clike",keywords:i(b),types:i(k+" bool _Complex _Bool float_t double_t intptr_t intmax_t int8_t int16_t int32_t int64_t uintptr_t uintmax_t uint8_t uint16_t uint32_t uint64_t"),blockKeywords:i("case do else for if switch while struct"),defKeywords:i("struct"),typeFirstDefinitions:!0,atoms:i("null true false"),hooks:{"#":s,"*":c},modeProps:{fold:["brace","include"]}}),h(["text/x-c++src","text/x-c++hdr"],{name:"clike",keywords:i(b+" asm dynamic_cast namespace reinterpret_cast try explicit new static_cast typeid catch operator template typename class friend private this using const_cast inline public throw virtual delete mutable protected alignas alignof constexpr decltype nullptr noexcept thread_local final static_assert override"),types:i(k+" bool wchar_t"),blockKeywords:i("catch class do else finally for if struct switch try while"),defKeywords:i("class namespace struct enum union"),typeFirstDefinitions:!0,atoms:i("true false null"),dontIndentStatements:/^template$/,isIdentifierChar:/[\w\$_~\xa1-\uffff]/,hooks:{"#":s,"*":c,u:d,U:d,L:d,R:d,0:u,1:u,2:u,3:u,4:u,5:u,6:u,7:u,8:u,9:u,token:function(e,t,n){if("variable"==n&&"("==e.peek()&&(";"==t.prevToken||null==t.prevToken||"}"==t.prevToken)&&f(e.current()))return"def"}},namespaceSeparator:"::",modeProps:{fold:["brace","include"]}}),h("text/x-java",{name:"clike",keywords:i("abstract assert break case catch class const continue default do else enum extends final finally float for goto if implements import instanceof interface native new package private protected public return static strictfp super switch synchronized this throw throws transient try volatile while @interface"),types:i("byte short int long float double boolean char void Boolean Byte Character Double Float Integer Long Number Object Short String StringBuffer StringBuilder Void"),blockKeywords:i("catch class do else finally for if switch try while"),defKeywords:i("class interface package enum @interface"),typeFirstDefinitions:!0,atoms:i("true false null"),number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+\.?\d*|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,hooks:{"@":function(e){return!e.match("interface",!1)&&(e.eatWhile(/[\w\$_]/),"meta")}},modeProps:{fold:["brace","import"]}}),h("text/x-csharp",{name:"clike",keywords:i("abstract as async await base break case catch checked class const continue default delegate do else enum event explicit extern finally fixed for foreach goto if implicit in interface internal is lock namespace new operator out override params private protected public readonly ref return sealed sizeof stackalloc static struct switch this throw try typeof unchecked unsafe using virtual void volatile while add alias ascending descending dynamic from get global group into join let orderby partial remove select set value var yield"),types:i("Action Boolean Byte Char DateTime DateTimeOffset Decimal Double Func Guid Int16 Int32 Int64 Object SByte Single String Task TimeSpan UInt16 UInt32 UInt64 bool byte char decimal double short int long object sbyte float string ushort uint ulong"),blockKeywords:i("catch class do else finally for foreach if struct switch try while"),defKeywords:i("class interface namespace struct var"),typeFirstDefinitions:!0,atoms:i("true false null"),hooks:{"@":function(e,t){return e.eat('"')?(t.tokenize=p,p(e,t)):(e.eatWhile(/[\w\$_]/),"meta")}}}),h("text/x-scala",{name:"clike",keywords:i("abstract case catch class def do else extends final finally for forSome if implicit import lazy match new null object override package private protected return sealed super this throw trait try type val var while with yield _ assert assume require print println printf readLine readBoolean readByte readShort readChar readInt readLong readFloat readDouble"),types:i("AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either Enumeration Equiv Error Exception Fractional Function IndexedSeq Int Integral Iterable Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),multiLineStrings:!0,blockKeywords:i("catch class enum do else finally for forSome if match switch try while"),defKeywords:i("class enum def object package trait type val var"),atoms:i("true false null"),indentStatements:!1,indentSwitch:!1,isOperatorChar:/[+\-*&%=<>!?|\/#:@]/,hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"},'"':function(e,t){return!!e.match('""')&&(t.tokenize=g,t.tokenize(e,t))},"'":function(e){return e.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"},"=":function(e,n){var r=n.context;return!("}"!=r.type||!r.align||!e.eat(">"))&&(n.context=new t(r.indented,r.column,r.type,r.info,null,r.prev),"operator")}},modeProps:{closeBrackets:{triples:'"'}}}),h("text/x-kotlin",{name:"clike",keywords:i("package as typealias class interface this super val var fun for is in This throw return break continue object if else while do try when !in !is as? file import where by get set abstract enum open inner override private public internal protected catch finally out final vararg reified dynamic companion constructor init sealed field property receiver param sparam lateinit data inline noinline tailrec external annotation crossinline const operator infix suspend"),types:i("Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),intendSwitch:!1,indentStatements:!1,multiLineStrings:!0,number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+\.?\d*|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,blockKeywords:i("catch class do else finally for if where try while enum"),defKeywords:i("class val var object package interface fun"),atoms:i("true false null this"),hooks:{'"':function(e,t){return t.tokenize=y(e.match('""')),t.tokenize(e,t)}},modeProps:{closeBrackets:{triples:'"'}}}),h(["x-shader/x-vertex","x-shader/x-fragment"],{name:"clike",keywords:i("sampler1D sampler2D sampler3D samplerCube sampler1DShadow sampler2DShadow const attribute uniform varying break continue discard return for while do if else struct in out inout"),types:i("float int bool void vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 mat2 mat3 mat4"),blockKeywords:i("for while do if else struct"),builtin:i("radians degrees sin cos tan asin acos atan pow exp log exp2 sqrt inversesqrt abs sign floor ceil fract mod min max clamp mix step smoothstep length distance dot cross normalize ftransform faceforward reflect refract matrixCompMult lessThan lessThanEqual greaterThan greaterThanEqual equal notEqual any all not texture1D texture1DProj texture1DLod texture1DProjLod texture2D texture2DProj texture2DLod texture2DProjLod texture3D texture3DProj texture3DLod texture3DProjLod textureCube textureCubeLod shadow1D shadow2D shadow1DProj shadow2DProj shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod dFdx dFdy fwidth noise1 noise2 noise3 noise4"),atoms:i("true false gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 gl_FogCoord gl_PointCoord gl_Position gl_PointSize gl_ClipVertex gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor gl_TexCoord gl_FogFragCoord gl_FragCoord gl_FrontFacing gl_FragData gl_FragDepth gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse gl_TexureMatrixTranspose gl_ModelViewMatrixInverseTranspose gl_ProjectionMatrixInverseTranspose gl_ModelViewProjectionMatrixInverseTranspose gl_TextureMatrixInverseTranspose gl_NormalScale gl_DepthRange gl_ClipPlane gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel gl_FrontLightModelProduct gl_BackLightModelProduct gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ gl_FogParameters gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits gl_MaxDrawBuffers"),indentSwitch:!1,hooks:{"#":s},modeProps:{fold:["brace","include"]}}),h("text/x-nesc",{name:"clike",keywords:i(b+"as atomic async call command component components configuration event generic implementation includes interface module new norace nx_struct nx_union post provides signal task uses abstract extends"),types:i(k),blockKeywords:i("case do else for if switch while struct"),atoms:i("null true false"),hooks:{"#":s},modeProps:{fold:["brace","include"]}}),h("text/x-objectivec",{name:"clike",keywords:i(b+"inline restrict _Bool _Complex _Imaginary BOOL Class bycopy byref id IMP in inout nil oneway out Protocol SEL self super atomic nonatomic retain copy readwrite readonly"),types:i(k),atoms:i("YES NO NULL NILL ON OFF true false"),hooks:{"@":function(e){return e.eatWhile(/[\w\$]/),"keyword"},"#":s,indent:function(e,t,n){if("statement"==t.type&&/^@\w/.test(n))return t.indented}},modeProps:{fold:"brace"}}),h("text/x-squirrel",{name:"clike",keywords:i("base break clone continue const default delete enum extends function in class foreach local resume return this throw typeof yield constructor instanceof static"),types:i(k),blockKeywords:i("case catch class else for foreach if switch try while"),defKeywords:i("function local class"),typeFirstDefinitions:!0,atoms:i("true false null"),hooks:{"#":s},modeProps:{fold:["brace","include"]}});var w=null;h("text/x-ceylon",{name:"clike",keywords:i("abstracts alias assembly assert assign break case catch class continue dynamic else exists extends finally for function given if import in interface is let module new nonempty object of out outer package return satisfies super switch then this throw try value void while"),types:function(e){var t=e.charAt(0);return t===t.toUpperCase()&&t!==t.toLowerCase()},blockKeywords:i("case catch class dynamic else finally for function if interface module new object switch try while"),defKeywords:i("class dynamic function interface module object package value"),builtin:i("abstract actual aliased annotation by default deprecated doc final formal late license native optional sealed see serializable shared suppressWarnings tagged throws variable"),isPunctuationChar:/[\[\]{}\(\),;\:\.`]/,isOperatorChar:/[+\-*&%=<>!?|^~:\/]/,numberStart:/[\d#$]/,number:/^(?:#[\da-fA-F_]+|\$[01_]+|[\d_]+[kMGTPmunpf]?|[\d_]+\.[\d_]+(?:[eE][-+]?\d+|[kMGTPmunpf]|)|)/i,multiLineStrings:!0,typeFirstDefinitions:!0,atoms:i("true false null larger smaller equal empty finished"),indentSwitch:!1,styleDefs:!1,hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"},'"':function(e,t){return t.tokenize=x(e.match('""')?"triple":"single"),t.tokenize(e,t)},"`":function(e,t){return!(!w||!e.match("`"))&&(t.tokenize=w,w=null,t.tokenize(e,t))},"'":function(e){return e.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"},token:function(e,t,n){if(("variable"==n||"type"==n)&&"."==t.prevToken)return"variable-2"}},modeProps:{fold:["brace","import"],closeBrackets:{triples:'"'}}})});
      // -------------------------------------------------------------------------
//  Part of the CodeChecker project, under the Apache License v2.0 with
//  LLVM Exceptions. See LICENSE for license information.
//  SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception
// -------------------------------------------------------------------------

var BugViewer = {
  _files : [],
  _reports : [],
  _lineWidgets : [],
  _navigationMenuItems : [],
  _sourceFileData : null,
  _currentReport : null,
  _lastBugEvent  : null,

  init : function (files, reports) {
    this._files = files;
    this._reports = reports;

    this.initEscapeChars();
  },

  initEscapeChars : function () {
    this.escapeChars = {
      ' ' : 'nbsp',
      '<' : 'lt',
      '>' : 'gt',
      '"' : 'quot',
      '&' : 'amp'
    };

    var regexString = '[';
    for (var key in this.escapeChars) {
      regexString += key;
    }
    regexString += ']';

    this.escapeRegExp = new RegExp( regexString, 'g');
  },

  escapeHTML : function (str) {
    var that = this;

    return str.replace(this.escapeRegExp, function (m) {
      return '&' + that.escapeChars[m] + ';';
    });
  },

  initByUrl : function () {
    if (!this._reports) return;

    var state = {};
    window.location.hash.substr(1).split('&').forEach(function (s) {
      var parts = s.split('=');
      state[parts[0]] = parts[1];
    });

    for (var key in this._reports) {
      var report = this._reports[key];
      if (report.reportHash === state['reportHash']) {
        this.navigate(report);
        return;
      }
    }

    this.navigate(this._reports[0]);
  },

  create : function () {
    this._content = document.getElementById('editor-wrapper');
    this._filepath = document.getElementById('file-path');
    this._checkerName = document.getElementById('checker-name');
    this._reviewStatusWrapper =
      document.getElementById('review-status-wrapper');
    this._reviewStatus = document.getElementById('review-status');
    this._editor = document.getElementById('editor');

    this._codeMirror = CodeMirror(this._editor, {
      mode: 'text/x-c++src',
      matchBrackets : true,
      lineNumbers : true,
      readOnly : true,
      foldGutter : true,
      extraKeys : {},
      viewportMargin : 100
    });

    this._createNavigationMenu();
  },

  navigate : function (report, item) {
    if (!item) {
      var items = this._navigationMenuItems.filter(function (navItem) {
        return navItem.report.reportHash === report.reportHash;
      });

      if (!items.length) return;

      item = items[0].widget;
    }

    this._selectedReport.classList.remove('active');
    this._selectedReport = item;
    this._selectedReport.classList.add('active');
    this.setReport(report);
  },

  _createNavigationMenu : function () {
    var that = this;

    var nav = document.getElementById('report-nav');
    var list = document.createElement('ul');
    this._reports.forEach(function (report) {
      var events = report['events'];
      var lastBugEvent = events[events.length - 1];
      var item = document.createElement('li');

      var severity = document.createElement('i');
      severity.className = 'severity-' + report.severity.toLowerCase();

      item.appendChild(severity);
      item.appendChild(document.createTextNode(lastBugEvent.message));

      item.addEventListener('click', function () {
        that.navigate(report, item);
      })
      list.appendChild(item);
      that._navigationMenuItems.push({ report : report, widget : item });
    });

    if (!this._selectedReport && list.childNodes.length) {
      this._selectedReport = list.childNodes[0];
      this._selectedReport.classList.add('active');
    }

    nav.appendChild(list);
  },

  setReport : function (report) {
    this._currentReport = report;
    var events = report['events'];
    var lastBugEvent = events[events.length - 1];
    this.setCurrentBugEvent(lastBugEvent, events.length - 1);
    this.setCheckerName(report.checkerName);
    this.setReviewStatus(report.reviewStatus);

    window.location.hash = '#reportHash=' + report.reportHash;
  },

  setCurrentBugEvent : function (event, idx) {
    this._currentBugEvent = event;
    this.setSourceFileData(this._files[event.location.file]);
    this.drawBugPath();

    this.jumpTo(event.location.line, 0);
    this.highlightBugEvent(event, idx);
  },

  highlightBugEvent : function (event, idx) {
    this._lineWidgets.forEach(function (widget) {
      var lineIdx = widget.node.getAttribute('idx');
      if (parseInt(lineIdx) === idx) {
        widget.node.classList.add('current');
      }
    });
  },

  setCheckerName : function (checkerName) {
    this._checkerName.innerHTML = checkerName;
  },

  setReviewStatus : function (status) {
    if (status) {
      var className =
        'review-status-' + status.toLowerCase().split(' ').join('-');
      this._reviewStatus.className = "review-status " + className;

      this._reviewStatus.innerHTML = status;
      this._reviewStatusWrapper.style.display = 'block';
    } else {
      this._reviewStatusWrapper.style.display = 'none';
    }
  },

  setSourceFileData : function (file) {
    if (this._sourceFileData && file.id === this._sourceFileData.id) {
      return;
    }

    this._sourceFileData = file;
    this._filepath.innerHTML = file.path;
    this._codeMirror.doc.setValue(file.content);
    this._refresh();
  },

  _refresh : function () {
    var that = this;
    setTimeout(function () {
      var fullHeight = parseInt(that._content.clientHeight);
      var headerHeight = that._filepath.clientHeight;

      that._codeMirror.setSize('auto', fullHeight - headerHeight);
      that._codeMirror.refresh();
    }, 200);
  },

  clearBubbles : function () {
    this._lineWidgets.forEach(function (widget) { widget.clear(); });
    this._lineWidgets = [];
  },

  getMessage : function (event, kind) {
    if (kind === 'macro') {
      var name = 'macro expansion' + (event.name ? ': ' + event.name : '');

      return '<span class="tag macro">' + name + '</span>'
        + this.escapeHTML(event.expansion).replace(/(?:\r\n|\r|\n)/g, '<br>');
    } else if (kind === 'note') {
      return '<span class="tag note">note</span>'
        +  this.escapeHTML(event.message).replace(/(?:\r\n|\r|\n)/g, '<br>');
    }
  },

  addExtraPathEvents : function (events, kind) {
    var that = this;

    if (!events) {
      return;
    }

    events.forEach(function (event) {
      if (event.location.file !== that._currentBugEvent.location.file) {
        return;
      }

      var left =
        that._codeMirror.defaultCharWidth() * event.location.col + 'px';

      var element = document.createElement('div');
      element.setAttribute('style', 'margin-left: ' + left);
      element.setAttribute('class', 'check-msg ' + kind);

      var msg = document.createElement('span');
      msg.innerHTML = that.getMessage(event, kind);
      element.appendChild(msg);

      that._lineWidgets.push(that._codeMirror.addLineWidget(
        event.location.line - 1, element));
    });
  },

  drawBugPath : function () {
    var that = this;

    this.clearBubbles();

    this.addExtraPathEvents(this._currentReport.macros, 'macro');
    this.addExtraPathEvents(this._currentReport.notes, 'note');

    // Processing bug path events.
    var currentEvents = this._currentReport.events;
    currentEvents.forEach(function (event, step) {
      if (event.location.file !== that._currentBugEvent.location.file)
        return;

      var left =
        that._codeMirror.defaultCharWidth() * event.location.col + 'px';
      var type = step === currentEvents.length - 1 ? 'error' : 'info';

      var element = document.createElement('div');
      element.setAttribute('style', 'margin-left: ' + left);
      element.setAttribute('class', 'check-msg ' + type);
      element.setAttribute('idx', step);

      var enumeration = document.createElement('span');
      enumeration.setAttribute('class', 'checker-enum ' + type);
      enumeration.innerHTML = step + 1;

      if (currentEvents.length > 1)
        element.appendChild(enumeration);

      var prevBugEvent = step - 1;
      if (step > 0) {
        var prevBug = document.createElement('span');
        prevBug.setAttribute('class', 'arrow left-arrow');
        prevBug.addEventListener('click', function () {
          var event = currentEvents[prevBugEvent];
          that.setCurrentBugEvent(event, prevBugEvent);
        });
        element.appendChild(prevBug);
      }

      var msg = document.createElement('span');
      msg.innerHTML = that.escapeHTML(event.message)
        .replace(/(?:\r\n|\r|\n)/g, '<br>');

      element.appendChild(msg);

      var nextBugEvent = step + 1;
      if (nextBugEvent < currentEvents.length) {
        var nextBug = document.createElement('span');
        nextBug.setAttribute('class', 'arrow right-arrow');
        nextBug.addEventListener('click', function () {
          var event = currentEvents[nextBugEvent];
          that.setCurrentBugEvent(event, nextBugEvent);
        });
        element.appendChild(nextBug);
      }


      that._lineWidgets.push(that._codeMirror.addLineWidget(
        event.location.line - 1, element));
    });
  },

  jumpTo : function (line, column) {
    var that = this;

    setTimeout(function () {
      var selPosPixel
        = that._codeMirror.charCoords({ line : line, ch : column }, 'local');
      var editorSize = {
        width  : that._editor.clientWidth,
        height : that._editor.clientHeight
      };

      that._codeMirror.scrollIntoView({
        top    : selPosPixel.top - 100,
        bottom : selPosPixel.top + editorSize.height - 150,
        left   : selPosPixel.left < editorSize.width - 100
               ? 0
               : selPosPixel.left - 50,
        right  : selPosPixel.left < editorSize.width - 100
               ? 10
               : selPosPixel.left + editorSize.width - 100
      });
    }, 0);
  }
}


      var data = {"files": {"0": {"id": 0, "path": "/src/drivers/net/wireless/realtek/rtlwifi/wifi.h", "content": "/* SPDX-License-Identifier: GPL-2.0 */\n/* Copyright(c) 2009-2012  Realtek Corporation.*/\n\n#ifndef __RTL_WIFI_H__\n#define __RTL_WIFI_H__\n\n#define pr_fmt(fmt) KBUILD_MODNAME \": \" fmt\n\n#include <linux/sched.h>\n#include <linux/firmware.h>\n#include <linux/etherdevice.h>\n#include <linux/vmalloc.h>\n#include <linux/usb.h>\n#include <net/mac80211.h>\n#include <linux/completion.h>\n#include <linux/bitfield.h>\n#include \"debug.h\"\n\n#define\tMASKBYTE0\t\t\t\t0xff\n#define\tMASKBYTE1\t\t\t\t0xff00\n#define\tMASKBYTE2\t\t\t\t0xff0000\n#define\tMASKBYTE3\t\t\t\t0xff000000\n#define\tMASKHWORD\t\t\t\t0xffff0000\n#define\tMASKLWORD\t\t\t\t0x0000ffff\n#define\tMASKDWORD\t\t\t\t0xffffffff\n#define\tMASK12BITS\t\t\t\t0xfff\n#define\tMASKH4BITS\t\t\t\t0xf0000000\n#define MASKOFDM_D\t\t\t\t0xffc00000\n#define\tMASKCCK\t\t\t\t\t0x3f3f3f3f\n\n#define\tMASK4BITS\t\t\t\t0x0f\n#define\tMASK20BITS\t\t\t\t0xfffff\n#define RFREG_OFFSET_MASK\t\t\t0xfffff\n\n#define\tMASKBYTE0\t\t\t\t0xff\n#define\tMASKBYTE1\t\t\t\t0xff00\n#define\tMASKBYTE2\t\t\t\t0xff0000\n#define\tMASKBYTE3\t\t\t\t0xff000000\n#define\tMASKHWORD\t\t\t\t0xffff0000\n#define\tMASKLWORD\t\t\t\t0x0000ffff\n#define\tMASKDWORD\t\t\t\t0xffffffff\n#define\tMASK12BITS\t\t\t\t0xfff\n#define\tMASKH4BITS\t\t\t\t0xf0000000\n#define MASKOFDM_D\t\t\t\t0xffc00000\n#define\tMASKCCK\t\t\t\t\t0x3f3f3f3f\n\n#define\tMASK4BITS\t\t\t\t0x0f\n#define\tMASK20BITS\t\t\t\t0xfffff\n#define RFREG_OFFSET_MASK\t\t\t0xfffff\n\n#define RF_CHANGE_BY_INIT\t\t\t0\n#define RF_CHANGE_BY_IPS\t\t\tBIT(28)\n#define RF_CHANGE_BY_PS\t\t\t\tBIT(29)\n#define RF_CHANGE_BY_HW\t\t\t\tBIT(30)\n#define RF_CHANGE_BY_SW\t\t\t\tBIT(31)\n\n#define IQK_ADDA_REG_NUM\t\t\t16\n#define IQK_MAC_REG_NUM\t\t\t\t4\n#define IQK_THRESHOLD\t\t\t\t8\n\n#define MAX_KEY_LEN\t\t\t\t61\n#define KEY_BUF_SIZE\t\t\t\t5\n\n/* QoS related. */\n/*aci: 0x00\tBest Effort*/\n/*aci: 0x01\tBackground*/\n/*aci: 0x10\tVideo*/\n/*aci: 0x11\tVoice*/\n/*Max: define total number.*/\n#define AC0_BE\t\t\t\t\t0\n#define AC1_BK\t\t\t\t\t1\n#define AC2_VI\t\t\t\t\t2\n#define AC3_VO\t\t\t\t\t3\n#define AC_MAX\t\t\t\t\t4\n#define QOS_QUEUE_NUM\t\t\t\t4\n#define RTL_MAC80211_NUM_QUEUE\t\t\t5\n#define REALTEK_USB_VENQT_MAX_BUF_SIZE\t\t254\n#define RTL_USB_MAX_RX_COUNT\t\t\t100\n#define QBSS_LOAD_SIZE\t\t\t\t5\n#define MAX_WMMELE_LENGTH\t\t\t64\n#define ASPM_L1_LATENCY\t\t\t\t7\n\n#define TOTAL_CAM_ENTRY\t\t\t\t32\n\n/*slot time for 11g. */\n#define RTL_SLOT_TIME_9\t\t\t\t9\n#define RTL_SLOT_TIME_20\t\t\t20\n\n/*related to tcp/ip. */\n#define SNAP_SIZE\t\t6\n#define PROTOC_TYPE_SIZE\t2\n\n/*related with 802.11 frame*/\n#define MAC80211_3ADDR_LEN\t\t\t24\n#define MAC80211_4ADDR_LEN\t\t\t30\n\n#define CHANNEL_MAX_NUMBER\t(14 + 24 + 21)\t/* 14 is the max channel no */\n#define CHANNEL_MAX_NUMBER_2G\t\t14\n#define CHANNEL_MAX_NUMBER_5G\t\t49 /* Please refer to\n\t\t\t\t\t    *\"phy_GetChnlGroup8812A\" and\n\t\t\t\t\t    * \"Hal_ReadTxPowerInfo8812A\"\n\t\t\t\t\t    */\n#define CHANNEL_MAX_NUMBER_5G_80M\t7\n#define CHANNEL_GROUP_MAX\t(3 + 9)\t/*  ch1~3, 4~9, 10~14 = three groups */\n#define MAX_PG_GROUP\t\t\t13\n#define\tCHANNEL_GROUP_MAX_2G\t\t3\n#define\tCHANNEL_GROUP_IDX_5GL\t\t3\n#define\tCHANNEL_GROUP_IDX_5GM\t\t6\n#define\tCHANNEL_GROUP_IDX_5GH\t\t9\n#define\tCHANNEL_GROUP_MAX_5G\t\t9\n#define CHANNEL_MAX_NUMBER_2G\t\t14\n#define AVG_THERMAL_NUM\t\t\t8\n#define AVG_THERMAL_NUM_88E\t\t4\n#define AVG_THERMAL_NUM_8723BE\t\t4\n#define MAX_TID_COUNT\t\t\t9\n\n/* for early mode */\n#define FCS_LEN\t\t\t\t4\n#define EM_HDR_LEN\t\t\t8\n\nenum rtl8192c_h2c_cmd {\n\tH2C_AP_OFFLOAD = 0,\n\tH2C_SETPWRMODE = 1,\n\tH2C_JOINBSSRPT = 2,\n\tH2C_RSVDPAGE = 3,\n\tH2C_RSSI_REPORT = 5,\n\tH2C_RA_MASK = 6,\n\tH2C_MACID_PS_MODE = 7,\n\tH2C_P2P_PS_OFFLOAD = 8,\n\tH2C_MAC_MODE_SEL = 9,\n\tH2C_PWRM = 15,\n\tH2C_P2P_PS_CTW_CMD = 24,\n\tMAX_H2CCMD\n};\n\nenum {\n\tH2C_BT_PORT_ID = 0x71,\n};\n\nenum rtl_c2h_evt_v1 {\n\tC2H_DBG = 0,\n\tC2H_LB = 1,\n\tC2H_TXBF = 2,\n\tC2H_TX_REPORT = 3,\n\tC2H_BT_INFO = 9,\n\tC2H_BT_MP = 11,\n\tC2H_RA_RPT = 12,\n\n\tC2H_FW_SWCHNL = 0x10,\n\tC2H_IQK_FINISH = 0x11,\n\n\tC2H_EXT_V2 = 0xFF,\n};\n\nenum rtl_c2h_evt_v2 {\n\tC2H_V2_CCX_RPT = 0x0F,\n};\n\n#define GET_C2H_CMD_ID(c2h)\t({u8 *__c2h = c2h; __c2h[0]; })\n#define GET_C2H_SEQ(c2h)\t({u8 *__c2h = c2h; __c2h[1]; })\n#define C2H_DATA_OFFSET\t\t2\n#define GET_C2H_DATA_PTR(c2h)\t({u8 *__c2h = c2h; &__c2h[C2H_DATA_OFFSET]; })\n\n#define GET_TX_REPORT_SN_V1(c2h)\t(c2h[6])\n#define GET_TX_REPORT_ST_V1(c2h)\t(c2h[0] & 0xC0)\n#define GET_TX_REPORT_RETRY_V1(c2h)\t(c2h[2] & 0x3F)\n#define GET_TX_REPORT_SN_V2(c2h)\t(c2h[6])\n#define GET_TX_REPORT_ST_V2(c2h)\t(c2h[7] & 0xC0)\n#define GET_TX_REPORT_RETRY_V2(c2h)\t(c2h[8] & 0x3F)\n\n#define MAX_TX_COUNT\t\t\t4\n#define MAX_REGULATION_NUM\t\t4\n#define MAX_RF_PATH_NUM\t\t\t4\n#define MAX_RATE_SECTION_NUM\t\t6\t/* = MAX_RATE_SECTION */\n#define MAX_2_4G_BANDWIDTH_NUM\t\t4\n#define MAX_5G_BANDWIDTH_NUM\t\t4\n#define\tMAX_RF_PATH\t\t\t4\n#define\tMAX_CHNL_GROUP_24G\t\t6\n#define\tMAX_CHNL_GROUP_5G\t\t14\n\n#define TX_PWR_BY_RATE_NUM_BAND\t\t2\n#define TX_PWR_BY_RATE_NUM_RF\t\t4\n#define TX_PWR_BY_RATE_NUM_SECTION\t12\n#define TX_PWR_BY_RATE_NUM_RATE\t\t84 /* >= TX_PWR_BY_RATE_NUM_SECTION */\n#define MAX_BASE_NUM_IN_PHY_REG_PG_24G\t6  /* MAX_RATE_SECTION */\n#define MAX_BASE_NUM_IN_PHY_REG_PG_5G\t5  /* MAX_RATE_SECTION -1 */\n\n#define BUFDESC_SEG_NUM\t\t1 /* 0:2 seg, 1: 4 seg, 2: 8 seg */\n\n#define DEL_SW_IDX_SZ\t\t30\n\n/* For now, it's just for 8192ee\n * but not OK yet, keep it 0\n */\n#define RTL8192EE_SEG_NUM\t\tBUFDESC_SEG_NUM\n\nenum rf_tx_num {\n\tRF_1TX = 0,\n\tRF_2TX,\n\tRF_MAX_TX_NUM,\n\tRF_TX_NUM_NONIMPLEMENT,\n};\n\n#define PACKET_NORMAL\t\t\t0\n#define PACKET_DHCP\t\t\t1\n#define PACKET_ARP\t\t\t2\n#define PACKET_EAPOL\t\t\t3\n\n#define\tMAX_SUPPORT_WOL_PATTERN_NUM\t16\n#define\tRSVD_WOL_PATTERN_NUM\t\t1\n#define\tWKFMCAM_ADDR_NUM\t\t6\n#define\tWKFMCAM_SIZE\t\t\t24\n\n#define\tMAX_WOL_BIT_MASK_SIZE\t\t16\n/* MIN LEN keeps 13 here */\n#define\tMIN_WOL_PATTERN_SIZE\t\t13\n#define\tMAX_WOL_PATTERN_SIZE\t\t128\n\n#define\tWAKE_ON_MAGIC_PACKET\t\tBIT(0)\n#define\tWAKE_ON_PATTERN_MATCH\t\tBIT(1)\n\n#define\tWOL_REASON_PTK_UPDATE\t\tBIT(0)\n#define\tWOL_REASON_GTK_UPDATE\t\tBIT(1)\n#define\tWOL_REASON_DISASSOC\t\tBIT(2)\n#define\tWOL_REASON_DEAUTH\t\tBIT(3)\n#define\tWOL_REASON_AP_LOST\t\tBIT(4)\n#define\tWOL_REASON_MAGIC_PKT\t\tBIT(5)\n#define\tWOL_REASON_UNICAST_PKT\t\tBIT(6)\n#define\tWOL_REASON_PATTERN_PKT\t\tBIT(7)\n#define\tWOL_REASON_RTD3_SSID_MATCH\tBIT(8)\n#define\tWOL_REASON_REALWOW_V2_WAKEUPPKT\tBIT(9)\n#define\tWOL_REASON_REALWOW_V2_ACKLOST\tBIT(10)\n\nstruct rtlwifi_firmware_header {\n\t__le16 signature;\n\tu8 category;\n\tu8 function;\n\t__le16 version;\n\tu8 subversion;\n\tu8 rsvd1;\n\tu8 month;\n\tu8 date;\n\tu8 hour;\n\tu8 minute;\n\t__le16 ramcodesize;\n\t__le16 rsvd2;\n\t__le32 svnindex;\n\t__le32 rsvd3;\n\t__le32 rsvd4;\n\t__le32 rsvd5;\n};\n\nstruct txpower_info_2g {\n\tu8 index_cck_base[MAX_RF_PATH][MAX_CHNL_GROUP_24G];\n\tu8 index_bw40_base[MAX_RF_PATH][MAX_CHNL_GROUP_24G];\n\t/*If only one tx, only BW20 and OFDM are used.*/\n\tu8 cck_diff[MAX_RF_PATH][MAX_TX_COUNT];\n\tu8 ofdm_diff[MAX_RF_PATH][MAX_TX_COUNT];\n\tu8 bw20_diff[MAX_RF_PATH][MAX_TX_COUNT];\n\tu8 bw40_diff[MAX_RF_PATH][MAX_TX_COUNT];\n\tu8 bw80_diff[MAX_RF_PATH][MAX_TX_COUNT];\n\tu8 bw160_diff[MAX_RF_PATH][MAX_TX_COUNT];\n};\n\nstruct txpower_info_5g {\n\tu8 index_bw40_base[MAX_RF_PATH][MAX_CHNL_GROUP_5G];\n\t/*If only one tx, only BW20, OFDM, BW80 and BW160 are used.*/\n\tu8 ofdm_diff[MAX_RF_PATH][MAX_TX_COUNT];\n\tu8 bw20_diff[MAX_RF_PATH][MAX_TX_COUNT];\n\tu8 bw40_diff[MAX_RF_PATH][MAX_TX_COUNT];\n\tu8 bw80_diff[MAX_RF_PATH][MAX_TX_COUNT];\n\tu8 bw160_diff[MAX_RF_PATH][MAX_TX_COUNT];\n};\n\nenum rate_section {\n\tCCK = 0,\n\tOFDM,\n\tHT_MCS0_MCS7,\n\tHT_MCS8_MCS15,\n\tVHT_1SSMCS0_1SSMCS9,\n\tVHT_2SSMCS0_2SSMCS9,\n\tMAX_RATE_SECTION,\n};\n\nenum intf_type {\n\tINTF_PCI = 0,\n\tINTF_USB = 1,\n};\n\nenum radio_path {\n\tRF90_PATH_A = 0,\n\tRF90_PATH_B = 1,\n\tRF90_PATH_C = 2,\n\tRF90_PATH_D = 3,\n};\n\nenum radio_mask {\n\tRF_MASK_A = BIT(0),\n\tRF_MASK_B = BIT(1),\n\tRF_MASK_C = BIT(2),\n\tRF_MASK_D = BIT(3),\n};\n\nenum regulation_txpwr_lmt {\n\tTXPWR_LMT_FCC = 0,\n\tTXPWR_LMT_MKK = 1,\n\tTXPWR_LMT_ETSI = 2,\n\tTXPWR_LMT_WW = 3,\n\n\tTXPWR_LMT_MAX_REGULATION_NUM = 4\n};\n\nenum rt_eeprom_type {\n\tEEPROM_93C46,\n\tEEPROM_93C56,\n\tEEPROM_BOOT_EFUSE,\n};\n\nenum ttl_status {\n\tRTL_STATUS_INTERFACE_START = 0,\n};\n\nenum hardware_type {\n\tHARDWARE_TYPE_RTL8192E,\n\tHARDWARE_TYPE_RTL8192U,\n\tHARDWARE_TYPE_RTL8192SE,\n\tHARDWARE_TYPE_RTL8192SU,\n\tHARDWARE_TYPE_RTL8192CE,\n\tHARDWARE_TYPE_RTL8192CU,\n\tHARDWARE_TYPE_RTL8192DE,\n\tHARDWARE_TYPE_RTL8192DU,\n\tHARDWARE_TYPE_RTL8723AE,\n\tHARDWARE_TYPE_RTL8723U,\n\tHARDWARE_TYPE_RTL8188EE,\n\tHARDWARE_TYPE_RTL8723BE,\n\tHARDWARE_TYPE_RTL8192EE,\n\tHARDWARE_TYPE_RTL8821AE,\n\tHARDWARE_TYPE_RTL8812AE,\n\tHARDWARE_TYPE_RTL8822BE,\n\n\t/* keep it last */\n\tHARDWARE_TYPE_NUM\n};\n\n#define RTL_HW_TYPE(rtlpriv)\t(rtl_hal((struct rtl_priv *)rtlpriv)->hw_type)\n#define IS_NEW_GENERATION_IC(rtlpriv)\t\t\t\\\n\t\t\t(RTL_HW_TYPE(rtlpriv) >= HARDWARE_TYPE_RTL8192EE)\n#define IS_HARDWARE_TYPE_8192CE(rtlpriv)\t\t\\\n\t\t\t(RTL_HW_TYPE(rtlpriv) == HARDWARE_TYPE_RTL8192CE)\n#define IS_HARDWARE_TYPE_8812(rtlpriv)\t\t\t\\\n\t\t\t(RTL_HW_TYPE(rtlpriv) == HARDWARE_TYPE_RTL8812AE)\n#define IS_HARDWARE_TYPE_8821(rtlpriv)\t\t\t\\\n\t\t\t(RTL_HW_TYPE(rtlpriv) == HARDWARE_TYPE_RTL8821AE)\n#define IS_HARDWARE_TYPE_8723A(rtlpriv)\t\t\t\\\n\t\t\t(RTL_HW_TYPE(rtlpriv) == HARDWARE_TYPE_RTL8723AE)\n#define IS_HARDWARE_TYPE_8723B(rtlpriv)\t\t\t\\\n\t\t\t(RTL_HW_TYPE(rtlpriv) == HARDWARE_TYPE_RTL8723BE)\n#define IS_HARDWARE_TYPE_8192E(rtlpriv)\t\t\t\\\n\t\t\t(RTL_HW_TYPE(rtlpriv) == HARDWARE_TYPE_RTL8192EE)\n#define IS_HARDWARE_TYPE_8822B(rtlpriv)\t\t\t\\\n\t\t\t(RTL_HW_TYPE(rtlpriv) == HARDWARE_TYPE_RTL8822BE)\n\n#define RX_HAL_IS_CCK_RATE(rxmcs)\t\t\t\\\n\t((rxmcs) == DESC_RATE1M ||\t\t\t\\\n\t (rxmcs) == DESC_RATE2M ||\t\t\t\\\n\t (rxmcs) == DESC_RATE5_5M ||\t\t\t\\\n\t (rxmcs) == DESC_RATE11M)\n\nenum scan_operation_backup_opt {\n\tSCAN_OPT_BACKUP = 0,\n\tSCAN_OPT_BACKUP_BAND0 = 0,\n\tSCAN_OPT_BACKUP_BAND1,\n\tSCAN_OPT_RESTORE,\n\tSCAN_OPT_MAX\n};\n\n/*RF state.*/\nenum rf_pwrstate {\n\tERFON,\n\tERFSLEEP,\n\tERFOFF\n};\n\nstruct bb_reg_def {\n\tu32 rfintfs;\n\tu32 rfintfi;\n\tu32 rfintfo;\n\tu32 rfintfe;\n\tu32 rf3wire_offset;\n\tu32 rflssi_select;\n\tu32 rftxgain_stage;\n\tu32 rfhssi_para1;\n\tu32 rfhssi_para2;\n\tu32 rfsw_ctrl;\n\tu32 rfagc_control1;\n\tu32 rfagc_control2;\n\tu32 rfrxiq_imbal;\n\tu32 rfrx_afe;\n\tu32 rftxiq_imbal;\n\tu32 rftx_afe;\n\tu32 rf_rb;\t\t/* rflssi_readback */\n\tu32 rf_rbpi;\t\t/* rflssi_readbackpi */\n};\n\nenum io_type {\n\tIO_CMD_PAUSE_DM_BY_SCAN = 0,\n\tIO_CMD_PAUSE_BAND0_DM_BY_SCAN = 0,\n\tIO_CMD_PAUSE_BAND1_DM_BY_SCAN = 1,\n\tIO_CMD_RESUME_DM_BY_SCAN = 2,\n};\n\nenum hw_variables {\n\tHW_VAR_ETHER_ADDR = 0x0,\n\tHW_VAR_MULTICAST_REG = 0x1,\n\tHW_VAR_BASIC_RATE = 0x2,\n\tHW_VAR_BSSID = 0x3,\n\tHW_VAR_MEDIA_STATUS = 0x4,\n\tHW_VAR_SECURITY_CONF = 0x5,\n\tHW_VAR_BEACON_INTERVAL = 0x6,\n\tHW_VAR_ATIM_WINDOW = 0x7,\n\tHW_VAR_LISTEN_INTERVAL = 0x8,\n\tHW_VAR_CS_COUNTER = 0x9,\n\tHW_VAR_DEFAULTKEY0 = 0xa,\n\tHW_VAR_DEFAULTKEY1 = 0xb,\n\tHW_VAR_DEFAULTKEY2 = 0xc,\n\tHW_VAR_DEFAULTKEY3 = 0xd,\n\tHW_VAR_SIFS = 0xe,\n\tHW_VAR_R2T_SIFS = 0xf,\n\tHW_VAR_DIFS = 0x10,\n\tHW_VAR_EIFS = 0x11,\n\tHW_VAR_SLOT_TIME = 0x12,\n\tHW_VAR_ACK_PREAMBLE = 0x13,\n\tHW_VAR_CW_CONFIG = 0x14,\n\tHW_VAR_CW_VALUES = 0x15,\n\tHW_VAR_RATE_FALLBACK_CONTROL = 0x16,\n\tHW_VAR_CONTENTION_WINDOW = 0x17,\n\tHW_VAR_RETRY_COUNT = 0x18,\n\tHW_VAR_TR_SWITCH = 0x19,\n\tHW_VAR_COMMAND = 0x1a,\n\tHW_VAR_WPA_CONFIG = 0x1b,\n\tHW_VAR_AMPDU_MIN_SPACE = 0x1c,\n\tHW_VAR_SHORTGI_DENSITY = 0x1d,\n\tHW_VAR_AMPDU_FACTOR = 0x1e,\n\tHW_VAR_MCS_RATE_AVAILABLE = 0x1f,\n\tHW_VAR_AC_PARAM = 0x20,\n\tHW_VAR_ACM_CTRL = 0x21,\n\tHW_VAR_DIS_REQ_QSIZE = 0x22,\n\tHW_VAR_CCX_CHNL_LOAD = 0x23,\n\tHW_VAR_CCX_NOISE_HISTOGRAM = 0x24,\n\tHW_VAR_CCX_CLM_NHM = 0x25,\n\tHW_VAR_TXOPLIMIT = 0x26,\n\tHW_VAR_TURBO_MODE = 0x27,\n\tHW_VAR_RF_STATE = 0x28,\n\tHW_VAR_RF_OFF_BY_HW = 0x29,\n\tHW_VAR_BUS_SPEED = 0x2a,\n\tHW_VAR_SET_DEV_POWER = 0x2b,\n\n\tHW_VAR_RCR = 0x2c,\n\tHW_VAR_RATR_0 = 0x2d,\n\tHW_VAR_RRSR = 0x2e,\n\tHW_VAR_CPU_RST = 0x2f,\n\tHW_VAR_CHECK_BSSID = 0x30,\n\tHW_VAR_LBK_MODE = 0x31,\n\tHW_VAR_AES_11N_FIX = 0x32,\n\tHW_VAR_USB_RX_AGGR = 0x33,\n\tHW_VAR_USER_CONTROL_TURBO_MODE = 0x34,\n\tHW_VAR_RETRY_LIMIT = 0x35,\n\tHW_VAR_INIT_TX_RATE = 0x36,\n\tHW_VAR_TX_RATE_REG = 0x37,\n\tHW_VAR_EFUSE_USAGE = 0x38,\n\tHW_VAR_EFUSE_BYTES = 0x39,\n\tHW_VAR_AUTOLOAD_STATUS = 0x3a,\n\tHW_VAR_RF_2R_DISABLE = 0x3b,\n\tHW_VAR_SET_RPWM = 0x3c,\n\tHW_VAR_H2C_FW_PWRMODE = 0x3d,\n\tHW_VAR_H2C_FW_JOINBSSRPT = 0x3e,\n\tHW_VAR_H2C_FW_MEDIASTATUSRPT = 0x3f,\n\tHW_VAR_H2C_FW_P2P_PS_OFFLOAD = 0x40,\n\tHW_VAR_FW_PSMODE_STATUS = 0x41,\n\tHW_VAR_INIT_RTS_RATE = 0x42,\n\tHW_VAR_RESUME_CLK_ON = 0x43,\n\tHW_VAR_FW_LPS_ACTION = 0x44,\n\tHW_VAR_1X1_RECV_COMBINE = 0x45,\n\tHW_VAR_STOP_SEND_BEACON = 0x46,\n\tHW_VAR_TSF_TIMER = 0x47,\n\tHW_VAR_IO_CMD = 0x48,\n\n\tHW_VAR_RF_RECOVERY = 0x49,\n\tHW_VAR_H2C_FW_UPDATE_GTK = 0x4a,\n\tHW_VAR_WF_MASK = 0x4b,\n\tHW_VAR_WF_CRC = 0x4c,\n\tHW_VAR_WF_IS_MAC_ADDR = 0x4d,\n\tHW_VAR_H2C_FW_OFFLOAD = 0x4e,\n\tHW_VAR_RESET_WFCRC = 0x4f,\n\n\tHW_VAR_HANDLE_FW_C2H = 0x50,\n\tHW_VAR_DL_FW_RSVD_PAGE = 0x51,\n\tHW_VAR_AID = 0x52,\n\tHW_VAR_HW_SEQ_ENABLE = 0x53,\n\tHW_VAR_CORRECT_TSF = 0x54,\n\tHW_VAR_BCN_VALID = 0x55,\n\tHW_VAR_FWLPS_RF_ON = 0x56,\n\tHW_VAR_DUAL_TSF_RST = 0x57,\n\tHW_VAR_SWITCH_EPHY_WOWLAN = 0x58,\n\tHW_VAR_INT_MIGRATION = 0x59,\n\tHW_VAR_INT_AC = 0x5a,\n\tHW_VAR_RF_TIMING = 0x5b,\n\n\tHAL_DEF_WOWLAN = 0x5c,\n\tHW_VAR_MRC = 0x5d,\n\tHW_VAR_KEEP_ALIVE = 0x5e,\n\tHW_VAR_NAV_UPPER = 0x5f,\n\n\tHW_VAR_MGT_FILTER = 0x60,\n\tHW_VAR_CTRL_FILTER = 0x61,\n\tHW_VAR_DATA_FILTER = 0x62,\n};\n\nenum rt_media_status {\n\tRT_MEDIA_DISCONNECT = 0,\n\tRT_MEDIA_CONNECT = 1\n};\n\nenum rt_oem_id {\n\tRT_CID_DEFAULT = 0,\n\tRT_CID_8187_ALPHA0 = 1,\n\tRT_CID_8187_SERCOMM_PS = 2,\n\tRT_CID_8187_HW_LED = 3,\n\tRT_CID_8187_NETGEAR = 4,\n\tRT_CID_WHQL = 5,\n\tRT_CID_819X_CAMEO = 6,\n\tRT_CID_819X_RUNTOP = 7,\n\tRT_CID_819X_SENAO = 8,\n\tRT_CID_TOSHIBA = 9,\n\tRT_CID_819X_NETCORE = 10,\n\tRT_CID_NETTRONIX = 11,\n\tRT_CID_DLINK = 12,\n\tRT_CID_PRONET = 13,\n\tRT_CID_COREGA = 14,\n\tRT_CID_819X_ALPHA = 15,\n\tRT_CID_819X_SITECOM = 16,\n\tRT_CID_CCX = 17,\n\tRT_CID_819X_LENOVO = 18,\n\tRT_CID_819X_QMI = 19,\n\tRT_CID_819X_EDIMAX_BELKIN = 20,\n\tRT_CID_819X_SERCOMM_BELKIN = 21,\n\tRT_CID_819X_CAMEO1 = 22,\n\tRT_CID_819X_MSI = 23,\n\tRT_CID_819X_ACER = 24,\n\tRT_CID_819X_HP = 27,\n\tRT_CID_819X_CLEVO = 28,\n\tRT_CID_819X_ARCADYAN_BELKIN = 29,\n\tRT_CID_819X_SAMSUNG = 30,\n\tRT_CID_819X_WNC_COREGA = 31,\n\tRT_CID_819X_FOXCOON = 32,\n\tRT_CID_819X_DELL = 33,\n\tRT_CID_819X_PRONETS = 34,\n\tRT_CID_819X_EDIMAX_ASUS = 35,\n\tRT_CID_NETGEAR = 36,\n\tRT_CID_PLANEX = 37,\n\tRT_CID_CC_C = 38,\n\tRT_CID_LENOVO_CHINA = 40,\n};\n\nenum hw_descs {\n\tHW_DESC_OWN,\n\tHW_DESC_RXOWN,\n\tHW_DESC_TX_NEXTDESC_ADDR,\n\tHW_DESC_TXBUFF_ADDR,\n\tHW_DESC_RXBUFF_ADDR,\n\tHW_DESC_RXPKT_LEN,\n\tHW_DESC_RXERO,\n\tHW_DESC_RX_PREPARE,\n};\n\nenum prime_sc {\n\tPRIME_CHNL_OFFSET_DONT_CARE = 0,\n\tPRIME_CHNL_OFFSET_LOWER = 1,\n\tPRIME_CHNL_OFFSET_UPPER = 2,\n};\n\nenum rf_type {\n\tRF_1T1R = 0,\n\tRF_1T2R = 1,\n\tRF_2T2R = 2,\n\tRF_2T2R_GREEN = 3,\n\tRF_2T3R = 4,\n\tRF_2T4R = 5,\n\tRF_3T3R = 6,\n\tRF_3T4R = 7,\n\tRF_4T4R = 8,\n};\n\nenum ht_channel_width {\n\tHT_CHANNEL_WIDTH_20 = 0,\n\tHT_CHANNEL_WIDTH_20_40 = 1,\n\tHT_CHANNEL_WIDTH_80 = 2,\n\tHT_CHANNEL_WIDTH_MAX,\n};\n\n/* Ref: 802.11i spec D10.0 7.3.2.25.1\n * Cipher Suites Encryption Algorithms\n */\nenum rt_enc_alg {\n\tNO_ENCRYPTION = 0,\n\tWEP40_ENCRYPTION = 1,\n\tTKIP_ENCRYPTION = 2,\n\tRSERVED_ENCRYPTION = 3,\n\tAESCCMP_ENCRYPTION = 4,\n\tWEP104_ENCRYPTION = 5,\n\tAESCMAC_ENCRYPTION = 6,\t/*IEEE802.11w */\n};\n\nenum rtl_hal_state {\n\t_HAL_STATE_STOP = 0,\n\t_HAL_STATE_START = 1,\n};\n\nenum rtl_desc_rate {\n\tDESC_RATE1M = 0x00,\n\tDESC_RATE2M = 0x01,\n\tDESC_RATE5_5M = 0x02,\n\tDESC_RATE11M = 0x03,\n\n\tDESC_RATE6M = 0x04,\n\tDESC_RATE9M = 0x05,\n\tDESC_RATE12M = 0x06,\n\tDESC_RATE18M = 0x07,\n\tDESC_RATE24M = 0x08,\n\tDESC_RATE36M = 0x09,\n\tDESC_RATE48M = 0x0a,\n\tDESC_RATE54M = 0x0b,\n\n\tDESC_RATEMCS0 = 0x0c,\n\tDESC_RATEMCS1 = 0x0d,\n\tDESC_RATEMCS2 = 0x0e,\n\tDESC_RATEMCS3 = 0x0f,\n\tDESC_RATEMCS4 = 0x10,\n\tDESC_RATEMCS5 = 0x11,\n\tDESC_RATEMCS6 = 0x12,\n\tDESC_RATEMCS7 = 0x13,\n\tDESC_RATEMCS8 = 0x14,\n\tDESC_RATEMCS9 = 0x15,\n\tDESC_RATEMCS10 = 0x16,\n\tDESC_RATEMCS11 = 0x17,\n\tDESC_RATEMCS12 = 0x18,\n\tDESC_RATEMCS13 = 0x19,\n\tDESC_RATEMCS14 = 0x1a,\n\tDESC_RATEMCS15 = 0x1b,\n\tDESC_RATEMCS15_SG = 0x1c,\n\tDESC_RATEMCS32 = 0x20,\n\n\tDESC_RATEVHT1SS_MCS0 = 0x2c,\n\tDESC_RATEVHT1SS_MCS1 = 0x2d,\n\tDESC_RATEVHT1SS_MCS2 = 0x2e,\n\tDESC_RATEVHT1SS_MCS3 = 0x2f,\n\tDESC_RATEVHT1SS_MCS4 = 0x30,\n\tDESC_RATEVHT1SS_MCS5 = 0x31,\n\tDESC_RATEVHT1SS_MCS6 = 0x32,\n\tDESC_RATEVHT1SS_MCS7 = 0x33,\n\tDESC_RATEVHT1SS_MCS8 = 0x34,\n\tDESC_RATEVHT1SS_MCS9 = 0x35,\n\tDESC_RATEVHT2SS_MCS0 = 0x36,\n\tDESC_RATEVHT2SS_MCS1 = 0x37,\n\tDESC_RATEVHT2SS_MCS2 = 0x38,\n\tDESC_RATEVHT2SS_MCS3 = 0x39,\n\tDESC_RATEVHT2SS_MCS4 = 0x3a,\n\tDESC_RATEVHT2SS_MCS5 = 0x3b,\n\tDESC_RATEVHT2SS_MCS6 = 0x3c,\n\tDESC_RATEVHT2SS_MCS7 = 0x3d,\n\tDESC_RATEVHT2SS_MCS8 = 0x3e,\n\tDESC_RATEVHT2SS_MCS9 = 0x3f,\n};\n\nenum rtl_var_map {\n\t/*reg map */\n\tSYS_ISO_CTRL = 0,\n\tSYS_FUNC_EN,\n\tSYS_CLK,\n\tMAC_RCR_AM,\n\tMAC_RCR_AB,\n\tMAC_RCR_ACRC32,\n\tMAC_RCR_ACF,\n\tMAC_RCR_AAP,\n\tMAC_HIMR,\n\tMAC_HIMRE,\n\tMAC_HSISR,\n\n\t/*efuse map */\n\tEFUSE_TEST,\n\tEFUSE_CTRL,\n\tEFUSE_CLK,\n\tEFUSE_CLK_CTRL,\n\tEFUSE_PWC_EV12V,\n\tEFUSE_FEN_ELDR,\n\tEFUSE_LOADER_CLK_EN,\n\tEFUSE_ANA8M,\n\tEFUSE_HWSET_MAX_SIZE,\n\tEFUSE_MAX_SECTION_MAP,\n\tEFUSE_REAL_CONTENT_SIZE,\n\tEFUSE_OOB_PROTECT_BYTES_LEN,\n\tEFUSE_ACCESS,\n\n\t/*CAM map */\n\tRWCAM,\n\tWCAMI,\n\tRCAMO,\n\tCAMDBG,\n\tSECR,\n\tSEC_CAM_NONE,\n\tSEC_CAM_WEP40,\n\tSEC_CAM_TKIP,\n\tSEC_CAM_AES,\n\tSEC_CAM_WEP104,\n\n\t/*IMR map */\n\tRTL_IMR_BCNDMAINT6,\t/*Beacon DMA Interrupt 6 */\n\tRTL_IMR_BCNDMAINT5,\t/*Beacon DMA Interrupt 5 */\n\tRTL_IMR_BCNDMAINT4,\t/*Beacon DMA Interrupt 4 */\n\tRTL_IMR_BCNDMAINT3,\t/*Beacon DMA Interrupt 3 */\n\tRTL_IMR_BCNDMAINT2,\t/*Beacon DMA Interrupt 2 */\n\tRTL_IMR_BCNDMAINT1,\t/*Beacon DMA Interrupt 1 */\n\tRTL_IMR_BCNDOK8,\t/*Beacon Queue DMA OK Interrup 8 */\n\tRTL_IMR_BCNDOK7,\t/*Beacon Queue DMA OK Interrup 7 */\n\tRTL_IMR_BCNDOK6,\t/*Beacon Queue DMA OK Interrup 6 */\n\tRTL_IMR_BCNDOK5,\t/*Beacon Queue DMA OK Interrup 5 */\n\tRTL_IMR_BCNDOK4,\t/*Beacon Queue DMA OK Interrup 4 */\n\tRTL_IMR_BCNDOK3,\t/*Beacon Queue DMA OK Interrup 3 */\n\tRTL_IMR_BCNDOK2,\t/*Beacon Queue DMA OK Interrup 2 */\n\tRTL_IMR_BCNDOK1,\t/*Beacon Queue DMA OK Interrup 1 */\n\tRTL_IMR_TIMEOUT2,\t/*Timeout interrupt 2 */\n\tRTL_IMR_TIMEOUT1,\t/*Timeout interrupt 1 */\n\tRTL_IMR_TXFOVW,\t\t/*Transmit FIFO Overflow */\n\tRTL_IMR_PSTIMEOUT,\t/*Power save time out interrupt */\n\tRTL_IMR_BCNINT,\t\t/*Beacon DMA Interrupt 0 */\n\tRTL_IMR_RXFOVW,\t\t/*Receive FIFO Overflow */\n\tRTL_IMR_RDU,\t\t/*Receive Descriptor Unavailable */\n\tRTL_IMR_ATIMEND,\t/*For 92C,ATIM Window End Interrupt */\n\tRTL_IMR_H2CDOK,\t\t/*H2C Queue DMA OK Interrupt */\n\tRTL_IMR_BDOK,\t\t/*Beacon Queue DMA OK Interrup */\n\tRTL_IMR_HIGHDOK,\t/*High Queue DMA OK Interrupt */\n\tRTL_IMR_COMDOK,\t\t/*Command Queue DMA OK Interrupt*/\n\tRTL_IMR_TBDOK,\t\t/*Transmit Beacon OK interrup */\n\tRTL_IMR_MGNTDOK,\t/*Management Queue DMA OK Interrupt */\n\tRTL_IMR_TBDER,\t\t/*For 92C,Transmit Beacon Error Interrupt */\n\tRTL_IMR_BKDOK,\t\t/*AC_BK DMA OK Interrupt */\n\tRTL_IMR_BEDOK,\t\t/*AC_BE DMA OK Interrupt */\n\tRTL_IMR_VIDOK,\t\t/*AC_VI DMA OK Interrupt */\n\tRTL_IMR_VODOK,\t\t/*AC_VO DMA Interrupt */\n\tRTL_IMR_ROK,\t\t/*Receive DMA OK Interrupt */\n\tRTL_IMR_HSISR_IND,\t/*HSISR Interrupt*/\n\tRTL_IBSS_INT_MASKS,\t/*(RTL_IMR_BCNINT | RTL_IMR_TBDOK |\n\t\t\t\t * RTL_IMR_TBDER)\n\t\t\t\t */\n\tRTL_IMR_C2HCMD,\t\t/*fw interrupt*/\n\n\t/*CCK Rates, TxHT = 0 */\n\tRTL_RC_CCK_RATE1M,\n\tRTL_RC_CCK_RATE2M,\n\tRTL_RC_CCK_RATE5_5M,\n\tRTL_RC_CCK_RATE11M,\n\n\t/*OFDM Rates, TxHT = 0 */\n\tRTL_RC_OFDM_RATE6M,\n\tRTL_RC_OFDM_RATE9M,\n\tRTL_RC_OFDM_RATE12M,\n\tRTL_RC_OFDM_RATE18M,\n\tRTL_RC_OFDM_RATE24M,\n\tRTL_RC_OFDM_RATE36M,\n\tRTL_RC_OFDM_RATE48M,\n\tRTL_RC_OFDM_RATE54M,\n\n\tRTL_RC_HT_RATEMCS7,\n\tRTL_RC_HT_RATEMCS15,\n\n\tRTL_RC_VHT_RATE_1SS_MCS7,\n\tRTL_RC_VHT_RATE_1SS_MCS8,\n\tRTL_RC_VHT_RATE_1SS_MCS9,\n\tRTL_RC_VHT_RATE_2SS_MCS7,\n\tRTL_RC_VHT_RATE_2SS_MCS8,\n\tRTL_RC_VHT_RATE_2SS_MCS9,\n\n\t/*keep it last */\n\tRTL_VAR_MAP_MAX,\n};\n\n/*Firmware PS mode for control LPS.*/\nenum _fw_ps_mode {\n\tFW_PS_ACTIVE_MODE = 0,\n\tFW_PS_MIN_MODE = 1,\n\tFW_PS_MAX_MODE = 2,\n\tFW_PS_DTIM_MODE = 3,\n\tFW_PS_VOIP_MODE = 4,\n\tFW_PS_UAPSD_WMM_MODE = 5,\n\tFW_PS_UAPSD_MODE = 6,\n\tFW_PS_IBSS_MODE = 7,\n\tFW_PS_WWLAN_MODE = 8,\n\tFW_PS_PM_RADIO_OFF = 9,\n\tFW_PS_PM_CARD_DISABLE = 10,\n};\n\nenum rt_psmode {\n\tEACTIVE,\t\t/*Active/Continuous access. */\n\tEMAXPS,\t\t\t/*Max power save mode. */\n\tEFASTPS,\t\t/*Fast power save mode. */\n\tEAUTOPS,\t\t/*Auto power save mode. */\n};\n\n/*LED related.*/\nenum led_ctl_mode {\n\tLED_CTL_POWER_ON = 1,\n\tLED_CTL_LINK = 2,\n\tLED_CTL_NO_LINK = 3,\n\tLED_CTL_TX = 4,\n\tLED_CTL_RX = 5,\n\tLED_CTL_SITE_SURVEY = 6,\n\tLED_CTL_POWER_OFF = 7,\n\tLED_CTL_START_TO_LINK = 8,\n\tLED_CTL_START_WPS = 9,\n\tLED_CTL_STOP_WPS = 10,\n};\n\nenum rtl_led_pin {\n\tLED_PIN_GPIO0,\n\tLED_PIN_LED0,\n\tLED_PIN_LED1,\n\tLED_PIN_LED2\n};\n\n/*QoS related.*/\n/*acm implementation method.*/\nenum acm_method {\n\tEACMWAY0_SWANDHW = 0,\n\tEACMWAY1_HW = 1,\n\tEACMWAY2_SW = 2,\n};\n\nenum macphy_mode {\n\tSINGLEMAC_SINGLEPHY = 0,\n\tDUALMAC_DUALPHY,\n\tDUALMAC_SINGLEPHY,\n};\n\nenum band_type {\n\tBAND_ON_2_4G = 0,\n\tBAND_ON_5G,\n\tBAND_ON_BOTH,\n\tBANDMAX\n};\n\n/* aci/aifsn Field.\n * Ref: WMM spec 2.2.2: WME Parameter Element, p.12.\n */\nunion aci_aifsn {\n\tu8 char_data;\n\n\tstruct {\n\t\tu8 aifsn:4;\n\t\tu8 acm:1;\n\t\tu8 aci:2;\n\t\tu8 reserved:1;\n\t} f;\t\t\t/* Field */\n};\n\n/*mlme related.*/\nenum wireless_mode {\n\tWIRELESS_MODE_UNKNOWN = 0x00,\n\tWIRELESS_MODE_A = 0x01,\n\tWIRELESS_MODE_B = 0x02,\n\tWIRELESS_MODE_G = 0x04,\n\tWIRELESS_MODE_AUTO = 0x08,\n\tWIRELESS_MODE_N_24G = 0x10,\n\tWIRELESS_MODE_N_5G = 0x20,\n\tWIRELESS_MODE_AC_5G = 0x40,\n\tWIRELESS_MODE_AC_24G  = 0x80,\n\tWIRELESS_MODE_AC_ONLY = 0x100,\n\tWIRELESS_MODE_MAX = 0x800\n};\n\n#define IS_WIRELESS_MODE_A(wirelessmode)\t\\\n\t(wirelessmode == WIRELESS_MODE_A)\n#define IS_WIRELESS_MODE_B(wirelessmode)\t\\\n\t(wirelessmode == WIRELESS_MODE_B)\n#define IS_WIRELESS_MODE_G(wirelessmode)\t\\\n\t(wirelessmode == WIRELESS_MODE_G)\n#define IS_WIRELESS_MODE_N_24G(wirelessmode)\t\\\n\t(wirelessmode == WIRELESS_MODE_N_24G)\n#define IS_WIRELESS_MODE_N_5G(wirelessmode)\t\\\n\t(wirelessmode == WIRELESS_MODE_N_5G)\n\nenum ratr_table_mode {\n\tRATR_INX_WIRELESS_NGB = 0,\n\tRATR_INX_WIRELESS_NG = 1,\n\tRATR_INX_WIRELESS_NB = 2,\n\tRATR_INX_WIRELESS_N = 3,\n\tRATR_INX_WIRELESS_GB = 4,\n\tRATR_INX_WIRELESS_G = 5,\n\tRATR_INX_WIRELESS_B = 6,\n\tRATR_INX_WIRELESS_MC = 7,\n\tRATR_INX_WIRELESS_A = 8,\n\tRATR_INX_WIRELESS_AC_5N = 8,\n\tRATR_INX_WIRELESS_AC_24N = 9,\n};\n\nenum ratr_table_mode_new {\n\tRATEID_IDX_BGN_40M_2SS = 0,\n\tRATEID_IDX_BGN_40M_1SS = 1,\n\tRATEID_IDX_BGN_20M_2SS_BN = 2,\n\tRATEID_IDX_BGN_20M_1SS_BN = 3,\n\tRATEID_IDX_GN_N2SS = 4,\n\tRATEID_IDX_GN_N1SS = 5,\n\tRATEID_IDX_BG = 6,\n\tRATEID_IDX_G = 7,\n\tRATEID_IDX_B = 8,\n\tRATEID_IDX_VHT_2SS = 9,\n\tRATEID_IDX_VHT_1SS = 10,\n\tRATEID_IDX_MIX1 = 11,\n\tRATEID_IDX_MIX2 = 12,\n\tRATEID_IDX_VHT_3SS = 13,\n\tRATEID_IDX_BGN_3SS = 14,\n};\n\nenum rtl_link_state {\n\tMAC80211_NOLINK = 0,\n\tMAC80211_LINKING = 1,\n\tMAC80211_LINKED = 2,\n\tMAC80211_LINKED_SCANNING = 3,\n};\n\nenum act_category {\n\tACT_CAT_QOS = 1,\n\tACT_CAT_DLS = 2,\n\tACT_CAT_BA = 3,\n\tACT_CAT_HT = 7,\n\tACT_CAT_WMM = 17,\n};\n\nenum ba_action {\n\tACT_ADDBAREQ = 0,\n\tACT_ADDBARSP = 1,\n\tACT_DELBA = 2,\n};\n\nenum rt_polarity_ctl {\n\tRT_POLARITY_LOW_ACT = 0,\n\tRT_POLARITY_HIGH_ACT = 1,\n};\n\n/* After 8188E, we use V2 reason define. 88C/8723A use V1 reason. */\nenum fw_wow_reason_v2 {\n\tFW_WOW_V2_PTK_UPDATE_EVENT = 0x01,\n\tFW_WOW_V2_GTK_UPDATE_EVENT = 0x02,\n\tFW_WOW_V2_DISASSOC_EVENT = 0x04,\n\tFW_WOW_V2_DEAUTH_EVENT = 0x08,\n\tFW_WOW_V2_FW_DISCONNECT_EVENT = 0x10,\n\tFW_WOW_V2_MAGIC_PKT_EVENT = 0x21,\n\tFW_WOW_V2_UNICAST_PKT_EVENT = 0x22,\n\tFW_WOW_V2_PATTERN_PKT_EVENT = 0x23,\n\tFW_WOW_V2_RTD3_SSID_MATCH_EVENT = 0x24,\n\tFW_WOW_V2_REALWOW_V2_WAKEUPPKT = 0x30,\n\tFW_WOW_V2_REALWOW_V2_ACKLOST = 0x31,\n\tFW_WOW_V2_REASON_MAX = 0xff,\n};\n\nenum wolpattern_type {\n\tUNICAST_PATTERN = 0,\n\tMULTICAST_PATTERN = 1,\n\tBROADCAST_PATTERN = 2,\n\tDONT_CARE_DA = 3,\n\tUNKNOWN_TYPE = 4,\n};\n\nenum package_type {\n\tPACKAGE_DEFAULT,\n\tPACKAGE_QFN68,\n\tPACKAGE_TFBGA90,\n\tPACKAGE_TFBGA80,\n\tPACKAGE_TFBGA79\n};\n\nenum rtl_spec_ver {\n\tRTL_SPEC_NEW_RATEID = BIT(0),\t/* use ratr_table_mode_new */\n\tRTL_SPEC_SUPPORT_VHT = BIT(1),\t/* support VHT */\n\tRTL_SPEC_EXT_C2H = BIT(2),\t/* extend FW C2H (e.g. TX REPORT) */\n};\n\nenum dm_info_query {\n\tDM_INFO_FA_OFDM,\n\tDM_INFO_FA_CCK,\n\tDM_INFO_FA_TOTAL,\n\tDM_INFO_CCA_OFDM,\n\tDM_INFO_CCA_CCK,\n\tDM_INFO_CCA_ALL,\n\tDM_INFO_CRC32_OK_VHT,\n\tDM_INFO_CRC32_OK_HT,\n\tDM_INFO_CRC32_OK_LEGACY,\n\tDM_INFO_CRC32_OK_CCK,\n\tDM_INFO_CRC32_ERROR_VHT,\n\tDM_INFO_CRC32_ERROR_HT,\n\tDM_INFO_CRC32_ERROR_LEGACY,\n\tDM_INFO_CRC32_ERROR_CCK,\n\tDM_INFO_EDCCA_FLAG,\n\tDM_INFO_OFDM_ENABLE,\n\tDM_INFO_CCK_ENABLE,\n\tDM_INFO_CRC32_OK_HT_AGG,\n\tDM_INFO_CRC32_ERROR_HT_AGG,\n\tDM_INFO_DBG_PORT_0,\n\tDM_INFO_CURR_IGI,\n\tDM_INFO_RSSI_MIN,\n\tDM_INFO_RSSI_MAX,\n\tDM_INFO_CLM_RATIO,\n\tDM_INFO_NHM_RATIO,\n\tDM_INFO_IQK_ALL,\n\tDM_INFO_IQK_OK,\n\tDM_INFO_IQK_NG,\n\tDM_INFO_SIZE,\n};\n\nenum rx_packet_type {\n\tNORMAL_RX,\n\tTX_REPORT1,\n\tTX_REPORT2,\n\tHIS_REPORT,\n\tC2H_PACKET,\n};\n\nstruct rtlwifi_tx_info {\n\tint sn;\n\tunsigned long send_time;\n};\n\nstatic inline struct rtlwifi_tx_info *rtl_tx_skb_cb_info(struct sk_buff *skb)\n{\n\tstruct ieee80211_tx_info *info = IEEE80211_SKB_CB(skb);\n\n\tBUILD_BUG_ON(sizeof(struct rtlwifi_tx_info) >\n\t\t     sizeof(info->status.status_driver_data));\n\n\treturn (struct rtlwifi_tx_info *)(info->status.status_driver_data);\n}\n\nstruct octet_string {\n\tu8 *octet;\n\tu16 length;\n};\n\nstruct rtl_hdr_3addr {\n\t__le16 frame_ctl;\n\t__le16 duration_id;\n\tu8 addr1[ETH_ALEN];\n\tu8 addr2[ETH_ALEN];\n\tu8 addr3[ETH_ALEN];\n\t__le16 seq_ctl;\n\tu8 payload[];\n} __packed;\n\nstruct rtl_info_element {\n\tu8 id;\n\tu8 len;\n\tu8 data[];\n} __packed;\n\nstruct rtl_probe_rsp {\n\tstruct rtl_hdr_3addr header;\n\tu32 time_stamp[2];\n\t__le16 beacon_interval;\n\t__le16 capability;\n\t/*SSID, supported rates, FH params, DS params,\n\t * CF params, IBSS params, TIM (if beacon), RSN\n\t */\n\tstruct rtl_info_element info_element[];\n} __packed;\n\n/*LED related.*/\n/*ledpin Identify how to implement this SW led.*/\nstruct rtl_led {\n\tvoid *hw;\n\tenum rtl_led_pin ledpin;\n\tbool ledon;\n};\n\nstruct rtl_led_ctl {\n\tbool led_opendrain;\n\tstruct rtl_led sw_led0;\n\tstruct rtl_led sw_led1;\n};\n\nstruct rtl_qos_parameters {\n\t__le16 cw_min;\n\t__le16 cw_max;\n\tu8 aifs;\n\tu8 flag;\n\t__le16 tx_op;\n} __packed;\n\nstruct rt_smooth_data {\n\tu32 elements[100];\t/*array to store values */\n\tu32 index;\t\t/*index to current array to store */\n\tu32 total_num;\t\t/*num of valid elements */\n\tu32 total_val;\t\t/*sum of valid elements */\n};\n\nstruct false_alarm_statistics {\n\tu32 cnt_parity_fail;\n\tu32 cnt_rate_illegal;\n\tu32 cnt_crc8_fail;\n\tu32 cnt_mcs_fail;\n\tu32 cnt_fast_fsync_fail;\n\tu32 cnt_sb_search_fail;\n\tu32 cnt_ofdm_fail;\n\tu32 cnt_cck_fail;\n\tu32 cnt_all;\n\tu32 cnt_ofdm_cca;\n\tu32 cnt_cck_cca;\n\tu32 cnt_cca_all;\n\tu32 cnt_bw_usc;\n\tu32 cnt_bw_lsc;\n};\n\nstruct init_gain {\n\tu8 xaagccore1;\n\tu8 xbagccore1;\n\tu8 xcagccore1;\n\tu8 xdagccore1;\n\tu8 cca;\n\n};\n\nstruct wireless_stats {\n\tu64 txbytesunicast;\n\tu64 txbytesmulticast;\n\tu64 txbytesbroadcast;\n\tu64 rxbytesunicast;\n\n\tu64 txbytesunicast_inperiod;\n\tu64 rxbytesunicast_inperiod;\n\tu32 txbytesunicast_inperiod_tp;\n\tu32 rxbytesunicast_inperiod_tp;\n\tu64 txbytesunicast_last;\n\tu64 rxbytesunicast_last;\n\n\tlong rx_snr_db[4];\n\t/*Correct smoothed ss in Dbm, only used\n\t * in driver to report real power now.\n\t */\n\tlong recv_signal_power;\n\tlong signal_quality;\n\tlong last_sigstrength_inpercent;\n\n\tu32 rssi_calculate_cnt;\n\tu32 pwdb_all_cnt;\n\n\t/* Transformed, in dbm. Beautified signal\n\t * strength for UI, not correct.\n\t */\n\tlong signal_strength;\n\n\tu8 rx_rssi_percentage[4];\n\tu8 rx_evm_dbm[4];\n\tu8 rx_evm_percentage[2];\n\n\tu16 rx_cfo_short[4];\n\tu16 rx_cfo_tail[4];\n\n\tstruct rt_smooth_data ui_rssi;\n\tstruct rt_smooth_data ui_link_quality;\n};\n\nstruct rate_adaptive {\n\tu8 rate_adaptive_disabled;\n\tu8 ratr_state;\n\tu16 reserve;\n\n\tu32 high_rssi_thresh_for_ra;\n\tu32 high2low_rssi_thresh_for_ra;\n\tu8 low2high_rssi_thresh_for_ra40m;\n\tu32 low_rssi_thresh_for_ra40m;\n\tu8 low2high_rssi_thresh_for_ra20m;\n\tu32 low_rssi_thresh_for_ra20m;\n\tu32 upper_rssi_threshold_ratr;\n\tu32 middleupper_rssi_threshold_ratr;\n\tu32 middle_rssi_threshold_ratr;\n\tu32 middlelow_rssi_threshold_ratr;\n\tu32 low_rssi_threshold_ratr;\n\tu32 ultralow_rssi_threshold_ratr;\n\tu32 low_rssi_threshold_ratr_40m;\n\tu32 low_rssi_threshold_ratr_20m;\n\tu8 ping_rssi_enable;\n\tu32 ping_rssi_ratr;\n\tu32 ping_rssi_thresh_for_ra;\n\tu32 last_ratr;\n\tu8 pre_ratr_state;\n\tu8 ldpc_thres;\n\tbool use_ldpc;\n\tbool lower_rts_rate;\n\tbool is_special_data;\n};\n\nstruct regd_pair_mapping {\n\tu16 reg_dmnenum;\n\tu16 reg_5ghz_ctl;\n\tu16 reg_2ghz_ctl;\n};\n\nstruct dynamic_primary_cca {\n\tu8 pricca_flag;\n\tu8 intf_flag;\n\tu8 intf_type;\n\tu8 dup_rts_flag;\n\tu8 monitor_flag;\n\tu8 ch_offset;\n\tu8 mf_state;\n};\n\nstruct rtl_regulatory {\n\ts8 alpha2[2];\n\tu16 country_code;\n\tu16 max_power_level;\n\tu32 tp_scale;\n\tu16 current_rd;\n\tu16 current_rd_ext;\n\tint16_t power_limit;\n\tstruct regd_pair_mapping *regpair;\n};\n\nstruct rtl_rfkill {\n\tbool rfkill_state;\t/*0 is off, 1 is on */\n};\n\n/*for P2P PS**/\n#define\tP2P_MAX_NOA_NUM\t\t2\n\nenum p2p_role {\n\tP2P_ROLE_DISABLE = 0,\n\tP2P_ROLE_DEVICE = 1,\n\tP2P_ROLE_CLIENT = 2,\n\tP2P_ROLE_GO = 3\n};\n\nenum p2p_ps_state {\n\tP2P_PS_DISABLE = 0,\n\tP2P_PS_ENABLE = 1,\n\tP2P_PS_SCAN = 2,\n\tP2P_PS_SCAN_DONE = 3,\n\tP2P_PS_ALLSTASLEEP = 4, /* for P2P GO */\n};\n\nenum p2p_ps_mode {\n\tP2P_PS_NONE = 0,\n\tP2P_PS_CTWINDOW = 1,\n\tP2P_PS_NOA\t = 2,\n\tP2P_PS_MIX = 3, /* CTWindow and NoA */\n};\n\nstruct rtl_p2p_ps_info {\n\tenum p2p_ps_mode p2p_ps_mode; /* indicate p2p ps mode */\n\tenum p2p_ps_state p2p_ps_state; /*  indicate p2p ps state */\n\tu8 noa_index; /*  Identifies instance of Notice of Absence timing. */\n\t/*  Client traffic window. A period of time in TU after TBTT. */\n\tu8 ctwindow;\n\tu8 opp_ps; /*  opportunistic power save. */\n\tu8 noa_num; /*  number of NoA descriptor in P2P IE. */\n\t/*  Count for owner, Type of client. */\n\tu8 noa_count_type[P2P_MAX_NOA_NUM];\n\t/*  Max duration for owner, preferred or min acceptable duration\n\t * for client.\n\t */\n\tu32 noa_duration[P2P_MAX_NOA_NUM];\n\t/*  Length of interval for owner, preferred or max acceptable intervali\n\t * of client.\n\t */\n\tu32 noa_interval[P2P_MAX_NOA_NUM];\n\t/*  schedule in terms of the lower 4 bytes of the TSF timer. */\n\tu32 noa_start_time[P2P_MAX_NOA_NUM];\n};\n\nstruct p2p_ps_offload_t {\n\tu8 offload_en:1;\n\tu8 role:1; /* 1: Owner, 0: Client */\n\tu8 ctwindow_en:1;\n\tu8 noa0_en:1;\n\tu8 noa1_en:1;\n\tu8 allstasleep:1;\n\tu8 discovery:1;\n\tu8 reserved:1;\n};\n\n#define IQK_MATRIX_REG_NUM\t8\n#define IQK_MATRIX_SETTINGS_NUM\t(1 + 24 + 21)\n\nstruct iqk_matrix_regs {\n\tbool iqk_done;\n\tlong value[1][IQK_MATRIX_REG_NUM];\n};\n\nstruct phy_parameters {\n\tu16 length;\n\tu32 *pdata;\n};\n\nenum hw_param_tab_index {\n\tPHY_REG_2T,\n\tPHY_REG_1T,\n\tPHY_REG_PG,\n\tRADIOA_2T,\n\tRADIOB_2T,\n\tRADIOA_1T,\n\tRADIOB_1T,\n\tMAC_REG,\n\tAGCTAB_2T,\n\tAGCTAB_1T,\n\tMAX_TAB\n};\n\nstruct rtl_phy {\n\tstruct bb_reg_def phyreg_def[4];\t/*Radio A/B/C/D */\n\tstruct init_gain initgain_backup;\n\tenum io_type current_io_type;\n\n\tu8 rf_mode;\n\tu8 rf_type;\n\tu8 current_chan_bw;\n\tu8 set_bwmode_inprogress;\n\tu8 sw_chnl_inprogress;\n\tu8 sw_chnl_stage;\n\tu8 sw_chnl_step;\n\tu8 current_channel;\n\tu8 h2c_box_num;\n\tu8 set_io_inprogress;\n\tu8 lck_inprogress;\n\n\t/* record for power tracking */\n\ts32 reg_e94;\n\ts32 reg_e9c;\n\ts32 reg_ea4;\n\ts32 reg_eac;\n\ts32 reg_eb4;\n\ts32 reg_ebc;\n\ts32 reg_ec4;\n\ts32 reg_ecc;\n\tu8 rfpienable;\n\tu8 reserve_0;\n\tu16 reserve_1;\n\tu32 reg_c04, reg_c08, reg_874;\n\tu32 adda_backup[16];\n\tu32 iqk_mac_backup[IQK_MAC_REG_NUM];\n\tu32 iqk_bb_backup[10];\n\tbool iqk_initialized;\n\n\tbool rfpath_rx_enable[MAX_RF_PATH];\n\tu8 reg_837;\n\t/* Dual mac */\n\tbool need_iqk;\n\tstruct iqk_matrix_regs iqk_matrix[IQK_MATRIX_SETTINGS_NUM];\n\n\tbool rfpi_enable;\n\tbool iqk_in_progress;\n\n\tu8 pwrgroup_cnt;\n\tu8 cck_high_power;\n\t/* this is for 88E & 8723A */\n\tu32 mcs_txpwrlevel_origoffset[MAX_PG_GROUP][16];\n\t/* MAX_PG_GROUP groups of pwr diff by rates */\n\tu32 mcs_offset[MAX_PG_GROUP][16];\n\tu32 tx_power_by_rate_offset[TX_PWR_BY_RATE_NUM_BAND]\n\t\t\t\t   [TX_PWR_BY_RATE_NUM_RF]\n\t\t\t\t   [TX_PWR_BY_RATE_NUM_RF]\n\t\t\t\t   [TX_PWR_BY_RATE_NUM_RATE];\n\tu8 txpwr_by_rate_base_24g[TX_PWR_BY_RATE_NUM_RF]\n\t\t\t\t [TX_PWR_BY_RATE_NUM_RF]\n\t\t\t\t [MAX_BASE_NUM_IN_PHY_REG_PG_24G];\n\tu8 txpwr_by_rate_base_5g[TX_PWR_BY_RATE_NUM_RF]\n\t\t\t\t[TX_PWR_BY_RATE_NUM_RF]\n\t\t\t\t[MAX_BASE_NUM_IN_PHY_REG_PG_5G];\n\tu8 default_initialgain[4];\n\n\t/* the current Tx power level */\n\tu8 cur_cck_txpwridx;\n\tu8 cur_ofdm24g_txpwridx;\n\tu8 cur_bw20_txpwridx;\n\tu8 cur_bw40_txpwridx;\n\n\ts8 txpwr_limit_2_4g[MAX_REGULATION_NUM]\n\t\t\t   [MAX_2_4G_BANDWIDTH_NUM]\n\t\t\t   [MAX_RATE_SECTION_NUM]\n\t\t\t   [CHANNEL_MAX_NUMBER_2G]\n\t\t\t   [MAX_RF_PATH_NUM];\n\ts8 txpwr_limit_5g[MAX_REGULATION_NUM]\n\t\t\t [MAX_5G_BANDWIDTH_NUM]\n\t\t\t [MAX_RATE_SECTION_NUM]\n\t\t\t [CHANNEL_MAX_NUMBER_5G]\n\t\t\t [MAX_RF_PATH_NUM];\n\n\tu32 rfreg_chnlval[2];\n\tbool apk_done;\n\tu32 reg_rf3c[2];\t/* pathA / pathB  */\n\n\tu32 backup_rf_0x1a;/*92ee*/\n\t/* bfsync */\n\tu8 framesync;\n\tu32 framesync_c34;\n\n\tu8 num_total_rfpath;\n\tstruct phy_parameters hwparam_tables[MAX_TAB];\n\tu16 rf_pathmap;\n\n\tu8 hw_rof_enable; /*Enable GPIO[9] as WL RF HW PDn source*/\n\tenum rt_polarity_ctl polarity_ctl;\n};\n\n#define MAX_TID_COUNT\t\t\t\t9\n#define RTL_AGG_STOP\t\t\t\t0\n#define RTL_AGG_PROGRESS\t\t\t1\n#define RTL_AGG_START\t\t\t\t2\n#define RTL_AGG_OPERATIONAL\t\t\t3\n#define RTL_AGG_OFF\t\t\t\t0\n#define RTL_AGG_ON\t\t\t\t1\n#define RTL_RX_AGG_START\t\t\t1\n#define RTL_RX_AGG_STOP\t\t\t\t0\n#define RTL_AGG_EMPTYING_HW_QUEUE_ADDBA\t\t2\n#define RTL_AGG_EMPTYING_HW_QUEUE_DELBA\t\t3\n\nstruct rtl_ht_agg {\n\tu16 txq_id;\n\tu16 wait_for_ba;\n\tu16 start_idx;\n\tu64 bitmap;\n\tu32 rate_n_flags;\n\tu8 agg_state;\n\tu8 rx_agg_state;\n};\n\nstruct rssi_sta {\n\tlong undec_sm_pwdb;\n\tlong undec_sm_cck;\n};\n\nstruct rtl_tid_data {\n\tstruct rtl_ht_agg agg;\n};\n\nstruct rtl_sta_info {\n\tstruct list_head list;\n\tstruct rtl_tid_data tids[MAX_TID_COUNT];\n\t/* just used for ap adhoc or mesh*/\n\tstruct rssi_sta rssi_stat;\n\tu8 rssi_level;\n\tu16 wireless_mode;\n\tu8 ratr_index;\n\tu8 mimo_ps;\n\tu8 mac_addr[ETH_ALEN];\n} __packed;\n\nstruct rtl_priv;\nstruct rtl_io {\n\tstruct device *dev;\n\tstruct mutex bb_mutex;\n\n\t/*PCI MEM map */\n\tunsigned long pci_mem_end;\t/*shared mem end        */\n\tunsigned long pci_mem_start;\t/*shared mem start */\n\n\t/*PCI IO map */\n\tunsigned long pci_base_addr;\t/*device I/O address */\n\n\tvoid (*write8_async)(struct rtl_priv *rtlpriv, u32 addr, u8 val);\n\tvoid (*write16_async)(struct rtl_priv *rtlpriv, u32 addr, u16 val);\n\tvoid (*write32_async)(struct rtl_priv *rtlpriv, u32 addr, u32 val);\n\tvoid (*writen_sync)(struct rtl_priv *rtlpriv, u32 addr, void *buf,\n\t\t\t    u16 len);\n\n\tu8 (*read8_sync)(struct rtl_priv *rtlpriv, u32 addr);\n\tu16 (*read16_sync)(struct rtl_priv *rtlpriv, u32 addr);\n\tu32 (*read32_sync)(struct rtl_priv *rtlpriv, u32 addr);\n\n};\n\nstruct rtl_mac {\n\tu8 mac_addr[ETH_ALEN];\n\tu8 mac80211_registered;\n\tu8 beacon_enabled;\n\n\tu32 tx_ss_num;\n\tu32 rx_ss_num;\n\n\tstruct ieee80211_supported_band bands[NUM_NL80211_BANDS];\n\tstruct ieee80211_hw *hw;\n\tstruct ieee80211_vif *vif;\n\tenum nl80211_iftype opmode;\n\n\t/*Probe Beacon management */\n\tstruct rtl_tid_data tids[MAX_TID_COUNT];\n\tenum rtl_link_state link_state;\n\n\tint n_channels;\n\tint n_bitrates;\n\n\tbool offchan_delay;\n\tu8 p2p;\t/*using p2p role*/\n\tbool p2p_in_use;\n\n\t/*filters */\n\tu32 rx_conf;\n\tu16 rx_mgt_filter;\n\tu16 rx_ctrl_filter;\n\tu16 rx_data_filter;\n\n\tbool act_scanning;\n\tu8 cnt_after_linked;\n\tbool skip_scan;\n\n\t/* early mode */\n\t/* skb wait queue */\n\tstruct sk_buff_head skb_waitq[MAX_TID_COUNT];\n\n\tu8 ht_stbc_cap;\n\tu8 ht_cur_stbc;\n\n\t/*vht support*/\n\tu8 vht_enable;\n\tu8 bw_80;\n\tu8 vht_cur_ldpc;\n\tu8 vht_cur_stbc;\n\tu8 vht_stbc_cap;\n\tu8 vht_ldpc_cap;\n\n\t/*RDG*/\n\tbool rdg_en;\n\n\t/*AP*/\n\tu8 bssid[ETH_ALEN] __aligned(2);\n\tu32 vendor;\n\tu8 mcs[16];\t/* 16 bytes mcs for HT rates. */\n\tu32 basic_rates; /* b/g rates */\n\tu8 ht_enable;\n\tu8 sgi_40;\n\tu8 sgi_20;\n\tu8 bw_40;\n\tu16 mode;\t\t/* wireless mode */\n\tu8 slot_time;\n\tu8 short_preamble;\n\tu8 use_cts_protect;\n\tu8 cur_40_prime_sc;\n\tu8 cur_40_prime_sc_bk;\n\tu8 cur_80_prime_sc;\n\tu64 tsf;\n\tu8 retry_short;\n\tu8 retry_long;\n\tu16 assoc_id;\n\tbool hiddenssid;\n\n\t/*IBSS*/\n\tint beacon_interval;\n\n\t/*AMPDU*/\n\tu8 min_space_cfg;\t/*For Min spacing configurations */\n\tu8 max_mss_density;\n\tu8 current_ampdu_factor;\n\tu8 current_ampdu_density;\n\n\t/*QOS & EDCA */\n\tstruct ieee80211_tx_queue_params edca_param[RTL_MAC80211_NUM_QUEUE];\n\tstruct rtl_qos_parameters ac[AC_MAX];\n\n\t/* counters */\n\tu64 last_txok_cnt;\n\tu64 last_rxok_cnt;\n\tu32 last_bt_edca_ul;\n\tu32 last_bt_edca_dl;\n};\n\nstruct btdm_8723 {\n\tbool all_off;\n\tbool agc_table_en;\n\tbool adc_back_off_on;\n\tbool b2_ant_hid_en;\n\tbool low_penalty_rate_adaptive;\n\tbool rf_rx_lpf_shrink;\n\tbool reject_aggre_pkt;\n\tbool tra_tdma_on;\n\tu8 tra_tdma_nav;\n\tu8 tra_tdma_ant;\n\tbool tdma_on;\n\tu8 tdma_ant;\n\tu8 tdma_nav;\n\tu8 tdma_dac_swing;\n\tu8 fw_dac_swing_lvl;\n\tbool ps_tdma_on;\n\tu8 ps_tdma_byte[5];\n\tbool pta_on;\n\tu32 val_0x6c0;\n\tu32 val_0x6c8;\n\tu32 val_0x6cc;\n\tbool sw_dac_swing_on;\n\tu32 sw_dac_swing_lvl;\n\tu32 wlan_act_hi;\n\tu32 wlan_act_lo;\n\tu32 bt_retry_index;\n\tbool dec_bt_pwr;\n\tbool ignore_wlan_act;\n};\n\nstruct bt_coexist_8723 {\n\tu32 high_priority_tx;\n\tu32 high_priority_rx;\n\tu32 low_priority_tx;\n\tu32 low_priority_rx;\n\tu8 c2h_bt_info;\n\tbool c2h_bt_info_req_sent;\n\tbool c2h_bt_inquiry_page;\n\tu32 bt_inq_page_start_time;\n\tu8 bt_retry_cnt;\n\tu8 c2h_bt_info_original;\n\tu8 bt_inquiry_page_cnt;\n\tstruct btdm_8723 btdm;\n};\n\nstruct rtl_hal {\n\tstruct ieee80211_hw *hw;\n\tbool driver_is_goingto_unload;\n\tbool up_first_time;\n\tbool first_init;\n\tbool being_init_adapter;\n\tbool bbrf_ready;\n\tbool mac_func_enable;\n\tbool pre_edcca_enable;\n\tstruct bt_coexist_8723 hal_coex_8723;\n\n\tenum intf_type interface;\n\tu16 hw_type;\t\t/*92c or 92d or 92s and so on */\n\tu8 ic_class;\n\tu8 oem_id;\n\tu32 version;\t\t/*version of chip */\n\tu8 state;\t\t/*stop 0, start 1 */\n\tu8 board_type;\n\tu8 package_type;\n\tu8 external_pa;\n\n\tu8 pa_mode;\n\tu8 pa_type_2g;\n\tu8 pa_type_5g;\n\tu8 lna_type_2g;\n\tu8 lna_type_5g;\n\tu8 external_pa_2g;\n\tu8 external_lna_2g;\n\tu8 external_pa_5g;\n\tu8 external_lna_5g;\n\tu8 type_glna;\n\tu8 type_gpa;\n\tu8 type_alna;\n\tu8 type_apa;\n\tu8 rfe_type;\n\n\t/*firmware */\n\tu32 fwsize;\n\tu8 *pfirmware;\n\tu16 fw_version;\n\tu16 fw_subversion;\n\tbool h2c_setinprogress;\n\tu8 last_hmeboxnum;\n\tbool fw_ready;\n\t/*Reserve page start offset except beacon in TxQ. */\n\tu8 fw_rsvdpage_startoffset;\n\tu8 h2c_txcmd_seq;\n\tu8 current_ra_rate;\n\n\t/* FW Cmd IO related */\n\tu16 fwcmd_iomap;\n\tu32 fwcmd_ioparam;\n\tbool set_fwcmd_inprogress;\n\tu8 current_fwcmd_io;\n\n\tstruct p2p_ps_offload_t p2p_ps_offload;\n\tbool fw_clk_change_in_progress;\n\tbool allow_sw_to_change_hwclc;\n\tu8 fw_ps_state;\n\t/**/\n\tbool driver_going2unload;\n\n\t/*AMPDU init min space*/\n\tu8 minspace_cfg;\t/*For Min spacing configurations */\n\n\t/* Dual mac */\n\tenum macphy_mode macphymode;\n\tenum band_type current_bandtype;\t/* 0:2.4G, 1:5G */\n\tenum band_type current_bandtypebackup;\n\tenum band_type bandset;\n\t/* dual MAC 0--Mac0 1--Mac1 */\n\tu32 interfaceindex;\n\t/* just for DualMac S3S4 */\n\tu8 macphyctl_reg;\n\tbool earlymode_enable;\n\tu8 max_earlymode_num;\n\t/* Dual mac*/\n\tbool during_mac0init_radiob;\n\tbool during_mac1init_radioa;\n\tbool reloadtxpowerindex;\n\t/* True if IMR or IQK  have done\n\t * for 2.4G in scan progress\n\t */\n\tbool load_imrandiqk_setting_for2g;\n\n\tbool disable_amsdu_8k;\n\tbool master_of_dmsp;\n\tbool slave_of_dmsp;\n\n\tu16 rx_tag;/*for 92ee*/\n\tu8 rts_en;\n\n\t/*for wowlan*/\n\tbool wow_enable;\n\tbool enter_pnp_sleep;\n\tbool wake_from_pnp_sleep;\n\tbool wow_enabled;\n\ttime64_t last_suspend_sec;\n\tu32 wowlan_fwsize;\n\tu8 *wowlan_firmware;\n\n\tu8 hw_rof_enable; /*Enable GPIO[9] as WL RF HW PDn source*/\n\n\tbool real_wow_v2_enable;\n\tbool re_init_llt_table;\n};\n\nstruct rtl_security {\n\t/*default 0 */\n\tbool use_sw_sec;\n\n\tbool being_setkey;\n\tbool use_defaultkey;\n\t/*Encryption Algorithm for Unicast Packet */\n\tenum rt_enc_alg pairwise_enc_algorithm;\n\t/*Encryption Algorithm for Brocast/Multicast */\n\tenum rt_enc_alg group_enc_algorithm;\n\t/*Cam Entry Bitmap */\n\tu32 hwsec_cam_bitmap;\n\tu8 hwsec_cam_sta_addr[TOTAL_CAM_ENTRY][ETH_ALEN];\n\t/*local Key buffer, indx 0 is for\n\t * pairwise key 1-4 is for agoup key.\n\t */\n\tu8 key_buf[KEY_BUF_SIZE][MAX_KEY_LEN];\n\tu8 key_len[KEY_BUF_SIZE];\n\n\t/*The pointer of Pairwise Key,\n\t * it always points to KeyBuf[4]\n\t */\n\tu8 *pairwise_key;\n};\n\n#define ASSOCIATE_ENTRY_NUM\t33\n\nstruct fast_ant_training {\n\tu8\tbssid[6];\n\tu8\tantsel_rx_keep_0;\n\tu8\tantsel_rx_keep_1;\n\tu8\tantsel_rx_keep_2;\n\tu32\tant_sum[7];\n\tu32\tant_cnt[7];\n\tu32\tant_ave[7];\n\tu8\tfat_state;\n\tu32\ttrain_idx;\n\tu8\tantsel_a[ASSOCIATE_ENTRY_NUM];\n\tu8\tantsel_b[ASSOCIATE_ENTRY_NUM];\n\tu8\tantsel_c[ASSOCIATE_ENTRY_NUM];\n\tu32\tmain_ant_sum[ASSOCIATE_ENTRY_NUM];\n\tu32\taux_ant_sum[ASSOCIATE_ENTRY_NUM];\n\tu32\tmain_ant_cnt[ASSOCIATE_ENTRY_NUM];\n\tu32\taux_ant_cnt[ASSOCIATE_ENTRY_NUM];\n\tu8\trx_idle_ant;\n\tbool\tbecomelinked;\n};\n\nstruct dm_phy_dbg_info {\n\ts8 rx_snrdb[4];\n\tu64 num_qry_phy_status;\n\tu64 num_qry_phy_status_cck;\n\tu64 num_qry_phy_status_ofdm;\n\tu16 num_qry_beacon_pkt;\n\tu16 num_non_be_pkt;\n\ts32 rx_evm[4];\n};\n\nstruct rtl_dm {\n\t/*PHY status for Dynamic Management */\n\tlong entry_min_undec_sm_pwdb;\n\tlong undec_sm_cck;\n\tlong undec_sm_pwdb;\t/*out dm */\n\tlong entry_max_undec_sm_pwdb;\n\ts32 ofdm_pkt_cnt;\n\tbool dm_initialgain_enable;\n\tbool dynamic_txpower_enable;\n\tbool current_turbo_edca;\n\tbool is_any_nonbepkts;\t/*out dm */\n\tbool is_cur_rdlstate;\n\tbool txpower_trackinginit;\n\tbool disable_framebursting;\n\tbool cck_inch14;\n\tbool txpower_tracking;\n\tbool useramask;\n\tbool rfpath_rxenable[4];\n\tbool inform_fw_driverctrldm;\n\tbool current_mrc_switch;\n\tu8 txpowercount;\n\tu8 powerindex_backup[6];\n\n\tu8 thermalvalue_rxgain;\n\tu8 thermalvalue_iqk;\n\tu8 thermalvalue_lck;\n\tu8 thermalvalue;\n\tu8 last_dtp_lvl;\n\tu8 thermalvalue_avg[AVG_THERMAL_NUM];\n\tu8 thermalvalue_avg_index;\n\tu8 tm_trigger;\n\tbool done_txpower;\n\tu8 dynamic_txhighpower_lvl;\t/*Tx high power level */\n\tu8 dm_flag;\t\t/*Indicate each dynamic mechanism's status. */\n\tu8 dm_flag_tmp;\n\tu8 dm_type;\n\tu8 dm_rssi_sel;\n\tu8 txpower_track_control;\n\tbool interrupt_migration;\n\tbool disable_tx_int;\n\ts8 ofdm_index[MAX_RF_PATH];\n\tu8 default_ofdm_index;\n\tu8 default_cck_index;\n\ts8 cck_index;\n\ts8 delta_power_index[MAX_RF_PATH];\n\ts8 delta_power_index_last[MAX_RF_PATH];\n\ts8 power_index_offset[MAX_RF_PATH];\n\ts8 absolute_ofdm_swing_idx[MAX_RF_PATH];\n\ts8 remnant_ofdm_swing_idx[MAX_RF_PATH];\n\ts8 remnant_cck_idx;\n\tbool modify_txagc_flag_path_a;\n\tbool modify_txagc_flag_path_b;\n\n\tbool one_entry_only;\n\tstruct dm_phy_dbg_info dbginfo;\n\n\t/* Dynamic ATC switch */\n\tbool atc_status;\n\tbool large_cfo_hit;\n\tbool is_freeze;\n\tint cfo_tail[2];\n\tint cfo_ave_pre;\n\tint crystal_cap;\n\tu8 cfo_threshold;\n\tu32 packet_count;\n\tu32 packet_count_pre;\n\tu8 tx_rate;\n\n\t/*88e tx power tracking*/\n\tu8\tswing_idx_ofdm[MAX_RF_PATH];\n\tu8\tswing_idx_ofdm_cur;\n\tu8\tswing_idx_ofdm_base[MAX_RF_PATH];\n\tbool\tswing_flag_ofdm;\n\tu8\tswing_idx_cck;\n\tu8\tswing_idx_cck_cur;\n\tu8\tswing_idx_cck_base;\n\tbool\tswing_flag_cck;\n\n\ts8\tswing_diff_2g;\n\ts8\tswing_diff_5g;\n\n\t/* DMSP */\n\tbool supp_phymode_switch;\n\n\t/* DulMac */\n\tstruct fast_ant_training fat_table;\n\n\tu8\tresp_tx_path;\n\tu8\tpath_sel;\n\tu32\tpatha_sum;\n\tu32\tpathb_sum;\n\tu32\tpatha_cnt;\n\tu32\tpathb_cnt;\n\n\tu8 pre_channel;\n\tu8 *p_channel;\n\tu8 linked_interval;\n\n\tu64 last_tx_ok_cnt;\n\tu64 last_rx_ok_cnt;\n};\n\n#define\tEFUSE_MAX_LOGICAL_SIZE\t\t\t512\n\nstruct rtl_efuse {\n\tconst struct rtl_efuse_ops *efuse_ops;\n\tbool autoload_ok;\n\tbool bootfromefuse;\n\tu16 max_physical_size;\n\n\tu8 efuse_map[2][EFUSE_MAX_LOGICAL_SIZE];\n\tu16 efuse_usedbytes;\n\tu8 efuse_usedpercentage;\n\n\tu8 autoload_failflag;\n\tu8 autoload_status;\n\n\tshort epromtype;\n\tu16 eeprom_vid;\n\tu16 eeprom_did;\n\tu16 eeprom_svid;\n\tu16 eeprom_smid;\n\tu8 eeprom_oemid;\n\tu16 eeprom_channelplan;\n\tu8 eeprom_version;\n\tu8 board_type;\n\tu8 external_pa;\n\n\tu8 dev_addr[6];\n\tu8 wowlan_enable;\n\tu8 antenna_div_cfg;\n\tu8 antenna_div_type;\n\n\tbool txpwr_fromeprom;\n\tu8 eeprom_crystalcap;\n\tu8 eeprom_tssi[2];\n\tu8 eeprom_tssi_5g[3][2]; /* for 5GL/5GM/5GH band. */\n\tu8 eeprom_pwrlimit_ht20[CHANNEL_GROUP_MAX];\n\tu8 eeprom_pwrlimit_ht40[CHANNEL_GROUP_MAX];\n\tu8 eeprom_chnlarea_txpwr_cck[MAX_RF_PATH][CHANNEL_GROUP_MAX_2G];\n\tu8 eeprom_chnlarea_txpwr_ht40_1s[MAX_RF_PATH][CHANNEL_GROUP_MAX];\n\tu8 eprom_chnl_txpwr_ht40_2sdf[MAX_RF_PATH][CHANNEL_GROUP_MAX];\n\n\tu8 internal_pa_5g[2];\t/* pathA / pathB */\n\tu8 eeprom_c9;\n\tu8 eeprom_cc;\n\n\t/*For power group */\n\tu8 eeprom_pwrgroup[2][3];\n\tu8 pwrgroup_ht20[2][CHANNEL_MAX_NUMBER];\n\tu8 pwrgroup_ht40[2][CHANNEL_MAX_NUMBER];\n\n\tu8 txpwrlevel_cck[MAX_RF_PATH][CHANNEL_MAX_NUMBER_2G];\n\t/*For HT 40MHZ pwr */\n\tu8 txpwrlevel_ht40_1s[MAX_RF_PATH][CHANNEL_MAX_NUMBER];\n\t/*For HT 40MHZ pwr */\n\tu8 txpwrlevel_ht40_2s[MAX_RF_PATH][CHANNEL_MAX_NUMBER];\n\n\t/*--------------------------------------------------------*\n\t * 8192CE\\8192SE\\8192DE\\8723AE use the following 4 arrays,\n\t * other ICs (8188EE\\8723BE\\8192EE\\8812AE...)\n\t * define new arrays in Windows code.\n\t * BUT, in linux code, we use the same array for all ICs.\n\t *\n\t * The Correspondance relation between two arrays is:\n\t * txpwr_cckdiff[][] == CCK_24G_Diff[][]\n\t * txpwr_ht20diff[][] == BW20_24G_Diff[][]\n\t * txpwr_ht40diff[][] == BW40_24G_Diff[][]\n\t * txpwr_legacyhtdiff[][] == OFDM_24G_Diff[][]\n\t *\n\t * Sizes of these arrays are decided by the larger ones.\n\t */\n\ts8 txpwr_cckdiff[MAX_RF_PATH][CHANNEL_MAX_NUMBER];\n\ts8 txpwr_ht20diff[MAX_RF_PATH][CHANNEL_MAX_NUMBER];\n\ts8 txpwr_ht40diff[MAX_RF_PATH][CHANNEL_MAX_NUMBER];\n\ts8 txpwr_legacyhtdiff[MAX_RF_PATH][CHANNEL_MAX_NUMBER];\n\n\tu8 txpwr_5g_bw40base[MAX_RF_PATH][CHANNEL_MAX_NUMBER];\n\tu8 txpwr_5g_bw80base[MAX_RF_PATH][CHANNEL_MAX_NUMBER_5G_80M];\n\ts8 txpwr_5g_ofdmdiff[MAX_RF_PATH][MAX_TX_COUNT];\n\ts8 txpwr_5g_bw20diff[MAX_RF_PATH][MAX_TX_COUNT];\n\ts8 txpwr_5g_bw40diff[MAX_RF_PATH][MAX_TX_COUNT];\n\ts8 txpwr_5g_bw80diff[MAX_RF_PATH][MAX_TX_COUNT];\n\n\tu8 txpwr_safetyflag;\t\t\t/* Band edge enable flag */\n\tu16 eeprom_txpowerdiff;\n\tu8 antenna_txpwdiff[3];\n\n\tu8 eeprom_regulatory;\n\tu8 eeprom_thermalmeter;\n\tu8 thermalmeter[2]; /*ThermalMeter, index 0 for RFIC0, 1 for RFIC1 */\n\tu16 tssi_13dbm;\n\tu8 crystalcap;\t\t/* CrystalCap. */\n\tu8 delta_iqk;\n\tu8 delta_lck;\n\n\tu8 legacy_ht_txpowerdiff;\t/*Legacy to HT rate power diff */\n\tbool apk_thermalmeterignore;\n\n\tbool b1x1_recvcombine;\n\tbool b1ss_support;\n\n\t/*channel plan */\n\tu8 channel_plan;\n};\n\nstruct rtl_efuse_ops {\n\tint (*efuse_onebyte_read)(struct ieee80211_hw *hw, u16 addr, u8 *data);\n\tvoid (*efuse_logical_map_read)(struct ieee80211_hw *hw, u8 type,\n\t\t\t\t       u16 offset, u32 *value);\n};\n\nstruct rtl_tx_report {\n\tatomic_t sn;\n\tu16 last_sent_sn;\n\tunsigned long last_sent_time;\n\tu16 last_recv_sn;\n\tstruct sk_buff_head queue;\n};\n\nstruct rtl_ps_ctl {\n\tbool pwrdomain_protect;\n\tbool in_powersavemode;\n\tbool rfchange_inprogress;\n\tbool swrf_processing;\n\tbool hwradiooff;\n\t/* just for PCIE ASPM\n\t * If it supports ASPM, Offset[560h] = 0x40,\n\t * otherwise Offset[560h] = 0x00.\n\t */\n\tbool support_aspm;\n\tbool support_backdoor;\n\n\t/*for LPS */\n\tenum rt_psmode dot11_psmode;\t/*Power save mode configured. */\n\tbool swctrl_lps;\n\tbool leisure_ps;\n\tbool fwctrl_lps;\n\tu8 fwctrl_psmode;\n\t/*For Fw control LPS mode */\n\tu8 reg_fwctrl_lps;\n\t/*Record Fw PS mode status. */\n\tbool fw_current_inpsmode;\n\tu8 reg_max_lps_awakeintvl;\n\tbool report_linked;\n\tbool low_power_enable;/*for 32k*/\n\n\t/*for IPS */\n\tbool inactiveps;\n\n\tu32 rfoff_reason;\n\n\t/*RF OFF Level */\n\tu32 cur_ps_level;\n\tu32 reg_rfps_level;\n\n\t/*just for PCIE ASPM */\n\tu8 const_amdpci_aspm;\n\tbool pwrdown_mode;\n\n\tenum rf_pwrstate inactive_pwrstate;\n\tenum rf_pwrstate rfpwr_state;\t/*cur power state */\n\n\t/* for SW LPS*/\n\tbool sw_ps_enabled;\n\tbool state;\n\tbool state_inap;\n\tbool multi_buffered;\n\tu16 nullfunc_seq;\n\tunsigned int dtim_counter;\n\tunsigned int sleep_ms;\n\tunsigned long last_sleep_jiffies;\n\tunsigned long last_awake_jiffies;\n\tunsigned long last_delaylps_stamp_jiffies;\n\tunsigned long last_dtim;\n\tunsigned long last_beacon;\n\tunsigned long last_action;\n\tunsigned long last_slept;\n\n\t/*For P2P PS */\n\tstruct rtl_p2p_ps_info p2p_ps_info;\n\tu8 pwr_mode;\n\tu8 smart_ps;\n\n\t/* wake up on line */\n\tu8 wo_wlan_mode;\n\tu8 arp_offload_enable;\n\tu8 gtk_offload_enable;\n\t/* Used for WOL, indicates the reason for waking event.*/\n\tu32 wakeup_reason;\n};\n\nstruct rtl_stats {\n\tu8 psaddr[ETH_ALEN];\n\tu32 mac_time[2];\n\ts8 rssi;\n\tu8 signal;\n\tu8 noise;\n\tu8 rate;\t\t/* hw desc rate */\n\tu8 received_channel;\n\tu8 control;\n\tu8 mask;\n\tu8 freq;\n\tu16 len;\n\tu64 tsf;\n\tu32 beacon_time;\n\tu8 nic_type;\n\tu16 length;\n\tu8 signalquality;\t/*in 0-100 index. */\n\t/* Real power in dBm for this packet,\n\t * no beautification and aggregation.\n\t */\n\ts32 recvsignalpower;\n\ts8 rxpower;\t\t/*in dBm Translate from PWdB */\n\tu8 signalstrength;\t/*in 0-100 index. */\n\tu16 hwerror:1;\n\tu16 crc:1;\n\tu16 icv:1;\n\tu16 shortpreamble:1;\n\tu16 antenna:1;\n\tu16 decrypted:1;\n\tu16 wakeup:1;\n\tu32 timestamp_low;\n\tu32 timestamp_high;\n\tbool shift;\n\n\tu8 rx_drvinfo_size;\n\tu8 rx_bufshift;\n\tbool isampdu;\n\tbool isfirst_ampdu;\n\tbool rx_is40mhzpacket;\n\tu8 rx_packet_bw;\n\tu32 rx_pwdb_all;\n\tu8 rx_mimo_signalstrength[4];\t/*in 0~100 index */\n\ts8 rx_mimo_signalquality[4];\n\tu8 rx_mimo_evm_dbm[4];\n\tu16 cfo_short[4];\t\t/* per-path's Cfo_short */\n\tu16 cfo_tail[4];\n\n\ts8 rx_mimo_sig_qual[4];\n\tu8 rx_pwr[4]; /* per-path's pwdb */\n\tu8 rx_snr[4]; /* per-path's SNR */\n\tu8 bandwidth;\n\tu8 bt_coex_pwr_adjust;\n\tbool packet_matchbssid;\n\tbool is_cck;\n\tbool is_ht;\n\tbool packet_toself;\n\tbool packet_beacon;\t/*for rssi */\n\ts8 cck_adc_pwdb[4];\t/*for rx path selection */\n\n\tbool is_vht;\n\tbool is_short_gi;\n\tu8 vht_nss;\n\n\tu8 packet_report_type;\n\n\tu32 macid;\n\tu32 bt_rx_rssi_percentage;\n\tu32 macid_valid_entry[2];\n};\n\nstruct rt_link_detect {\n\t/* count for roaming */\n\tu32 bcn_rx_inperiod;\n\tu32 roam_times;\n\n\tu32 num_tx_in4period[4];\n\tu32 num_rx_in4period[4];\n\n\tu32 num_tx_inperiod;\n\tu32 num_rx_inperiod;\n\n\tbool busytraffic;\n\tbool tx_busy_traffic;\n\tbool rx_busy_traffic;\n\tbool higher_busytraffic;\n\tbool higher_busyrxtraffic;\n\n\tu32 tidtx_in4period[MAX_TID_COUNT][4];\n\tu32 tidtx_inperiod[MAX_TID_COUNT];\n\tbool higher_busytxtraffic[MAX_TID_COUNT];\n};\n\nstruct rtl_tcb_desc {\n\tu8 packet_bw:2;\n\tu8 multicast:1;\n\tu8 broadcast:1;\n\n\tu8 rts_stbc:1;\n\tu8 rts_enable:1;\n\tu8 cts_enable:1;\n\tu8 rts_use_shortpreamble:1;\n\tu8 rts_use_shortgi:1;\n\tu8 rts_sc:1;\n\tu8 rts_bw:1;\n\tu8 rts_rate;\n\n\tu8 use_shortgi:1;\n\tu8 use_shortpreamble:1;\n\tu8 use_driver_rate:1;\n\tu8 disable_ratefallback:1;\n\n\tu8 use_spe_rpt:1;\n\n\tu8 ratr_index;\n\tu8 mac_id;\n\tu8 hw_rate;\n\n\tu8 last_inipkt:1;\n\tu8 cmd_or_init:1;\n\tu8 queue_index;\n\n\t/* early mode */\n\tu8 empkt_num;\n\t/* The max value by HW */\n\tu32 empkt_len[10];\n\tbool tx_enable_sw_calc_duration;\n};\n\nstruct rtl_wow_pattern {\n\tu8 type;\n\tu16 crc;\n\tu32 mask[4];\n};\n\n/* struct to store contents of interrupt vectors */\nstruct rtl_int {\n\tu32 inta;\n\tu32 intb;\n\tu32 intc;\n\tu32 intd;\n};\n\nstruct rtl_hal_ops {\n\tint (*init_sw_vars)(struct ieee80211_hw *hw);\n\tvoid (*deinit_sw_vars)(struct ieee80211_hw *hw);\n\tvoid (*read_chip_version)(struct ieee80211_hw *hw);\n\tvoid (*read_eeprom_info)(struct ieee80211_hw *hw);\n\tvoid (*interrupt_recognized)(struct ieee80211_hw *hw,\n\t\t\t\t     struct rtl_int *intvec);\n\tint (*hw_init)(struct ieee80211_hw *hw);\n\tvoid (*hw_disable)(struct ieee80211_hw *hw);\n\tvoid (*hw_suspend)(struct ieee80211_hw *hw);\n\tvoid (*hw_resume)(struct ieee80211_hw *hw);\n\tvoid (*enable_interrupt)(struct ieee80211_hw *hw);\n\tvoid (*disable_interrupt)(struct ieee80211_hw *hw);\n\tint (*set_network_type)(struct ieee80211_hw *hw,\n\t\t\t\tenum nl80211_iftype type);\n\tvoid (*set_chk_bssid)(struct ieee80211_hw *hw,\n\t\t\t      bool check_bssid);\n\tvoid (*set_bw_mode)(struct ieee80211_hw *hw,\n\t\t\t    enum nl80211_channel_type ch_type);\n\t u8 (*switch_channel)(struct ieee80211_hw *hw);\n\tvoid (*set_qos)(struct ieee80211_hw *hw, int aci);\n\tvoid (*set_bcn_reg)(struct ieee80211_hw *hw);\n\tvoid (*set_bcn_intv)(struct ieee80211_hw *hw);\n\tvoid (*update_interrupt_mask)(struct ieee80211_hw *hw,\n\t\t\t\t      u32 add_msr, u32 rm_msr);\n\tvoid (*get_hw_reg)(struct ieee80211_hw *hw, u8 variable, u8 *val);\n\tvoid (*set_hw_reg)(struct ieee80211_hw *hw, u8 variable, u8 *val);\n\tvoid (*update_rate_tbl)(struct ieee80211_hw *hw,\n\t\t\t\tstruct ieee80211_sta *sta, u8 rssi_leve,\n\t\t\t\tbool update_bw);\n\tvoid (*pre_fill_tx_bd_desc)(struct ieee80211_hw *hw, u8 *tx_bd_desc,\n\t\t\t\t    u8 *desc, u8 queue_index,\n\t\t\t\t    struct sk_buff *skb, dma_addr_t addr);\n\tvoid (*update_rate_mask)(struct ieee80211_hw *hw, u8 rssi_level);\n\tu16 (*rx_desc_buff_remained_cnt)(struct ieee80211_hw *hw,\n\t\t\t\t\t u8 queue_index);\n\tvoid (*rx_check_dma_ok)(struct ieee80211_hw *hw, u8 *header_desc,\n\t\t\t\tu8 queue_index);\n\tvoid (*fill_tx_desc)(struct ieee80211_hw *hw,\n\t\t\t     struct ieee80211_hdr *hdr, u8 *pdesc_tx,\n\t\t\t     u8 *pbd_desc_tx,\n\t\t\t     struct ieee80211_tx_info *info,\n\t\t\t     struct ieee80211_sta *sta,\n\t\t\t     struct sk_buff *skb, u8 hw_queue,\n\t\t\t     struct rtl_tcb_desc *ptcb_desc);\n\tvoid (*fill_fake_txdesc)(struct ieee80211_hw *hw, u8 *pdesc,\n\t\t\t\t u32 buffer_len, bool bsspspoll);\n\tvoid (*fill_tx_cmddesc)(struct ieee80211_hw *hw, u8 *pdesc,\n\t\t\t\tbool firstseg, bool lastseg,\n\t\t\t\tstruct sk_buff *skb);\n\tvoid (*fill_tx_special_desc)(struct ieee80211_hw *hw,\n\t\t\t\t     u8 *pdesc, u8 *pbd_desc,\n\t\t\t\t     struct sk_buff *skb, u8 hw_queue);\n\tbool (*query_rx_desc)(struct ieee80211_hw *hw,\n\t\t\t      struct rtl_stats *stats,\n\t\t\t      struct ieee80211_rx_status *rx_status,\n\t\t\t      u8 *pdesc, struct sk_buff *skb);\n\tvoid (*set_channel_access)(struct ieee80211_hw *hw);\n\tbool (*radio_onoff_checking)(struct ieee80211_hw *hw, u8 *valid);\n\tvoid (*dm_watchdog)(struct ieee80211_hw *hw);\n\tvoid (*scan_operation_backup)(struct ieee80211_hw *hw, u8 operation);\n\tbool (*set_rf_power_state)(struct ieee80211_hw *hw,\n\t\t\t\t   enum rf_pwrstate rfpwr_state);\n\tvoid (*led_control)(struct ieee80211_hw *hw,\n\t\t\t    enum led_ctl_mode ledaction);\n\tvoid (*set_desc)(struct ieee80211_hw *hw, u8 *pdesc, bool istx,\n\t\t\t u8 desc_name, u8 *val);\n\tu64 (*get_desc)(struct ieee80211_hw *hw, u8 *pdesc, bool istx,\n\t\t\tu8 desc_name);\n\tbool (*is_tx_desc_closed)(struct ieee80211_hw *hw,\n\t\t\t\t  u8 hw_queue, u16 index);\n\tvoid (*tx_polling)(struct ieee80211_hw *hw, u8 hw_queue);\n\tvoid (*enable_hw_sec)(struct ieee80211_hw *hw);\n\tvoid (*set_key)(struct ieee80211_hw *hw, u32 key_index,\n\t\t\tu8 *macaddr, bool is_group, u8 enc_algo,\n\t\t\tbool is_wepkey, bool clear_all);\n\tvoid (*init_sw_leds)(struct ieee80211_hw *hw);\n\tvoid (*deinit_sw_leds)(struct ieee80211_hw *hw);\n\tu32 (*get_bbreg)(struct ieee80211_hw *hw, u32 regaddr, u32 bitmask);\n\tvoid (*set_bbreg)(struct ieee80211_hw *hw, u32 regaddr, u32 bitmask,\n\t\t\t  u32 data);\n\tu32 (*get_rfreg)(struct ieee80211_hw *hw, enum radio_path rfpath,\n\t\t\t u32 regaddr, u32 bitmask);\n\tvoid (*set_rfreg)(struct ieee80211_hw *hw, enum radio_path rfpath,\n\t\t\t  u32 regaddr, u32 bitmask, u32 data);\n\tvoid (*linked_set_reg)(struct ieee80211_hw *hw);\n\tvoid (*chk_switch_dmdp)(struct ieee80211_hw *hw);\n\tvoid (*dualmac_easy_concurrent)(struct ieee80211_hw *hw);\n\tvoid (*dualmac_switch_to_dmdp)(struct ieee80211_hw *hw);\n\tbool (*phy_rf6052_config)(struct ieee80211_hw *hw);\n\tvoid (*phy_rf6052_set_cck_txpower)(struct ieee80211_hw *hw,\n\t\t\t\t\t   u8 *powerlevel);\n\tvoid (*phy_rf6052_set_ofdm_txpower)(struct ieee80211_hw *hw,\n\t\t\t\t\t    u8 *ppowerlevel, u8 channel);\n\tbool (*config_bb_with_headerfile)(struct ieee80211_hw *hw,\n\t\t\t\t\t  u8 configtype);\n\tbool (*config_bb_with_pgheaderfile)(struct ieee80211_hw *hw,\n\t\t\t\t\t    u8 configtype);\n\tvoid (*phy_lc_calibrate)(struct ieee80211_hw *hw, bool is2t);\n\tvoid (*phy_set_bw_mode_callback)(struct ieee80211_hw *hw);\n\tvoid (*dm_dynamic_txpower)(struct ieee80211_hw *hw);\n\tvoid (*c2h_command_handle)(struct ieee80211_hw *hw);\n\tvoid (*bt_wifi_media_status_notify)(struct ieee80211_hw *hw,\n\t\t\t\t\t    bool mstate);\n\tvoid (*bt_coex_off_before_lps)(struct ieee80211_hw *hw);\n\tvoid (*fill_h2c_cmd)(struct ieee80211_hw *hw, u8 element_id,\n\t\t\t     u32 cmd_len, u8 *p_cmdbuffer);\n\tvoid (*set_default_port_id_cmd)(struct ieee80211_hw *hw);\n\tbool (*get_btc_status)(void);\n\tbool (*is_fw_header)(struct rtlwifi_firmware_header *hdr);\n\tvoid (*add_wowlan_pattern)(struct ieee80211_hw *hw,\n\t\t\t\t   struct rtl_wow_pattern *rtl_pattern,\n\t\t\t\t   u8 index);\n\tu16 (*get_available_desc)(struct ieee80211_hw *hw, u8 q_idx);\n\tvoid (*c2h_ra_report_handler)(struct ieee80211_hw *hw,\n\t\t\t\t      u8 *cmd_buf, u8 cmd_len);\n};\n\nstruct rtl_intf_ops {\n\t/*com */\n\tvoid (*read_efuse_byte)(struct ieee80211_hw *hw, u16 _offset, u8 *pbuf);\n\tint (*adapter_start)(struct ieee80211_hw *hw);\n\tvoid (*adapter_stop)(struct ieee80211_hw *hw);\n\tbool (*check_buddy_priv)(struct ieee80211_hw *hw,\n\t\t\t\t struct rtl_priv **buddy_priv);\n\n\tint (*adapter_tx)(struct ieee80211_hw *hw,\n\t\t\t  struct ieee80211_sta *sta,\n\t\t\t  struct sk_buff *skb,\n\t\t\t  struct rtl_tcb_desc *ptcb_desc);\n\tvoid (*flush)(struct ieee80211_hw *hw, u32 queues, bool drop);\n\tint (*reset_trx_ring)(struct ieee80211_hw *hw);\n\tbool (*waitq_insert)(struct ieee80211_hw *hw,\n\t\t\t     struct ieee80211_sta *sta,\n\t\t\t     struct sk_buff *skb);\n\n\t/*pci */\n\tvoid (*disable_aspm)(struct ieee80211_hw *hw);\n\tvoid (*enable_aspm)(struct ieee80211_hw *hw);\n\n\t/*usb */\n};\n\nstruct rtl_mod_params {\n\t/* default: 0,0 */\n\tu64 debug_mask;\n\t/* default: 0 = using hardware encryption */\n\tbool sw_crypto;\n\n\t/* default: 0 = DBG_EMERG (0)*/\n\tint debug_level;\n\n\t/* default: 1 = using no linked power save */\n\tbool inactiveps;\n\n\t/* default: 1 = using linked sw power save */\n\tbool swctrl_lps;\n\n\t/* default: 1 = using linked fw power save */\n\tbool fwctrl_lps;\n\n\t/* default: 0 = not using MSI interrupts mode\n\t * submodules should set their own default value\n\t */\n\tbool msi_support;\n\n\t/* default: 0 = dma 32 */\n\tbool dma64;\n\n\t/* default: 1 = enable aspm */\n\tint aspm_support;\n\n\t/* default 0: 1 means disable */\n\tbool disable_watchdog;\n\n\t/* default 0: 1 means do not disable interrupts */\n\tbool int_clear;\n\n\t/* select antenna */\n\tint ant_sel;\n};\n\nstruct rtl_hal_usbint_cfg {\n\t/* data - rx */\n\tu32 in_ep_num;\n\tu32 rx_urb_num;\n\tu32 rx_max_size;\n\n\t/* op - rx */\n\tvoid (*usb_rx_hdl)(struct ieee80211_hw *, struct sk_buff *);\n\tvoid (*usb_rx_segregate_hdl)(struct ieee80211_hw *, struct sk_buff *,\n\t\t\t\t     struct sk_buff_head *);\n\n\t/* tx */\n\tvoid (*usb_tx_cleanup)(struct ieee80211_hw *, struct sk_buff *);\n\tint (*usb_tx_post_hdl)(struct ieee80211_hw *, struct urb *,\n\t\t\t       struct sk_buff *);\n\tstruct sk_buff *(*usb_tx_aggregate_hdl)(struct ieee80211_hw *,\n\t\t\t\t\t\tstruct sk_buff_head *);\n\n\t/* endpoint mapping */\n\tint (*usb_endpoint_mapping)(struct ieee80211_hw *hw);\n\tu16 (*usb_mq_to_hwq)(__le16 fc, u16 mac80211_queue_index);\n};\n\nstruct rtl_hal_cfg {\n\tu8 bar_id;\n\tbool write_readback;\n\tchar *name;\n\tchar *alt_fw_name;\n\tstruct rtl_hal_ops *ops;\n\tstruct rtl_mod_params *mod_params;\n\tstruct rtl_hal_usbint_cfg *usb_interface_cfg;\n\tenum rtl_spec_ver spec_ver;\n\n\t/*this map used for some registers or vars\n\t * defined int HAL but used in MAIN\n\t */\n\tu32 maps[RTL_VAR_MAP_MAX];\n\n};\n\nstruct rtl_locks {\n\t/* mutex */\n\tstruct mutex conf_mutex;\n\tstruct mutex ips_mutex;\t/* mutex for enter/leave IPS */\n\tstruct mutex lps_mutex;\t/* mutex for enter/leave LPS */\n\n\t/*spin lock */\n\tspinlock_t irq_th_lock;\n\tspinlock_t h2c_lock;\n\tspinlock_t rf_ps_lock;\n\tspinlock_t rf_lock;\n\tspinlock_t waitq_lock;\n\tspinlock_t entry_list_lock;\n\tspinlock_t usb_lock;\n\tspinlock_t c2hcmd_lock;\n\tspinlock_t scan_list_lock; /* lock for the scan list */\n\n\t/*FW clock change */\n\tspinlock_t fw_ps_lock;\n\n\t/*Dual mac*/\n\tspinlock_t cck_and_rw_pagea_lock;\n\n\tspinlock_t iqk_lock;\n};\n\nstruct rtl_works {\n\tstruct ieee80211_hw *hw;\n\n\t/*timer */\n\tstruct timer_list watchdog_timer;\n\tstruct timer_list dualmac_easyconcurrent_retrytimer;\n\tstruct timer_list fw_clockoff_timer;\n\tstruct timer_list fast_antenna_training_timer;\n\t/*task */\n\tstruct tasklet_struct irq_tasklet;\n\tstruct tasklet_struct irq_prepare_bcn_tasklet;\n\n\t/*work queue */\n\tstruct workqueue_struct *rtl_wq;\n\tstruct delayed_work watchdog_wq;\n\tstruct delayed_work ips_nic_off_wq;\n\tstruct delayed_work c2hcmd_wq;\n\n\t/* For SW LPS */\n\tstruct delayed_work ps_work;\n\tstruct delayed_work ps_rfon_wq;\n\tstruct delayed_work fwevt_wq;\n\n\tstruct work_struct lps_change_work;\n\tstruct work_struct fill_h2c_cmd;\n};\n\nstruct rtl_debug {\n\t/* add for debug */\n\tstruct dentry *debugfs_dir;\n\tchar debugfs_name[20];\n};\n\n#define MIMO_PS_STATIC\t\t\t0\n#define MIMO_PS_DYNAMIC\t\t\t1\n#define MIMO_PS_NOLIMIT\t\t\t3\n\nstruct rtl_dualmac_easy_concurrent_ctl {\n\tenum band_type currentbandtype_backfordmdp;\n\tbool close_bbandrf_for_dmsp;\n\tbool change_to_dmdp;\n\tbool change_to_dmsp;\n\tbool switch_in_process;\n};\n\nstruct rtl_dmsp_ctl {\n\tbool activescan_for_slaveofdmsp;\n\tbool scan_for_anothermac_fordmsp;\n\tbool scan_for_itself_fordmsp;\n\tbool writedig_for_anothermacofdmsp;\n\tu32 curdigvalue_for_anothermacofdmsp;\n\tbool changecckpdstate_for_anothermacofdmsp;\n\tu8 curcckpdstate_for_anothermacofdmsp;\n\tbool changetxhighpowerlvl_for_anothermacofdmsp;\n\tu8 curtxhighlvl_for_anothermacofdmsp;\n\tlong rssivalmin_for_anothermacofdmsp;\n};\n\nstruct ps_t {\n\tu8 pre_ccastate;\n\tu8 cur_ccasate;\n\tu8 pre_rfstate;\n\tu8 cur_rfstate;\n\tu8 initialize;\n\tlong rssi_val_min;\n};\n\nstruct dig_t {\n\tu32 rssi_lowthresh;\n\tu32 rssi_highthresh;\n\tu32 fa_lowthresh;\n\tu32 fa_highthresh;\n\tlong last_min_undec_pwdb_for_dm;\n\tlong rssi_highpower_lowthresh;\n\tlong rssi_highpower_highthresh;\n\tu32 recover_cnt;\n\tu32 pre_igvalue;\n\tu32 cur_igvalue;\n\tlong rssi_val;\n\tu8 dig_enable_flag;\n\tu8 dig_ext_port_stage;\n\tu8 dig_algorithm;\n\tu8 dig_twoport_algorithm;\n\tu8 dig_dbgmode;\n\tu8 dig_slgorithm_switch;\n\tu8 cursta_cstate;\n\tu8 presta_cstate;\n\tu8 curmultista_cstate;\n\tu8 stop_dig;\n\ts8 back_val;\n\ts8 back_range_max;\n\ts8 back_range_min;\n\tu8 rx_gain_max;\n\tu8 rx_gain_min;\n\tu8 min_undec_pwdb_for_dm;\n\tu8 rssi_val_min;\n\tu8 pre_cck_cca_thres;\n\tu8 cur_cck_cca_thres;\n\tu8 pre_cck_pd_state;\n\tu8 cur_cck_pd_state;\n\tu8 pre_cck_fa_state;\n\tu8 cur_cck_fa_state;\n\tu8 pre_ccastate;\n\tu8 cur_ccasate;\n\tu8 large_fa_hit;\n\tu8 forbidden_igi;\n\tu8 dig_state;\n\tu8 dig_highpwrstate;\n\tu8 cur_sta_cstate;\n\tu8 pre_sta_cstate;\n\tu8 cur_ap_cstate;\n\tu8 pre_ap_cstate;\n\tu8 cur_pd_thstate;\n\tu8 pre_pd_thstate;\n\tu8 cur_cs_ratiostate;\n\tu8 pre_cs_ratiostate;\n\tu8 backoff_enable_flag;\n\ts8 backoffval_range_max;\n\ts8 backoffval_range_min;\n\tu8 dig_min_0;\n\tu8 dig_min_1;\n\tu8 bt30_cur_igi;\n\tbool media_connect_0;\n\tbool media_connect_1;\n\n\tu32 antdiv_rssi_max;\n\tu32 rssi_max;\n};\n\nstruct rtl_global_var {\n\t/* from this list we can get\n\t * other adapter's rtl_priv\n\t */\n\tstruct list_head glb_priv_list;\n\tspinlock_t glb_list_lock;\n};\n\n#define IN_4WAY_TIMEOUT_TIME\t(30 * MSEC_PER_SEC)\t/* 30 seconds */\n\nstruct rtl_btc_info {\n\tu8 bt_type;\n\tu8 btcoexist;\n\tu8 ant_num;\n\tu8 single_ant_path;\n\n\tu8 ap_num;\n\tbool in_4way;\n\tunsigned long in_4way_ts;\n};\n\nstruct bt_coexist_info {\n\tstruct rtl_btc_ops *btc_ops;\n\tstruct rtl_btc_info btc_info;\n\t/* btc context */\n\tvoid *btc_context;\n\tvoid *wifi_only_context;\n\t/* EEPROM BT info. */\n\tu8 eeprom_bt_coexist;\n\tu8 eeprom_bt_type;\n\tu8 eeprom_bt_ant_num;\n\tu8 eeprom_bt_ant_isol;\n\tu8 eeprom_bt_radio_shared;\n\n\tu8 bt_coexistence;\n\tu8 bt_ant_num;\n\tu8 bt_coexist_type;\n\tu8 bt_state;\n\tu8 bt_cur_state;\t/* 0:on, 1:off */\n\tu8 bt_ant_isolation;\t/* 0:good, 1:bad */\n\tu8 bt_pape_ctrl;\t/* 0:SW, 1:SW/HW dynamic */\n\tu8 bt_service;\n\tu8 bt_radio_shared_type;\n\tu8 bt_rfreg_origin_1e;\n\tu8 bt_rfreg_origin_1f;\n\tu8 bt_rssi_state;\n\tu32 ratio_tx;\n\tu32 ratio_pri;\n\tu32 bt_edca_ul;\n\tu32 bt_edca_dl;\n\n\tbool init_set;\n\tbool bt_busy_traffic;\n\tbool bt_traffic_mode_set;\n\tbool bt_non_traffic_mode_set;\n\n\tbool fw_coexist_all_off;\n\tbool sw_coexist_all_off;\n\tbool hw_coexist_all_off;\n\tu32 cstate;\n\tu32 previous_state;\n\tu32 cstate_h;\n\tu32 previous_state_h;\n\n\tu8 bt_pre_rssi_state;\n\tu8 bt_pre_rssi_state1;\n\n\tu8 reg_bt_iso;\n\tu8 reg_bt_sco;\n\tbool balance_on;\n\tu8 bt_active_zero_cnt;\n\tbool cur_bt_disabled;\n\tbool pre_bt_disabled;\n\n\tu8 bt_profile_case;\n\tu8 bt_profile_action;\n\tbool bt_busy;\n\tbool hold_for_bt_operation;\n\tu8 lps_counter;\n};\n\nstruct rtl_btc_ops {\n\tvoid (*btc_init_variables)(struct rtl_priv *rtlpriv);\n\tvoid (*btc_init_variables_wifi_only)(struct rtl_priv *rtlpriv);\n\tvoid (*btc_deinit_variables)(struct rtl_priv *rtlpriv);\n\tvoid (*btc_init_hal_vars)(struct rtl_priv *rtlpriv);\n\tvoid (*btc_power_on_setting)(struct rtl_priv *rtlpriv);\n\tvoid (*btc_init_hw_config)(struct rtl_priv *rtlpriv);\n\tvoid (*btc_init_hw_config_wifi_only)(struct rtl_priv *rtlpriv);\n\tvoid (*btc_ips_notify)(struct rtl_priv *rtlpriv, u8 type);\n\tvoid (*btc_lps_notify)(struct rtl_priv *rtlpriv, u8 type);\n\tvoid (*btc_scan_notify)(struct rtl_priv *rtlpriv, u8 scantype);\n\tvoid (*btc_scan_notify_wifi_only)(struct rtl_priv *rtlpriv,\n\t\t\t\t\t  u8 scantype);\n\tvoid (*btc_connect_notify)(struct rtl_priv *rtlpriv, u8 action);\n\tvoid (*btc_mediastatus_notify)(struct rtl_priv *rtlpriv,\n\t\t\t\t       enum rt_media_status mstatus);\n\tvoid (*btc_periodical)(struct rtl_priv *rtlpriv);\n\tvoid (*btc_halt_notify)(struct rtl_priv *rtlpriv);\n\tvoid (*btc_btinfo_notify)(struct rtl_priv *rtlpriv,\n\t\t\t\t  u8 *tmp_buf, u8 length);\n\tvoid (*btc_btmpinfo_notify)(struct rtl_priv *rtlpriv,\n\t\t\t\t    u8 *tmp_buf, u8 length);\n\tbool (*btc_is_limited_dig)(struct rtl_priv *rtlpriv);\n\tbool (*btc_is_disable_edca_turbo)(struct rtl_priv *rtlpriv);\n\tbool (*btc_is_bt_disabled)(struct rtl_priv *rtlpriv);\n\tvoid (*btc_special_packet_notify)(struct rtl_priv *rtlpriv,\n\t\t\t\t\t  u8 pkt_type);\n\tvoid (*btc_switch_band_notify)(struct rtl_priv *rtlpriv, u8 type,\n\t\t\t\t       bool scanning);\n\tvoid (*btc_switch_band_notify_wifi_only)(struct rtl_priv *rtlpriv,\n\t\t\t\t\t\t u8 type, bool scanning);\n\tvoid (*btc_display_bt_coex_info)(struct rtl_priv *rtlpriv,\n\t\t\t\t\t struct seq_file *m);\n\tvoid (*btc_record_pwr_mode)(struct rtl_priv *rtlpriv, u8 *buf, u8 len);\n\tu8   (*btc_get_lps_val)(struct rtl_priv *rtlpriv);\n\tu8   (*btc_get_rpwm_val)(struct rtl_priv *rtlpriv);\n\tbool (*btc_is_bt_ctrl_lps)(struct rtl_priv *rtlpriv);\n\tvoid (*btc_get_ampdu_cfg)(struct rtl_priv *rtlpriv, u8 *reject_agg,\n\t\t\t\t  u8 *ctrl_agg_size, u8 *agg_size);\n\tbool (*btc_is_bt_lps_on)(struct rtl_priv *rtlpriv);\n};\n\nstruct proxim {\n\tbool proxim_on;\n\n\tvoid *proximity_priv;\n\tint (*proxim_rx)(struct ieee80211_hw *hw, struct rtl_stats *status,\n\t\t\t struct sk_buff *skb);\n\tu8  (*proxim_get_var)(struct ieee80211_hw *hw, u8 type);\n};\n\nstruct rtl_c2hcmd {\n\tstruct list_head list;\n\tu8 tag;\n\tu8 len;\n\tu8 *val;\n};\n\nstruct rtl_bssid_entry {\n\tstruct list_head list;\n\tu8 bssid[ETH_ALEN];\n\tu32 age;\n};\n\nstruct rtl_scan_list {\n\tint num;\n\tstruct list_head list;\t/* sort by age */\n};\n\nstruct rtl_priv {\n\tstruct ieee80211_hw *hw;\n\tstruct completion firmware_loading_complete;\n\tstruct list_head list;\n\tstruct rtl_priv *buddy_priv;\n\tstruct rtl_global_var *glb_var;\n\tstruct rtl_dualmac_easy_concurrent_ctl easy_concurrent_ctl;\n\tstruct rtl_dmsp_ctl dmsp_ctl;\n\tstruct rtl_locks locks;\n\tstruct rtl_works works;\n\tstruct rtl_mac mac80211;\n\tstruct rtl_hal rtlhal;\n\tstruct rtl_regulatory regd;\n\tstruct rtl_rfkill rfkill;\n\tstruct rtl_io io;\n\tstruct rtl_phy phy;\n\tstruct rtl_dm dm;\n\tstruct rtl_security sec;\n\tstruct rtl_efuse efuse;\n\tstruct rtl_led_ctl ledctl;\n\tstruct rtl_tx_report tx_report;\n\tstruct rtl_scan_list scan_list;\n\n\tstruct rtl_ps_ctl psc;\n\tstruct rate_adaptive ra;\n\tstruct dynamic_primary_cca primarycca;\n\tstruct wireless_stats stats;\n\tstruct rt_link_detect link_info;\n\tstruct false_alarm_statistics falsealm_cnt;\n\n\tstruct rtl_rate_priv *rate_priv;\n\n\t/* sta entry list for ap adhoc or mesh */\n\tstruct list_head entry_list;\n\n\t/* c2hcmd list for kthread level access */\n\tstruct sk_buff_head c2hcmd_queue;\n\n\tstruct rtl_debug dbg;\n\tint max_fw_size;\n\n\t/* hal_cfg : for diff cards\n\t * intf_ops : for diff interrface usb/pcie\n\t */\n\tstruct rtl_hal_cfg *cfg;\n\tconst struct rtl_intf_ops *intf_ops;\n\n\t/* this var will be set by set_bit,\n\t * and was used to indicate status of\n\t * interface or hardware\n\t */\n\tunsigned long status;\n\n\t/* tables for dm */\n\tstruct dig_t dm_digtable;\n\tstruct ps_t dm_pstable;\n\n\tu32 reg_874;\n\tu32 reg_c70;\n\tu32 reg_85c;\n\tu32 reg_a74;\n\tbool reg_init;\t/* true if regs saved */\n\tbool bt_operation_on;\n\t__le32 *usb_data;\n\tint usb_data_index;\n\tbool initialized;\n\tbool enter_ps;\t/* true when entering PS */\n\tu8 rate_mask[5];\n\n\t/* intel Proximity, should be alloc mem\n\t * in intel Proximity module and can only\n\t * be used in intel Proximity mode\n\t */\n\tstruct proxim proximity;\n\n\t/*for bt coexist use*/\n\tstruct bt_coexist_info btcoexist;\n\n\t/* separate 92ee from other ICs,\n\t * 92ee use new trx flow.\n\t */\n\tbool use_new_trx_flow;\n\n#ifdef CONFIG_PM\n\tstruct wiphy_wowlan_support wowlan;\n#endif\n\t/* This must be the last item so\n\t * that it points to the data allocated\n\t * beyond  this structure like:\n\t * rtl_pci_priv or rtl_usb_priv\n\t */\n\tu8 priv[0] __aligned(sizeof(void *));\n};\n\n#define rtl_priv(hw)\t\t(((struct rtl_priv *)(hw)->priv))\n#define rtl_mac(rtlpriv)\t(&((rtlpriv)->mac80211))\n#define rtl_hal(rtlpriv)\t(&((rtlpriv)->rtlhal))\n#define rtl_efuse(rtlpriv)\t(&((rtlpriv)->efuse))\n#define rtl_psc(rtlpriv)\t(&((rtlpriv)->psc))\n\n/* Bluetooth Co-existence Related */\n\nenum bt_ant_num {\n\tANT_X2 = 0,\n\tANT_X1 = 1,\n};\n\nenum bt_ant_path {\n\tANT_MAIN = 0,\n\tANT_AUX = 1,\n};\n\nenum bt_co_type {\n\tBT_2WIRE = 0,\n\tBT_ISSC_3WIRE = 1,\n\tBT_ACCEL = 2,\n\tBT_CSR_BC4 = 3,\n\tBT_CSR_BC8 = 4,\n\tBT_RTL8756 = 5,\n\tBT_RTL8723A = 6,\n\tBT_RTL8821A = 7,\n\tBT_RTL8723B = 8,\n\tBT_RTL8192E = 9,\n\tBT_RTL8812A = 11,\n};\n\nenum bt_cur_state {\n\tBT_OFF = 0,\n\tBT_ON = 1,\n};\n\nenum bt_service_type {\n\tBT_SCO = 0,\n\tBT_A2DP = 1,\n\tBT_HID = 2,\n\tBT_HID_IDLE = 3,\n\tBT_SCAN = 4,\n\tBT_IDLE = 5,\n\tBT_OTHER_ACTION = 6,\n\tBT_BUSY = 7,\n\tBT_OTHERBUSY = 8,\n\tBT_PAN = 9,\n};\n\nenum bt_radio_shared {\n\tBT_RADIO_SHARED = 0,\n\tBT_RADIO_INDIVIDUAL = 1,\n};\n\n/****************************************\n *\tmem access macro define start\n *\tCall endian free function when\n *\t1. Read/write packet content.\n *\t2. Before write integer to IO.\n *\t3. After read integer from IO.\n ****************************************/\n\n#define\tN_BYTE_ALIGMENT(__value, __aligment) ((__aligment == 1) ? \\\n\t(__value) : (((__value + __aligment - 1) / __aligment) * __aligment))\n\n/* mem access macro define end */\n\n#define byte(x, n) ((x >> (8 * n)) & 0xff)\n\n#define packet_get_type(_packet) (EF1BYTE((_packet).octet[0]) & 0xFC)\n#define RTL_WATCH_DOG_TIME\t2000\n#define MSECS(t)\t\tmsecs_to_jiffies(t)\n#define WLAN_FC_GET_VERS(fc)\t(le16_to_cpu(fc) & IEEE80211_FCTL_VERS)\n#define WLAN_FC_GET_TYPE(fc)\t(le16_to_cpu(fc) & IEEE80211_FCTL_FTYPE)\n#define WLAN_FC_GET_STYPE(fc)\t(le16_to_cpu(fc) & IEEE80211_FCTL_STYPE)\n#define WLAN_FC_MORE_DATA(fc)\t(le16_to_cpu(fc) & IEEE80211_FCTL_MOREDATA)\n#define rtl_dm(rtlpriv)\t\t(&((rtlpriv)->dm))\n\n#define\tRT_RF_OFF_LEVL_ASPM\t\tBIT(0)\t/*PCI ASPM */\n#define\tRT_RF_OFF_LEVL_CLK_REQ\t\tBIT(1)\t/*PCI clock request */\n#define\tRT_RF_OFF_LEVL_PCI_D3\t\tBIT(2)\t/*PCI D3 mode */\n/*NIC halt, re-initialize hw parameters*/\n#define\tRT_RF_OFF_LEVL_HALT_NIC\t\tBIT(3)\n#define\tRT_RF_OFF_LEVL_FREE_FW\t\tBIT(4)\t/*FW free, re-download the FW */\n#define\tRT_RF_OFF_LEVL_FW_32K\t\tBIT(5)\t/*FW in 32k */\n/*Always enable ASPM and Clock Req in initialization.*/\n#define\tRT_RF_PS_LEVEL_ALWAYS_ASPM\tBIT(6)\n/* no matter RFOFF or SLEEP we set PS_ASPM_LEVL*/\n#define\tRT_PS_LEVEL_ASPM\t\tBIT(7)\n/*When LPS is on, disable 2R if no packet is received or transmittd.*/\n#define\tRT_RF_LPS_DISALBE_2R\t\tBIT(30)\n#define\tRT_RF_LPS_LEVEL_ASPM\t\tBIT(31)\t/*LPS with ASPM */\n#define\tRT_IN_PS_LEVEL(ppsc, _ps_flg)\t\t\\\n\t((ppsc->cur_ps_level & _ps_flg) ? true : false)\n#define\tRT_CLEAR_PS_LEVEL(ppsc, _ps_flg)\t\\\n\t(ppsc->cur_ps_level &= (~(_ps_flg)))\n#define\tRT_SET_PS_LEVEL(ppsc, _ps_flg)\t\t\\\n\t(ppsc->cur_ps_level |= _ps_flg)\n\n#define FILL_OCTET_STRING(_os, _octet, _len)\t\\\n\t\t(_os).octet = (u8 *)(_octet);\t\t\\\n\t\t(_os).length = (_len);\n\n#define CP_MACADDR(des, src)\t\\\n\t((des)[0] = (src)[0], (des)[1] = (src)[1],\\\n\t(des)[2] = (src)[2], (des)[3] = (src)[3],\\\n\t(des)[4] = (src)[4], (des)[5] = (src)[5])\n\n#define\tLDPC_HT_ENABLE_RX\t\t\tBIT(0)\n#define\tLDPC_HT_ENABLE_TX\t\t\tBIT(1)\n#define\tLDPC_HT_TEST_TX_ENABLE\t\t\tBIT(2)\n#define\tLDPC_HT_CAP_TX\t\t\t\tBIT(3)\n\n#define\tSTBC_HT_ENABLE_RX\t\t\tBIT(0)\n#define\tSTBC_HT_ENABLE_TX\t\t\tBIT(1)\n#define\tSTBC_HT_TEST_TX_ENABLE\t\t\tBIT(2)\n#define\tSTBC_HT_CAP_TX\t\t\t\tBIT(3)\n\n#define\tLDPC_VHT_ENABLE_RX\t\t\tBIT(0)\n#define\tLDPC_VHT_ENABLE_TX\t\t\tBIT(1)\n#define\tLDPC_VHT_TEST_TX_ENABLE\t\t\tBIT(2)\n#define\tLDPC_VHT_CAP_TX\t\t\t\tBIT(3)\n\n#define\tSTBC_VHT_ENABLE_RX\t\t\tBIT(0)\n#define\tSTBC_VHT_ENABLE_TX\t\t\tBIT(1)\n#define\tSTBC_VHT_TEST_TX_ENABLE\t\t\tBIT(2)\n#define\tSTBC_VHT_CAP_TX\t\t\t\tBIT(3)\n\nextern u8 channel5g[CHANNEL_MAX_NUMBER_5G];\n\nextern u8 channel5g_80m[CHANNEL_MAX_NUMBER_5G_80M];\n\nstatic inline u8 rtl_read_byte(struct rtl_priv *rtlpriv, u32 addr)\n{\n\treturn rtlpriv->io.read8_sync(rtlpriv, addr);\n}\n\nstatic inline u16 rtl_read_word(struct rtl_priv *rtlpriv, u32 addr)\n{\n\treturn rtlpriv->io.read16_sync(rtlpriv, addr);\n}\n\nstatic inline u32 rtl_read_dword(struct rtl_priv *rtlpriv, u32 addr)\n{\n\treturn rtlpriv->io.read32_sync(rtlpriv, addr);\n}\n\nstatic inline void rtl_write_byte(struct rtl_priv *rtlpriv, u32 addr, u8 val8)\n{\n\trtlpriv->io.write8_async(rtlpriv, addr, val8);\n\n\tif (rtlpriv->cfg->write_readback)\n\t\trtlpriv->io.read8_sync(rtlpriv, addr);\n}\n\nstatic inline void rtl_write_byte_with_val32(struct ieee80211_hw *hw,\n\t\t\t\t\t     u32 addr, u32 val8)\n{\n\tstruct rtl_priv *rtlpriv = rtl_priv(hw);\n\n\trtl_write_byte(rtlpriv, addr, (u8)val8);\n}\n\nstatic inline void rtl_write_word(struct rtl_priv *rtlpriv, u32 addr, u16 val16)\n{\n\trtlpriv->io.write16_async(rtlpriv, addr, val16);\n\n\tif (rtlpriv->cfg->write_readback)\n\t\trtlpriv->io.read16_sync(rtlpriv, addr);\n}\n\nstatic inline void rtl_write_dword(struct rtl_priv *rtlpriv,\n\t\t\t\t   u32 addr, u32 val32)\n{\n\trtlpriv->io.write32_async(rtlpriv, addr, val32);\n\n\tif (rtlpriv->cfg->write_readback)\n\t\trtlpriv->io.read32_sync(rtlpriv, addr);\n}\n\nstatic inline u32 rtl_get_bbreg(struct ieee80211_hw *hw,\n\t\t\t\tu32 regaddr, u32 bitmask)\n{\n\tstruct rtl_priv *rtlpriv = hw->priv;\n\n\treturn rtlpriv->cfg->ops->get_bbreg(hw, regaddr, bitmask);\n}\n\nstatic inline void rtl_set_bbreg(struct ieee80211_hw *hw, u32 regaddr,\n\t\t\t\t u32 bitmask, u32 data)\n{\n\tstruct rtl_priv *rtlpriv = hw->priv;\n\n\trtlpriv->cfg->ops->set_bbreg(hw, regaddr, bitmask, data);\n}\n\nstatic inline void rtl_set_bbreg_with_dwmask(struct ieee80211_hw *hw,\n\t\t\t\t\t     u32 regaddr, u32 data)\n{\n\trtl_set_bbreg(hw, regaddr, 0xffffffff, data);\n}\n\nstatic inline u32 rtl_get_rfreg(struct ieee80211_hw *hw,\n\t\t\t\tenum radio_path rfpath, u32 regaddr,\n\t\t\t\tu32 bitmask)\n{\n\tstruct rtl_priv *rtlpriv = hw->priv;\n\n\treturn rtlpriv->cfg->ops->get_rfreg(hw, rfpath, regaddr, bitmask);\n}\n\nstatic inline void rtl_set_rfreg(struct ieee80211_hw *hw,\n\t\t\t\t enum radio_path rfpath, u32 regaddr,\n\t\t\t\t u32 bitmask, u32 data)\n{\n\tstruct rtl_priv *rtlpriv = hw->priv;\n\n\trtlpriv->cfg->ops->set_rfreg(hw, rfpath, regaddr, bitmask, data);\n}\n\nstatic inline bool is_hal_stop(struct rtl_hal *rtlhal)\n{\n\treturn (_HAL_STATE_STOP == rtlhal->state);\n}\n\nstatic inline void set_hal_start(struct rtl_hal *rtlhal)\n{\n\trtlhal->state = _HAL_STATE_START;\n}\n\nstatic inline void set_hal_stop(struct rtl_hal *rtlhal)\n{\n\trtlhal->state = _HAL_STATE_STOP;\n}\n\nstatic inline u8 get_rf_type(struct rtl_phy *rtlphy)\n{\n\treturn rtlphy->rf_type;\n}\n\nstatic inline struct ieee80211_hdr *rtl_get_hdr(struct sk_buff *skb)\n{\n\treturn (struct ieee80211_hdr *)(skb->data);\n}\n\nstatic inline __le16 rtl_get_fc(struct sk_buff *skb)\n{\n\treturn rtl_get_hdr(skb)->frame_control;\n}\n\nstatic inline u16 rtl_get_tid_h(struct ieee80211_hdr *hdr)\n{\n\treturn (ieee80211_get_qos_ctl(hdr))[0] & IEEE80211_QOS_CTL_TID_MASK;\n}\n\nstatic inline u16 rtl_get_tid(struct sk_buff *skb)\n{\n\treturn rtl_get_tid_h(rtl_get_hdr(skb));\n}\n\nstatic inline struct ieee80211_sta *get_sta(struct ieee80211_hw *hw,\n\t\t\t\t\t    struct ieee80211_vif *vif,\n\t\t\t\t\t    const u8 *bssid)\n{\n\treturn ieee80211_find_sta(vif, bssid);\n}\n\nstatic inline struct ieee80211_sta *rtl_find_sta(struct ieee80211_hw *hw,\n\t\t\t\t\t\t u8 *mac_addr)\n{\n\tstruct rtl_mac *mac = rtl_mac(rtl_priv(hw));\n\n\treturn ieee80211_find_sta(mac->vif, mac_addr);\n}\n\n#endif\n"}}, "reports": [{"events": [{"location": {"col": 6, "file": 0, "line": 1293}, "message": "WARNING use flexible-array member instead (https://www.kernel.org/doc/html/latest/process/deprecated.html#zero-length-and-one-element-arrays)"}], "macros": [], "notes": [], "path": "/src/drivers/net/wireless/realtek/rtlwifi/wifi.h", "reportHash": "1e5858f622f5a0fee12e5e1eb5574597", "checkerName": "coccinelle", "reviewStatus": null, "severity": "UNSPECIFIED"}, {"events": [{"location": {"col": 4, "file": 0, "line": 2835}, "message": "WARNING use flexible-array member instead (https://www.kernel.org/doc/html/latest/process/deprecated.html#zero-length-and-one-element-arrays)"}], "macros": [], "notes": [], "path": "/src/drivers/net/wireless/realtek/rtlwifi/wifi.h", "reportHash": "c024645dd9dd941cf8021aa5c261e623", "checkerName": "coccinelle", "reviewStatus": null, "severity": "UNSPECIFIED"}]};
      window.onload = function() {
        if (!browserCompatible) {
          setNonCompatibleBrowserMessage();
        } else {
          BugViewer.init(data.files, data.reports);
          BugViewer.create();
          BugViewer.initByUrl();
        }
      };
    </script>
  </head>
  <body>
  <div class="container">
    <div id="content">
      <div id="side-bar">
        <div class="header">
          <a href="index.html" class="button">&#8249; Return to List</a>
        </div>
        <div id="report-nav">
          <div class="header">Reports</div>
        </div>
      </div>
      <div id="editor-wrapper">
        <div class="header">
          <div id="file">
            <span class="label">File:</span>
            <span id="file-path"></span>
          </div>
          <div id="checker">
            <span class="label">Checker name:</span>
            <span id="checker-name"></span>
          </div>
          <div id="review-status-wrapper">
            <span class="label">Review status:</span>
            <span id="review-status"></span>
          </div>
        </div>
        <div id="editor"></div>
      </div>
    </div>
  </div>
  </body>
</html>
